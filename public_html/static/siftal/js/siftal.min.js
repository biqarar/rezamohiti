function logy(_val,_type){if(window.console&&window.console.log){if(!allowLogy())return!1;switch(_type){case"info":console.info(_val);break;case"warn":console.warn(_val);break;case"debug":console.debug(_val);break;case"error":console.error(_val);break;case"log":default:console.log(_val)}}return!0}function allowLogy(){var $html=document.getElementsByTagName("html")[0];return $html&&null!==$html.getAttribute("data-develop")?!0:!1}function toggleLogy(){var $html=document.getElementsByTagName("html")[0];$html&&(console.log($html.getAttribute("data-develop")),null===$html.getAttribute("data-develop")?$html.setAttribute("data-develop",""):$html.removeAttribute("data-develop"))}function modalOpenClose(){$(".modal").on("close",function(_e,_obj){var scrollTop=parseInt($("html").css("top"));$("html").removeClass("noscroll"),$("html,body").scrollTop(-scrollTop);var $this=$(this);$this.removeClass("visible"),$.each($this.data(),function(key){"modal"!==key&&$(this).removeAttr(key)})}),$(".modal").on("open",function(){if($(document).height()>$(window).height()){var scrollTop=$("html").scrollTop()?$("html").scrollTop():$("body").scrollTop();$("html").addClass("noscroll").css("top",-scrollTop)}$(this).addClass("visible");var $send=$("[data-ajaxify]",this);$send.length&&($.each($send.data(),function(key){"modal"!==key&&$send.removeAttr(key)}),$send.copyData(this,["modal"]))})}function runClockPicker(){$(".clockpicker").clockpicker()}function runDatePicker(){$(".datepicker").each(function(){var $mydatePicker=$(this),mydateOpt={};$mydatePicker.attr("maxlength",10),mydateOpt.toolbox={calendarSwitch:{enabled:!1}},mydateOpt.calendarType=$mydatePicker.attr("data-type"),mydateOpt.calendarType||(mydateOpt.calendarType="fa"===$("html").attr("lang")?"persian":"gregorian"),mydateOpt.format=$mydatePicker.attr("data-format"),mydateOpt.format||(mydateOpt.format="YYYY/MM/DD"),$mydatePicker.attr("data-alt")&&(mydateOpt.altField=$mydatePicker.attr("data-alt"),mydateOpt.altFormat=$mydatePicker.attr("data-altFormat")),$mydatePicker.attr("data-view")&&(mydateOpt.viewMode=$mydatePicker.attr("data-view")),mydateOpt.inline=void 0!==$mydatePicker.attr("data-inline")?!0:!1,mydateOpt.observer=void 0!==$mydatePicker.attr("data-off")?!1:!0,mydateOpt.autoClose=void 0!==$mydatePicker.attr("data-open")?!1:!0,void 0!==$mydatePicker.attr("data-en")&&(mydateOpt.calendar={persian:{locale:"en"}}),mydateOpt.initialValue=$mydatePicker.val()?!0:!1,mydateOpt.inline&&(mydateOpt.autoClose=!1),$mydatePicker.persianDatepicker(mydateOpt)})}function runDataResponse(){$(document).on("change","input:not([data-response-realtime]), select",function(){checkInputResponse(this,!1),checkCheckboxResponse(this,!1)}),$(document).on("input","input[data-response-realtime]",function(){checkInputResponse(this,!1)})}function getInputValue(_el){var elValue;switch($(_el).attr("type")){case"checkbox":elValue=$(_el).is(":checked");break;case"radio":elValue=$(_el).val();break;case"text":default:elValue=$(_el).val()}return elValue}function checkCheckboxResponse(_this,_firstTime){var myRequire=$(_this).attr("data-require");$(_this).is(":checked")===!0&&myRequire&&(myRequire=myRequire.split("|"),$.each(myRequire,function(index,val){$("#"+val).prop("checked",!0)}))}function checkInputResponse(_this,_firstTime){var elResult,elGroup=!1,elID=$(_this).attr("id"),elName=$(_this).attr("name"),elType=$(_this).attr("type"),elGroupEl=$(_this).parents("[data-respnse-group]"),elGet=$(_this).attr("data-response-get"),elValue=getInputValue($(_this),elType),elSelector=elName;"id"==elGet&&(elSelector=elID);var childrens=$('[data-response="'+elSelector+'"]');childrens.length<1&&(elSelector=elID,childrens=$('[data-response="'+elSelector+'"]')),childrens.length<1&&(elSelector=elID,childrens=$('[data-response*="'+elSelector+'"]')),elGroupEl.length&&elGroupEl.each(function(index,el){var myGroup=$(this).attr("data-respnse-group");elGroup=myGroup,childrens=childrens.add('[data-response*="'+myGroup+'"]')}),childrens.each(function(){var effect=$(this).attr("data-response-effect"),timing=$(this).attr("data-response-timing"),where=$(this).attr("data-response-where"),whereNot=$(this).attr("data-response-where-not"),toggle=$(this).attr("data-response-toggle"),disable=$(this).attr("data-response-disable"),classTrue=$(this).attr("data-response-class"),classFalse=$(this).attr("data-response-class-false"),callFn=$(this).attr("data-response-call"),repeat=$(this).attr("data-response-repeat");if(!disable&&$(this).attr("disabled")&&(disable=$(this).attr("disabled"),$(this).attr("data-response-disable","disabled-manual")),effect="slide"==effect?{name:"slide",toggle:"slideToggle",open:"slideDown",close:"slideUp"}:{name:"fade",toggle:"fadeToggle",open:"fadeIn",close:"fadeOut"},timing||(timing="fast"),elGroup){var groupWhere=elGroupEl.attr("data-response-where"),groupWhereNot=elGroupEl.attr("data-response-where-not"),groupWhereResult=!0;groupWhereNot&&(groupWhereResult=!1),elGroupEl.find("input").each(function(index,el){groupWhereNot?getInputValue(el).toString()!==groupWhereNot&&(groupWhereResult=!0):groupWhere&&getInputValue(el).toString()!==groupWhere&&(groupWhereResult=!1)}),where=groupWhereResult}else where?($.each(where.split("|"),function(index,whereValue){whereValue==elValue.toString()&&(where=!0)}),where!==!0&&(where=!1)):whereNot?($.each(whereNot.split("|"),function(index,whereNotValue){whereNotValue!==elValue.toString()&&(where=!0)}),where!==!0&&(where=!1)):0!=elValue&&(where=!0);if(toggle?$(this)[effect.effect](timing):where?(disable?$(this).prop("disabled",!1):void 0!==classTrue?($(this).addClass(classTrue),$(this).removeClass(classFalse)):void 0!=repeat||($(this).attr("data-response-hide",null),$(this)[effect.open](timing)),$(this).find("[data-response-focus]").length?$(this).find("[data-response-focus]").focus():$(this).closest("[data-response-focus]").focus(),elResult="open"):(disable?$(this).prop("disabled",!0):void 0!==classTrue?($(this).addClass(classFalse),$(this).removeClass(classTrue)):void 0!=repeat||$(this)[effect.close](timing,function(){$(this).attr("data-response-hide","")}),elResult="close"),void 0!=repeat){var parentValue="";switch(elType){case"checkbox":parentValue=$(_this).is(":checked"),$(this).prop("checked",parentValue);break;case"radio":case"text":default:parentValue=$(_this).val(),$(this).val(parentValue)}}callFn&&(elResult=1==elResult?!0:!1,"function"==typeof window[callFn]&&window[callFn](elResult,$(this),$(_this)))}),$(window).trigger("response:open",[elSelector,elResult])}function fixSlideJumping(){$('[data-response-hide][data-response-effect="slide"]:not([data-response-notfix])',this).css("height",function(i,h){return $(this).hide(),h})}function runSortable(){var el=$(".sortable"),mySortable=null;el.length>0&&(el=el[0],mySortable=Sortable.create(el,{handle:".handle",animation:300,filter:".fix",chosenClass:"isChoosen",onUpdate:function(e){e.item;"function"==typeof rearrangeSortable&&rearrangeSortable()}}))}function runCounterUp(){$(".counter").counterUp({delay:20,time:1e3})}function notif(_type,_msg,_title,_timeout,_opt){var notifOpt={};switch(_type){case"true":case"success":case"okay":case"ok":_type="success";break;case"warn":case"warning":_type="warning";break;case"fatal":case"danger":case"error":_type="error";break;default:_type="info"}return _msg&&(notifOpt.message=_msg),_title&&(notifOpt.title=_title),(Number.isInteger(_timeout)||0==_timeout||"false"===_timeout)&&(notifOpt.timeout=_timeout),_opt&&(_opt.position&&(notifOpt.position=_opt.position),_opt.target&&(notifOpt.target=_opt.target),_opt.icon&&(notifOpt.icon=_opt.icon),_opt.image&&(notifOpt.image=_opt.image),_opt.theme&&(notifOpt.theme=_opt.theme),_opt.iconColor&&(notifOpt.iconColor=_opt.iconColor),_opt.timeout&&Number.isInteger(_opt.timeout)&&(notifOpt.timeout=_opt.timeout)),notifOpt.layout=2,$("body").hasClass("rtl")&&(notifOpt.rtl=!0),"function"!=typeof iziToast[_type]?(logy("where is notif!?"),!1):(iziToast[_type](notifOpt),!0)}function runHtmlNotif(){$("[data-notif][data-notif-autorun]").each(function(_el){getNotifData($(this))}),$("[data-notif]").off("click"),$("[data-notif]").on("click",function(_el){getNotifData($(this))})}function getNotifData(_el){var notifOpt={};notifOpt.type=_el.attr("data-notif-type"),notifOpt.message=_el.attr("data-notif"),notifOpt.title=_el.attr("data-notif-title"),notifOpt.timeout=_el.attr("data-notif-timeout"),notifOpt.target=_el.attr("data-notif-target"),notifOpt.position=_el.attr("data-notif-pos"),notifOpt.icon=_el.attr("data-notif-icon"),notifOpt.image=_el.attr("data-notif-image"),notif(notifOpt.type,notifOpt.message,notifOpt.title,notifOpt.timeout,notifOpt)}function notifGenerator(_data,$_form){var result={error:!1};if($_form&&$_form.find("input").removeClass("error warn"),_data&&_data.msg){_data=_data.msg;for(var recordId in _data){var recordData=_data[recordId],recordDataMeta=recordData.meta,recordTitle=null,delay=void 0;if($_form&&$_form.attr("data-delay")&&(delay=$_form.attr("data-delay")),recordDataMeta&&recordDataMeta.title&&(recordTitle=recordDataMeta.title),(recordData.text||recordTitle)&&notif(recordData.type,recordData.text,recordTitle,delay,recordDataMeta),"error"==recordData.type&&(result.error=!0),$_form&&($_form.find("input").removeClass("error warn ok").parent().removeClass("error warn ok"),$_form.find("select").removeClass("error warn ok"),$_form.find("textarea").removeClass("error warn ok"),recordDataMeta)){var myElementHighlight=recordDataMeta.element;if(myElementHighlight)try{myElementHighlight=JSON.parse(myElementHighlight)}catch(e){}else _.isArray(recordDataMeta)||(myElementHighlight=recordDataMeta);myElementHighlight&&(_.isArray(myElementHighlight)?myElementHighlight:[myElementHighlight]).forEach(function(_e){var $el=$_form.find('input[name="'+_e+'"]');$el.parent().is(".input")&&($el=$el.parent()),0===$el.length&&($el=$_form.find('select[name="'+_e+'"]')),0===$el.length&&($el=$_form.find('textarea[name="'+_e+'"]')),$el.addClass(recordData.type)})}}}return result}function notifConfirm(_this,_data,_msg,_title,_okayBtn,_closeBtn){return void 0!==_this&&(_data=_this.attr("data-data"),_msg=_this.attr("data-msg"),_title=_this.attr("data-title"),_okayBtn=_this.attr("data-okayBtn"),_closeBtn=_this.attr("data-closeBtn")),_data?(void 0===_msg&&(_msg="Do you confirm?"),void 0===_title&&(_title=""),void 0===_okayBtn&&(_okayBtn="Ok"),void 0===_closeBtn&&(_closeBtn="Close"),void iziToast.show({theme:"dark",icon:"question-circle",title:_title,message:_msg,position:"center",progressBarColor:"rgb(0, 255, 184)",buttons:[["<button data-ajaxify data-method='post' data-data='"+_data+"'>"+_okayBtn+"</button>",function(instance,toast){instance.hide({transitionOut:"flipOutX"},toast,"buttonName")},!0],["<button>"+_closeBtn+"</button>",function(instance,toast){instance.hide({transitionOut:"fadeOutUp"},toast,"buttonName")}]]})):(logy("data not sended!"),!1)}function setSelectionRange(_input,_selectionStart,_selectionEnd){if(_input.setSelectionRange)_input.focus(),_input.setSelectionRange(_selectionStart,_selectionEnd);else if(_input.createTextRange){var range=_input.createTextRange();range.collapse(!0),range.moveEnd("character",_selectionEnd),range.moveStart("character",_selectionStart),range.select()}}function setCaretToPos(_input,_pos){setSelectionRange(_input,_pos,_pos)}function runTagDetector(){$(document).on("keypress",".tagDetector .tagInput",function(e){switch(e.which){case 13:case 44:case 59:return addNewTags(this),!1}}),$(document).on("click",".tagDetector .tagAdd",function(){return addNewTags(this),$(this).closest(".tagDetector").find(".tagInput").focus(),!1}),$(document).on("click",".tagDetector .tagBox span",function(){var $this=$(this),clickedTagText=$this.text().trim(),clickedTagVal=clickedTagText,myDetector=$this.closest(".tagDetector"),attrData=getTagLists(myDetector),elInput=myDetector.find(".tagInput"),attrRestrict=myDetector.attr("data-restrict");"list"===attrRestrict&&(clickedTagVal=$this.attr("data-val").trim()),attrData.splice(attrData.indexOf(clickedTagVal),1),setTagList(myDetector,attrData),elInput.val(clickedTagText).focus(),$this.remove()}),$(document).on("click",".tagDetector .specialTags span",function(){var myVal=$(this).attr("data-val"),myInput=$(this).closest(".tagDetector").find(".tagInput");return myInput.val(myVal),addNewTags(this),myInput.focus(),!1})}function initTagDetector(){var myDetector=$(".tagDetector");myDetector.each(function(_el){var myTags=getTagLists(myDetector),$Detector=$(this);$.each(myTags,function(_key,_val){addNewTagsEl($Detector,_val)})})}function addNewTags(_elChilds){var myDetector=$(_elChilds).closest(".tagDetector");if(1!=myDetector.length)return null;var elInput=myDetector.find(".tagInput"),elBox=myDetector.find(".tagBox"),attrBindInput=myDetector.attr("data-bind-input"),attrBindBox=myDetector.attr("data-bind-box"),attrRestrict=myDetector.attr("data-restrict"),attrLimit=parseInt(myDetector.attr("data-limit")),attrData=getTagLists(myDetector);if(attrData.length>=attrLimit)return"reach limit";attrBindInput&&(elInput=myDetector.find(attrBindInput)),attrBindBox&&(elBox=myDetector.find(attrBindBox));var inputText=elInput.val();if(elInput.val(""),inputText&&(inputText=inputText.trim()),!inputText)return!1;var myNewTag=inputText;if("list"===attrRestrict)return elInput.addClass("isDisallow"),void setTimeout(function(){elInput.removeClass("isDisallow")},500);if(attrData.indexOf(myNewTag)>=0){var elTagExist=elBox.find('[data-val="'+myNewTag+'"]');elTagExist.addClass("isExist"),setTimeout(function(){elTagExist.removeClass("isExist")},500)}else attrData.push(myNewTag),setTagList(myDetector,attrData),addNewTagsEl(myDetector,inputText)}function addNewTagsEl(_detector,_tag){var elBox=_detector.find(".tagBox"),attrBindBoxFormat=_detector.attr("data-box-format");attrBindBoxFormat||(attrBindBoxFormat="<span>:tag</span>");var elNewTag=attrBindBoxFormat.replace(":tag",_tag);elNewTag=$(elNewTag).attr("data-val",_tag),elBox.append(elNewTag)}function getTagLists(_detector){var attrData=_detector.find(".tagVals").val();return attrData=void 0!=attrData&&""!=attrData.trim()?attrData.split(","):[]}function setTagList(_detector,_data){var elVals=_detector.find(".tagVals"),attrBindVal=_detector.attr("data-bind-val");attrBindVal&&(elVals=_detector.find(attrBindVal)),elVals.val(_data.join())}function runTippy(){myTippy=tippy("[title]",{arrow:!0,animation:"scale",dynamicTitle:!0})}function removeTippy(){var allTippy=document.querySelectorAll("[data-tippy]");allTippy.forEach(function(_el){_el._tippy&&_el._tippy.hide()})}function bindUploader(){$("#gallery").uploader({url:window.location.href,dataType:"json",method:"POST",dropzone:".dropzone",done:function(e,data){},progress:function(e){var myPercentage=Math.round(e.loaded/e.total*100);myProgress=$(".dropzone .progress"),myProgress&&(myProgress.removeClass("shadow").attr("data-percent",myPercentage),myProgress.find(".detail").text(myPercentage+"%"))},uploaded:function(e){logy("All files uploaded"),Navigate({url:window.location.href})}})}function bindHtmlShortkey(){$(document).keydown(function(_e){shortkey_corridor.call(this,_e)})}function shortkey_corridor(_e,_self,_key){_key||(_key=_e.which),_self=$(_self);var ctrl=_e.ctrlKey?"ctrl":"",shift=_e.shiftKey?"shift":"",alt=_e.altKey?"alt":"",mytxt=String(_key)+ctrl+alt+shift,elShortkey=$("[data-shortkey= "+mytxt+"]");if(1==elShortkey.length)if(shortkeyCallFunc(elShortkey,_e))_e.preventDefault();else{if(elShortkey.is("a[href], a[href] *, button, input[type=submit]"))return void(elShortkey[0]?elShortkey[0].click():elShortkey.trigger("click"));elShortkey.is("input, select, textarea")&&elShortkey.focus(),_e.preventDefault()}else shortkeyCallFunc(elShortkey,_e)&&_e.preventDefault()}function shortkeyCallFunc(_elShortkey,_e){var myFuncCall=_elShortkey.attr("data-shortkey-call");if(void 0!==myFuncCall){if(myFuncCall="shortkey_"+myFuncCall,callFunc(myFuncCall,null,!0))return callFunc(myFuncCall,_e),!0;logy("shortkey func is not exist!")}return!1}function dropdownRunner(){$(".ui.dropdown").each(function(){var $myDropDown=$(this);return setTimeout(function(){if(void 0!==$myDropDown.attr("autofocus")){var searchEl=$myDropDown.parents(".ui.dropdown").find(".search");searchEl&&searchEl.focus()}},100),$myDropDown.hasClass("addition")?($myDropDown.dropdown({allowAdditions:!0}),!0):void 0!==$myDropDown.attr("data-source")?($myDropDown.dropdown({forceSelection:!1,minCharacters:1,apiSettings:{url:$myDropDown.attr("data-source"),cache:!1}}),!0):void 0!==$myDropDown.attr("data-search")?($myDropDown.dropdown({forceSelection:!1,minCharacters:2,action:function(_text,_value){$myDropDown.dropdown("hide"),$myDropDown.dropdown("clear");var lastResponse=$myDropDown.prop("lastData");lastResponse&&lastResponse.result&&(lastResponse=lastResponse.result,$.each(lastResponse,function(index,responseVal){responseVal&&responseVal.datalist&&responseVal.datalist.id&&_value===responseVal.datalist.id&&$("body").trigger("dropdown:selected:datalist",responseVal.datalist)})),$("body").trigger("dropdown:selected",_value)},apiSettings:{url:$myDropDown.attr("data-search"),cache:!1,onResponse:function(_serverResponse){return $myDropDown.prop("lastData",_serverResponse),_serverResponse}}}),!0):void $myDropDown.dropdown()})}function clearDropdown(_el){_el.dropdown("hide"),_el.dropdown("clear")}function callFunc(_funcName,_arg,_onlyCheckExist){if(isExist=!1,_funcName&&"function"==typeof window[_funcName]&&(isExist=!0,!_onlyCheckExist))try{window[_funcName](_arg)}catch(_err){}return isExist}function fitNumber(_num,_seperator){return _seperator!==!1?(_num=isNaN(_num)?0:parseFloat(_num),_num=_num.toLocaleString()):_num=_num.toString(),_num="fa"===$("html").attr("lang")?_num.toFarsi():"ar"===$("html").attr("lang")?_num.toArabic():_num.toEnglish()}function urlParam(_request){var i,sPageURL=decodeURIComponent(window.location.search.substring(1)),sURLVariables=sPageURL.split("&"),result=null,params=[];for(i=0;i<sURLVariables.length;i++){var cParameter=sURLVariables[i].split("="),sParameterValue=void 0===cParameter[1]?!0:cParameter[1];params[cParameter[0]]=sParameterValue}return _request?params[_request]&&(result=params[_request]):result=params,result}function clockHMRunner(){var myClockTime=$(".clock .time"),fnClockUpdater=function(){var clockNowHTML=clockNow("HtmlHMFit");myClockTime.html()!==clockNowHTML&&myClockTime.html(clockNow("HtmlHMFit"))};fnClockUpdater(),setInterval(fnClockUpdater,1e4)}function clockNow(_return){var clock={};return clock.time=new Date,clock.hour=clock.time.getHours(),clock.minute=clock.time.getMinutes(),clock.second=clock.time.getSeconds(),clock.HtmlHour='<span class="hour">'+addZero(clock.hour)+"</span>",clock.HtmlMinute='<span class="minute">'+addZero(clock.minute)+"</span>",clock.HtmlSecond='<span class="second">'+addZero(clock.second)+"</span>",clock.Html=clock.HtmlHour+":"+clock.HtmlMinute+":"+clock.HtmlSecond,clock.HtmlFit=fitNumber(clock.Html,!1),clock.HtmlHM=clock.HtmlHour+":"+clock.HtmlMinute,clock.HtmlHMFit=fitNumber(clock.HtmlHM,!1),_return?clock[_return]:clock}function addZero(i){return 10>i&&(i="0"+i),i}function runInputFileFunc(){$('input[type="file"]').on("change",function(){var $this=$(this),$fileBox=$this.parents(".input"),$cropperBox=$this.parents(".cropper"),myFile=this.files[0];if(!myFile)return $this.attr("data-size",null),!1;var fileSize=Math.round(myFile.size/1024);if($this.attr("data-size",fileSize),checkInputFileSize(fileSize,$this,$fileBox),checkInputPreview(!1,myFile,fileSize,$this,$fileBox),$this.attr("data-crop")){var $modal=$("#"+$this.attr("data-crop"));$modal.trigger("open",$fileBox),$cropperBox.find("[data-ok]").off("click"),$cropperBox.find("[data-ok]").on("click",function(){{var cropObj=$cropperBox.data("cropObj"),$croppedInput=$cropperBox.find(".input.preview");$croppedInput.find("input[type=file]")}return canvasImg=cropObj.getCroppedCanvas(),canvasImg?void canvasImg.toBlob(function(_blob){myUrl=URL.createObjectURL(_blob),logy(myUrl),checkInputPreview(!0,myUrl,fileSize,$this,$fileBox),logy("replaced image")}):(logy("has error! not found!"),!1)}),$cropperBox.find("[data-cancel]").off("click"),$cropperBox.find("[data-cancel]").on("click",function(){logy("cancel..."),checkInputPreview(!0,null,fileSize,$this,$fileBox)})}})}function checkInputFileSize(_size,_input,_inputBox){var hasError=null;_input.attr("data-min")&&_size<_input.attr("data-min")&&(hasError=!0),_input.attr("data-max")&&_size>_input.attr("data-max")&&(hasError=!0),hasError?(_inputBox.addClass("error"),_inputBox.removeClass("warning"),_inputBox.removeClass("ok")):(_inputBox.removeClass("error"),_inputBox.removeClass("warning"),_inputBox.addClass("ok"))}function checkInputPreview(_direct,_file,_size,_input,_inputBox){if(!_direct&&void 0===_input.attr("data-preview"))return!1;var myLabel=_input.parent().find("label"),myImgPrev=myLabel.find("img");if(_size&&_size>1024)return myImgPrev&&myImgPrev.attr("src",null),_inputBox.addClass("error"),_inputBox.removeClass("ok"),_inputBox.removeClass("warning"),!1;if(_inputBox.removeClass("error"),_inputBox.removeClass("ok"),_inputBox.removeClass("warning"),myImgPrev.length<1){var myImg=document.createElement("img");myImg.id=_input.attr("id")+"Preview",myLabel.html(myImg),myImgPrev=myLabel.find("img")}var imgPath=_input[0].value,imgExt=imgPath.substring(imgPath.lastIndexOf(".")+1).toLowerCase();if("gif"==imgExt||"png"==imgExt||"jpg"==imgExt||"jpeg"==imgExt)if(_direct)myImgPrev.attr("src",_file),_file&&_inputBox.addClass("ok");else if("undefined"!=typeof FileReader){var reader=new FileReader;reader.onload=function(e){myImgPrev.attr("src",e.target.result)},reader.readAsDataURL(_file),_inputBox.addClass("ok")}else{logy("file reader is undefined!");var blobURL=window.URL.createObjectURL(_file);myImgPrev.attr("src",blobURL),_inputBox.addClass("warning")}else logy("we cant preview this type of file"),myImgPrev.attr("src",null),_inputBox.addClass("warning")}function setLanguageURL(){if(!($(".langlist a").length<1)){var urlPath=window.location.pathname,urlHash=window.location.hash,urlSearch=window.location.search,indexOfLang=urlPath.indexOf("/"+$("html").attr("lang")),urlBase=$("base").attr("href");urlBase&&(urlBase=urlBase.substr(0,urlBase.indexOf("/",9))),urlPath=urlPath.substr(0===indexOfLang?4:1),$(".langlist a").each(function(key,index){var lang=$(index).attr("hreflang");lang==$("html").attr("lang")&&$(index).attr("class","isActive"),lang==$("html").attr("lang");var myUrl=urlPath;lang&&(myUrl=lang+"/"+myUrl),urlHash&&(myUrl+=urlHash),myUrl=urlBase+"/"+myUrl,"/"==myUrl.charAt(myUrl.length-1)&&(myUrl=myUrl.substr(0,myUrl.length-1)),urlSearch&&(myUrl=myUrl.urlSearch),$(index).attr("href",myUrl)})}}function responsiveSidebar(){$("body").on("click",function(_e){$(_e.target).parents("#sidenavHandler").length?$("body").attr("data-sidebar","dada"):$(_e.target).parents("#sidebar").length||$(_e.target).is("#sidebar")||void 0===$("body").attr("data-sidebar")||$("body").attr("data-sidebar",null)}),$("#sidebar a[href]").on("click",function(){setTimeout(function(){$("body").attr("data-sidebar",null)},500)}),$(".toggleClean").off("click"),$(".toggleClean").on("click",function(){void 0===$("body").attr("data-clean")?$("body").attr("data-clean",""):($("body").attr("data-clean",null),$("body").attr("data-sidebar",null))})}function checkLifeOfPage(){return $life=$("body").attr("data-life"),$.isNumeric($life)&&$life>=0?($life=1e3*$life,void setTimeout(function(){Navigate({url:window.location.pathname,replace:!0})},$life)):!1}function handleEnterEvents(){logy("welcome to enter;)"),$("input").on("input",function(){runDataRequire()}),allowTogglePass(),runTimer(),runDataRequire(!0)}function runDataRequire(_firstTime){$("[data-require]").each(function(){var $this=$(this),requireEl=$this.attr("data-require"),requireElVal=$("#"+requireEl).val(),checkResult=null;switch(requireEl){case"mobile":checkResult=validateMobile(requireElVal);break;case"usercode":checkResult=validateUsercode(requireElVal)}checkResult?(_firstTime||$this.slideDown(300),$this.removeClass("hide")):_firstTime?$this.addClass("hide"):$this.slideUp(200,function(){$this.addClass("hide")})})}function allowTogglePass(){$("#eramzNew label, #eramz label").on("click",function(){var inputEl=$(this).parent().find("input"),oldVal=inputEl.attr("type");"password"===oldVal?inputEl.attr("type","text"):inputEl.attr("type","password")})}function runTimer(){$("[data-timer]").each(function(_index,_el){startTimer($(_el).attr("data-timer"),$(_el))})}function startTimer(duration,display){var minutes,seconds,timer=duration,myInterval=setInterval(function(){minutes=parseInt(timer/60,10),seconds=parseInt(timer%60,10),minutes=10>minutes?"0"+minutes:minutes,seconds=10>seconds?"0"+seconds:seconds,display.text(minutes+":"+seconds),--timer<=0&&(display.attr("data-href")&&display.attr("href",display.attr("data-href")),display.attr("data-text")&&display.fadeOut(function(){$(this).text(display.attr("data-text"))}).fadeIn(),logy("finish"),clearInterval(myInterval))},1e3)}function validateUsercode(_user){if(!_user)return null;_user=_user.toString();var numLen=_user.length,result=null;return result=numLen>=5&&30>=numLen?!0:!1}function validateMobile(_number){if(!_number)return null;_number=_number.toString();var result=!0,numLen=_number.length;return numLen>=7&&15>=numLen?validateIranMobile(_number,!0)&&(result=validateIranMobile("fa"===$("html").attr("lang")?_number:_number)):result=!1,result}function validateIranMobile(_number,_onlyCheck){var status=null;return status=_onlyCheck===!0?!!_number.match(/^((\+|00)?98|0)?9[0-3](\d{0,15})$/):!!_number.match(/^((\+|00)?98|0)?9[0-3](\d{8})$/)}function weAreHereChecker(){var pathLoc=document.location.pathname,fullLoc=document.location.href,ListHere=$('body [href="'+fullLoc+'"]'),fullLocDir=document.location.protocol+"//"+document.location.hostname+pathLoc,ListHereDir=$('body [href="'+pathLoc+'"], body [href="'+fullLocDir+'"]');$(".weAreHere").removeClass("weAreHere"),ListHere.addClass("weAreHere"),$(".weAreHereDir").removeClass("weAreHereDir"),ListHereDir.addClass("weAreHereDir")}function clearJson(_data,_forceArray){var list=null;return _data&&_data.result&&_data.result.list&&(list=_data.result.list,list=JSON.parse(list),list||(list=[])),!list&&_forceArray&&(list=[]),list}function watchScroll(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var hash=this.hash,target=$(hash);if(target=target.length?target:$("[name="+hash.slice(1)+"]"),target.length)return scrollSmooth(target,hash),!1}}),$("[data-scroll-to]").click(function(){var hashtag=$(this).attr("data-scroll-to"),target=$("#"+hashtag);scrollSmooth(target,hashtag)})}function findPushStateScroll(){var target=$("[data-scroll]:last");scrollSmooth(target,null,200,target.attr("data-scroll"))}function scrollSmooth(_target,_hashtag,_timing,_arg){_target&&1==_target.length&&(_timing?setTimeout(function(){scrollSmoothTo(_target,_hashtag,2*_timing,_arg)},_timing):scrollSmoothTo(_target,_hashtag,0,_arg))}function scrollSmoothTo(_target,_hashtag,_timing,_arg){if("off"===_arg)return!1;var targetOffset;targetOffset=$.isNumeric(_target)?_target:"top"===_target?0:_target.offset().top-10,(100>targetOffset||"top"===_arg)&&(targetOffset=0);var currentPos=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,diff=Math.abs(currentPos-targetOffset);if(50>diff)return!1;_timing>500?_timing=300:(_timing=Math.round(diff/2),100>_timing?_timing=100:_timing>1500&&(_timing=1e3));var page=$("html, body");page.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){page.stop()}),page.animate({scrollTop:targetOffset},_timing,function(){_hashtag&&(window.location.hash=_hashtag),page.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove")})}function scrollSmoothDetector(_direct){var hashtag=$(window.location.hash),hashtagFake=urlParam("hashtag")?$("#"+urlParam("hashtag")):"";hashtag.length?scrollSmooth(hashtag,null,1e3):hashtagFake.length?scrollSmooth(hashtagFake,null,1e3):1!=_direct&&findPushStateScroll()}function inputChecker(){var checkAjaxRequest=null;$(document).on("input","input[data-check]",function(){var iThis=$(this),iCheckURL=iThis.attr("data-check");iCheckURL+="?"+iThis.attr("name")+"="+$(this).val(),checkAjaxRequest=jQuery.ajax({type:"GET",url:iCheckURL,beforeSend:function(){null!=checkAjaxRequest&&checkAjaxRequest.abort()},success:function(data){notifGenerator(data,iThis.parent()),iThis.attr("data-check-fn")&&callFunc(iThis.attr("data-check-fn"))}})})}function pushStateSiftal(_direct){modalOpenClose(),runDataResponse(),runInputFileFunc(),responsiveSidebar(),setLanguageURL(),runSortable(),runClockPicker(),runCounterUp(),runHtmlNotif(),runDatePicker(),weAreHereChecker(),scrollSmoothDetector(_direct),watchScroll(),runTippy(),initTagDetector(),bindUploader(),dropdownRunner(),$("body").hasClass("enter")&&handleEnterEvents(),callFunc("pushState",_direct),callFunc("pushStateFinal",_direct),callFunc("chartDrawer",_direct)}function beforePushStateSiftal(){removeTippy(),callFunc("removeAmcharts4")}!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}function D(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),
c=sb(a,b),qb.detach()),rb[a]=c),c}function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Fb(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;e--;)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===oc;return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function uc(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Bc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Bc(a+"["+e+"]",b[e],c,d)}function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.1",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&(d=b.apply(a[e],c),d!==!1);e++);else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g)for(;f>e&&(d=b.call(a[e],e,a[e]),d!==!1);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){for(o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;l--;)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}function pb(){}function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=ub(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(m=0;o=a[m++];)if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(m=0;o=b[m++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[u]||(l[u]={}))[a]=[w,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);return pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)},h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=X.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a);

},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,h,c))>-1;)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;j--;)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){for(b=(b||"").match(E)||[""],j=b.length;j--;)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=p[f++])&&!b.isPropagationStopped();)b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td,n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c))for(j=0;e=f[j++];)fb.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={},ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f),a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}}))}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}}),n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return a&&3!==f&&8!==f&&2!==f?typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0;

},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=n(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)):void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=l.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f)for(f={};b=ic.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join("&").replace(wc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Dc)Dc[a]()}),k.cors=!!Fc&&"withCredentials"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jc;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n}),jQuery.fn.tagName=function(){return(this.prop("nodeName")||"").toLowerCase()},jQuery.fn.isAbsoluteURL=function(){var base=location.protocol+"//"+location.host,prop=this.prop("href"),attr=this.attr("href");return 0!==prop.indexOf(base)&&(prop===attr||prop===attr+"/")},jQuery.fn.copyData=function(el,dont){var $target=$(el),$this=$(this);return void 0!==$target.attr("data-softcopy")?(void 0!==$target.attr("data-overwrite")&&$this.removeData(),$this.data($target.data())):(void 0!==$target.attr("data-overwrite")&&($.each($this.data(),function(key,val){$this.attr("data-"+key,null)}),$this.removeData()),$this.data($target.data()),$.each($target.data(),function(key,val){dont&&dont.indexOf(key)>-1||$this.attr("data-"+key,"object"==typeof val?JSON.stringify(val):val)})),this},jQuery.fn.hasAttr=function(attr){return void 0!==this.attr(attr)},jQuery.fn.fadeOutAndRemove=function(speed){$(this).stop().fadeOut({duration:speed,complete:function(){$(this).remove()}})},jQuery.fn.moveAndRemove=function(speed){var duration=speed||1e3;$(this).stop().css("position","relative").animate({transformtranslateX:"-500px",opacity:-.2},{duration:duration,step:function(now,fx){if(fx.prop.indexOf("transform")>-1){var fn=fx.prop.slice(9);fx.elem.style.transform=fn+"("+Math.round(now)+"px)"}},complete:function(){$(this).remove()}})},function(root){function stringify(something){return"object"==typeof something?JSON.stringify(something):something}function parse(something){try{var object=JSON.parse(something);return object}catch(e){}var num=+something;return isNaN(num)?something:num}var LS={set:function(a,b){return localStorage.setItem(a,stringify(b))},get:function(a){return parse(localStorage.getItem(a))},remove:function(a){return localStorage.removeItem(a)},has:function(a){return"undefined"!=typeof localStorage.getItem(a)},push:function(a){var items=[].slice.call(arguments,1),target=LS.get(a)||[];return LS.set(a,target.concat(items))},extend:function(a,b){var item=LS.get(a)||{};return _.extend(item,b),LS.set(a,item)}};root.LS=LS}(this),function(e,t){$(document).ready(function(){function closeModalTrigger(_type){$(".modal.visible").length&&($(".modal").trigger("close"),_type&&$(".modal").trigger(_type))}$(document.body).click(function(e){var $target=$(e.target);if($target.is("[data-modal]")||$target.parents("[data-modal]").length||$target.is(".modal-dialog")||$target.parents(".modal-dialog").length||$(".modal.visible").hasAttr("data-always")){var myModal=$(".modal.visible");return void(myModal.hasAttr("data-always")&&$target.is(myModal)&&(myModal.addClass("focusing"),setTimeout(function(){myModal.removeClass("focusing")},300)))}closeModalTrigger("exit")}),$(window).keydown(function(e){27===e.which&&closeModalTrigger("exit")}),$(document).on("click","[data-modal]",function(e){var $this=$(this);if(!($this.hasClass("modal")||$this.parents(".modal").length>0)){e.preventDefault();var $modal=$("#"+$this.attr("data-modal"));$modal.copyData($this,["modal"]),$modal.trigger("open",$this)}}),$(document).on("click","[data-cancel]",function(e){closeModalTrigger("cancel")}),$(document).on("click","[data-ok]",function(e){closeModalTrigger("ok")})})}(this),function(root){function extend(protoProps,staticProps){var child,parent=this;child=protoProps&&_.has(protoProps,"constructor")?protoProps.constructor:function(){return parent.apply(this,arguments)},_.extend(child,parent,staticProps);var Surrogate=function(){this.constructor=child};return Surrogate.prototype=parent.prototype,child.prototype=new Surrogate,protoProps&&_.extend(child.prototype,protoProps),child.__super__=parent.prototype,child}function launchFullscreen(element){element.requestFullscreen?element.requestFullscreen():element.mozRequestFullScreen?element.mozRequestFullScreen():element.webkitRequestFullscreen?element.webkitRequestFullscreen():element.msRequestFullscreen&&element.msRequestFullscreen()}$.fn.getData=function(){var d={};return $(this).find("input").each(function(){d[this.name]=this.value}),d},$.fn.putData=function(d){$(this).find("input").each(function(){var k=d[this.name];k&&(this.value=k)})},String.prototype.toEnglish=function(){var result=this.split("").map(function(a){var code=a.charCodeAt(0);return code>1785||1776>code?code>1641||1632>code?a:String.fromCharCode(code-1584):String.fromCharCode(code-1728)}).join("");return result},String.prototype.toFarsi=function(){var result=this.split("").map(function(a){var code=a.charCodeAt(0);return code>57||48>code?a:String.fromCharCode(code+1728)}).join("");return result},String.prototype.toArabic=function(){var result=this.split("").map(function(a){var code=a.charCodeAt(0);return code>57||48>code?a:String.fromCharCode(code+1584)}).join("");return result},root.extend=extend,root.launchFullscreen=launchFullscreen}(this),function(){var n=this,t=n._,r=Array.prototype,e=Object.prototype,u=Function.prototype,i=r.push,a=r.slice,o=r.concat,l=e.toString,c=e.hasOwnProperty,f=Array.isArray,s=Object.keys,p=u.bind,h=function(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):n._=h,h.VERSION="1.7.0";var g=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}};h.iteratee=function(n,t,r){return null==n?h.identity:h.isFunction(n)?g(n,t,r):h.isObject(n)?h.matches(n):h.property(n)},h.each=h.forEach=function(n,t,r){if(null==n)return n;t=g(t,r);var e,u=n.length;if(u===+u)for(e=0;u>e;e++)t(n[e],e,n);else{var i=h.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},h.map=h.collect=function(n,t,r){if(null==n)return[];t=h.iteratee(t,r);for(var e,u=n.length!==+n.length&&h.keys(n),i=(u||n).length,a=Array(i),o=0;i>o;o++)e=u?u[o]:o,a[o]=t(n[e],e,n);return a};var v="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(n,t,r,e){null==n&&(n=[]),t=g(t,e,4);var u,i=n.length!==+n.length&&h.keys(n),a=(i||n).length,o=0;if(arguments.length<3){if(!a)throw new TypeError(v);r=n[i?i[o++]:o++]}for(;a>o;o++)u=i?i[o]:o,r=t(r,n[u],u,n);return r},h.reduceRight=h.foldr=function(n,t,r,e){null==n&&(n=[]),t=g(t,e,4);var u,i=n.length!==+n.length&&h.keys(n),a=(i||n).length;if(arguments.length<3){if(!a)throw new TypeError(v);r=n[i?i[--a]:--a]}for(;a--;)u=i?i[a]:a,r=t(r,n[u],u,n);return r},h.find=h.detect=function(n,t,r){var e;return t=h.iteratee(t,r),h.some(n,function(n,r,u){return t(n,r,u)?(e=n,!0):void 0}),e},h.filter=h.select=function(n,t,r){var e=[];return null==n?e:(t=h.iteratee(t,r),h.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e)},h.reject=function(n,t,r){return h.filter(n,h.negate(h.iteratee(t)),r)},h.every=h.all=function(n,t,r){if(null==n)return!0;t=h.iteratee(t,r);var e,u,i=n.length!==+n.length&&h.keys(n),a=(i||n).length;for(e=0;a>e;e++)if(u=i?i[e]:e,!t(n[u],u,n))return!1;return!0},h.some=h.any=function(n,t,r){if(null==n)return!1;t=h.iteratee(t,r);var e,u,i=n.length!==+n.length&&h.keys(n),a=(i||n).length;for(e=0;a>e;e++)if(u=i?i[e]:e,t(n[u],u,n))return!0;return!1},h.contains=h.include=function(n,t){return null==n?!1:(n.length!==+n.length&&(n=h.values(n)),h.indexOf(n,t)>=0)},h.invoke=function(n,t){var r=a.call(arguments,2),e=h.isFunction(t);return h.map(n,function(n){return(e?t:n[t]).apply(n,r)})},h.pluck=function(n,t){return h.map(n,h.property(t))},h.where=function(n,t){return h.filter(n,h.matches(t))},h.findWhere=function(n,t){return h.find(n,h.matches(t))},h.max=function(n,t,r){var e,u,i=-1/0,a=-1/0;if(null==t&&null!=n){n=n.length===+n.length?n:h.values(n);for(var o=0,l=n.length;l>o;o++)e=n[o],e>i&&(i=e)}else t=h.iteratee(t,r),h.each(n,function(n,r,e){u=t(n,r,e),(u>a||u===-1/0&&i===-1/0)&&(i=n,a=u)});return i},h.min=function(n,t,r){var e,u,i=1/0,a=1/0;if(null==t&&null!=n){n=n.length===+n.length?n:h.values(n);for(var o=0,l=n.length;l>o;o++)e=n[o],i>e&&(i=e)}else t=h.iteratee(t,r),h.each(n,function(n,r,e){u=t(n,r,e),(a>u||1/0===u&&1/0===i)&&(i=n,a=u)});return i},h.shuffle=function(n){for(var t,r=n&&n.length===+n.length?n:h.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=h.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},h.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=h.values(n)),n[h.random(n.length-1)]):h.shuffle(n).slice(0,Math.max(0,t))},h.sortBy=function(n,t,r){return t=h.iteratee(t,r),h.pluck(h.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var m=function(n){return function(t,r,e){var u={};return r=h.iteratee(r,e),h.each(t,function(e,i){var a=r(e,i,t);n(u,e,a)}),u}};h.groupBy=m(function(n,t,r){h.has(n,r)?n[r].push(t):n[r]=[t]}),h.indexBy=m(function(n,t,r){n[r]=t}),h.countBy=m(function(n,t,r){h.has(n,r)?n[r]++:n[r]=1}),h.sortedIndex=function(n,t,r,e){r=h.iteratee(r,e,1);for(var u=r(t),i=0,a=n.length;a>i;){var o=i+a>>>1;r(n[o])<u?i=o+1:a=o}return i},h.toArray=function(n){return n?h.isArray(n)?a.call(n):n.length===+n.length?h.map(n,h.identity):h.values(n):[]},h.size=function(n){return null==n?0:n.length===+n.length?n.length:h.keys(n).length},h.partition=function(n,t,r){t=h.iteratee(t,r);var e=[],u=[];return h.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},h.first=h.head=h.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:a.call(n,0,t)},h.initial=function(n,t,r){return a.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},h.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:a.call(n,Math.max(n.length-t,0))},h.rest=h.tail=h.drop=function(n,t,r){return a.call(n,null==t||r?1:t)},h.compact=function(n){return h.filter(n,h.identity)};var y=function(n,t,r,e){if(t&&h.every(n,h.isArray))return o.apply(e,n);for(var u=0,a=n.length;a>u;u++){var l=n[u];h.isArray(l)||h.isArguments(l)?t?i.apply(e,l):y(l,t,r,e):r||e.push(l)}return e};h.flatten=function(n,t){return y(n,t,!1,[])},h.without=function(n){return h.difference(n,a.call(arguments,1))},h.uniq=h.unique=function(n,t,r,e){if(null==n)return[];h.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=h.iteratee(r,e));for(var u=[],i=[],a=0,o=n.length;o>a;a++){var l=n[a];if(t)a&&i===l||u.push(l),i=l;else if(r){var c=r(l,a,n);h.indexOf(i,c)<0&&(i.push(c),u.push(l))}else h.indexOf(u,l)<0&&u.push(l)}return u},h.union=function(){return h.uniq(y(arguments,!0,!0,[]))},h.intersection=function(n){if(null==n)return[];for(var t=[],r=arguments.length,e=0,u=n.length;u>e;e++){var i=n[e];if(!h.contains(t,i)){for(var a=1;r>a&&h.contains(arguments[a],i);a++);a===r&&t.push(i)}}return t},h.difference=function(n){var t=y(a.call(arguments,1),!0,!0,[]);return h.filter(n,function(n){return!h.contains(t,n)})},h.zip=function(n){if(null==n)return[];for(var t=h.max(arguments,"length").length,r=Array(t),e=0;t>e;e++)r[e]=h.pluck(arguments,e);return r},h.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},h.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=h.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}for(;u>e;e++)if(n[e]===t)return e;return-1},h.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=n.length;for("number"==typeof r&&(e=0>r?e+r+1:Math.min(e,r+1));--e>=0;)if(n[e]===t)return e;return-1},h.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var d=function(){};h.bind=function(n,t){var r,e;if(p&&n.bind===p)return p.apply(n,a.call(arguments,1));if(!h.isFunction(n))throw new TypeError("Bind must be called on a function");return r=a.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(a.call(arguments)));d.prototype=n.prototype;var u=new d;d.prototype=null;var i=n.apply(u,r.concat(a.call(arguments)));return h.isObject(i)?i:u}},h.partial=function(n){var t=a.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===h&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},h.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=h.bind(n[r],n);return n},h.memoize=function(n,t){var r=function(e){var u=r.cache,i=t?t.apply(this,arguments):e;return h.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},h.delay=function(n,t){var r=a.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},h.defer=function(n){return h.delay.apply(h,[n,1].concat(a.call(arguments,1)))},h.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var l=function(){o=r.leading===!1?0:h.now(),a=null,i=n.apply(e,u),a||(e=u=null)};return function(){var c=h.now();o||r.leading!==!1||(o=c);var f=t-(c-o);return e=this,u=arguments,0>=f||f>t?(clearTimeout(a),a=null,o=c,i=n.apply(e,u),a||(e=u=null)):a||r.trailing===!1||(a=setTimeout(l,f)),i}},h.debounce=function(n,t,r){var e,u,i,a,o,l=function(){var c=h.now()-a;t>c&&c>0?e=setTimeout(l,t-c):(e=null,r||(o=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,a=h.now();var c=r&&!e;return e||(e=setTimeout(l,t)),c&&(o=n.apply(i,u),i=u=null),o}},h.wrap=function(n,t){return h.partial(t,n)},h.negate=function(n){return function(){return!n.apply(this,arguments)}},h.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},h.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},h.before=function(n,t){var r;return function(){return--n>0?r=t.apply(this,arguments):t=null,r}},h.once=h.partial(h.before,2),h.keys=function(n){if(!h.isObject(n))return[];if(s)return s(n);var t=[];for(var r in n)h.has(n,r)&&t.push(r);return t},h.values=function(n){for(var t=h.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},h.pairs=function(n){for(var t=h.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},h.invert=function(n){for(var t={},r=h.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},h.functions=h.methods=function(n){var t=[];for(var r in n)h.isFunction(n[r])&&t.push(r);return t.sort()},h.extend=function(n){if(!h.isObject(n))return n;for(var t,r,e=1,u=arguments.length;u>e;e++){t=arguments[e];for(r in t)c.call(t,r)&&(n[r]=t[r])}return n},h.pick=function(n,t,r){var e,u={};if(null==n)return u;if(h.isFunction(t)){t=g(t,r);for(e in n){var i=n[e];t(i,e,n)&&(u[e]=i)}}else{var l=o.apply([],a.call(arguments,1));n=new Object(n);for(var c=0,f=l.length;f>c;c++)e=l[c],e in n&&(u[e]=n[e])}return u},h.omit=function(n,t,r){if(h.isFunction(t))t=h.negate(t);else{var e=h.map(o.apply([],a.call(arguments,1)),String);

t=function(n,t){return!h.contains(e,t)}}return h.pick(n,t,r)},h.defaults=function(n){if(!h.isObject(n))return n;for(var t=1,r=arguments.length;r>t;t++){var e=arguments[t];for(var u in e)void 0===n[u]&&(n[u]=e[u])}return n},h.clone=function(n){return h.isObject(n)?h.isArray(n)?n.slice():h.extend({},n):n},h.tap=function(n,t){return t(n),n};var b=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof h&&(n=n._wrapped),t instanceof h&&(t=t._wrapped);var u=l.call(n);if(u!==l.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]===n)return e[i]===t;var a=n.constructor,o=t.constructor;if(a!==o&&"constructor"in n&&"constructor"in t&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c,f;if("[object Array]"===u){if(c=n.length,f=c===t.length)for(;c--&&(f=b(n[c],t[c],r,e)););}else{var s,p=h.keys(n);if(c=p.length,f=h.keys(t).length===c)for(;c--&&(s=p[c],f=h.has(t,s)&&b(n[s],t[s],r,e)););}return r.pop(),e.pop(),f};h.isEqual=function(n,t){return b(n,t,[],[])},h.isEmpty=function(n){if(null==n)return!0;if(h.isArray(n)||h.isString(n)||h.isArguments(n))return 0===n.length;for(var t in n)if(h.has(n,t))return!1;return!0},h.isElement=function(n){return!(!n||1!==n.nodeType)},h.isArray=f||function(n){return"[object Array]"===l.call(n)},h.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(n){h["is"+n]=function(t){return l.call(t)==="[object "+n+"]"}}),h.isArguments(arguments)||(h.isArguments=function(n){return h.has(n,"callee")}),"function"!=typeof/./&&(h.isFunction=function(n){return"function"==typeof n||!1}),h.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},h.isNaN=function(n){return h.isNumber(n)&&n!==+n},h.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===l.call(n)},h.isNull=function(n){return null===n},h.isUndefined=function(n){return void 0===n},h.has=function(n,t){return null!=n&&c.call(n,t)},h.noConflict=function(){return n._=t,this},h.identity=function(n){return n},h.constant=function(n){return function(){return n}},h.noop=function(){},h.property=function(n){return function(t){return t[n]}},h.matches=function(n){var t=h.pairs(n),r=t.length;return function(n){if(null==n)return!r;n=new Object(n);for(var e=0;r>e;e++){var u=t[e],i=u[0];if(u[1]!==n[i]||!(i in n))return!1}return!0}},h.times=function(n,t,r){var e=Array(Math.max(0,n));t=g(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},h.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},h.now=Date.now||function(){return(new Date).getTime()};var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w=h.invert(_),j=function(n){var t=function(t){return n[t]},r="(?:"+h.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};h.escape=j(_),h.unescape=j(w),h.result=function(n,t){if(null==n)return void 0;var r=n[t];return h.isFunction(r)?n[t]():r};var x=0;h.uniqueId=function(n){var t=++x+"";return n?n+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,k={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\u2028|\u2029/g,F=function(n){return"\\"+k[n]};h.template=function(n,t,r){!t&&r&&(t=r),t=h.defaults({},t,h.templateSettings);var e=RegExp([(t.escape||A).source,(t.interpolate||A).source,(t.evaluate||A).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,a,o){return i+=n.slice(u,o).replace(O,F),u=o+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(t.variable||"obj","_",i)}catch(o){throw o.source=i,o}var l=function(n){return a.call(this,n,h)},c=t.variable||"obj";return l.source="function("+c+"){\n"+i+"}",l},h.chain=function(n){var t=h(n);return t._chain=!0,t};var E=function(n){return this._chain?h(n).chain():n};h.mixin=function(n){h.each(h.functions(n),function(t){var r=h[t]=n[t];h.prototype[t]=function(){var n=[this._wrapped];return i.apply(n,arguments),E.call(this,r.apply(h,n))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=r[n];h.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],E.call(this,r)}}),h.each(["concat","join","slice"],function(n){var t=r[n];h.prototype[n]=function(){return E.call(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),function(){function createSvgElement(name){return document.createElementNS(svgNS,name)}function leadingZero(num){return(10>num?"0":"")+num}function uniqueId(prefix){var id=++idCounter+"";return prefix?prefix+id:id}function ClockPicker(element,options){function mousedown(e,space){var offset=plate.offset(),isTouch=/^touch/.test(e.type),x0=offset.left+dialRadius,y0=offset.top+dialRadius,dx=(isTouch?e.originalEvent.touches[0]:e).pageX-x0,dy=(isTouch?e.originalEvent.touches[0]:e).pageY-y0,z=Math.sqrt(dx*dx+dy*dy),moved=!1;if(!space||!(outerRadius-tickRadius>z||z>outerRadius+tickRadius)){e.preventDefault();var movingTimer=setTimeout(function(){$body.addClass("clockpicker-moving")},200);svgSupported&&plate.append(self.canvas),self.setHand(dx,dy,!space,!0),$doc.off(mousemoveEvent).on(mousemoveEvent,function(e){e.preventDefault();var isTouch=/^touch/.test(e.type),x=(isTouch?e.originalEvent.touches[0]:e).pageX-x0,y=(isTouch?e.originalEvent.touches[0]:e).pageY-y0;(moved||x!==dx||y!==dy)&&(moved=!0,self.setHand(x,y,!1,!0))}),$doc.off(mouseupEvent).on(mouseupEvent,function(e){$doc.off(mouseupEvent),e.preventDefault();var isTouch=/^touch/.test(e.type),x=(isTouch?e.originalEvent.changedTouches[0]:e).pageX-x0,y=(isTouch?e.originalEvent.changedTouches[0]:e).pageY-y0;(space||moved)&&x===dx&&y===dy&&self.setHand(x,y),"hours"===self.currentView?self.toggleView("minutes",duration/2):options.autoclose&&(self.minutesView.addClass("clockpicker-dial-out"),setTimeout(function(){self.done()},duration/2)),plate.prepend(canvas),clearTimeout(movingTimer),$body.removeClass("clockpicker-moving"),$doc.off(mousemoveEvent)})}}var popover=$(tpl),plate=popover.find(".clockpicker-plate"),hoursView=popover.find(".clockpicker-hours"),minutesView=popover.find(".clockpicker-minutes"),amPmBlock=popover.find(".clockpicker-am-pm-block"),isInput="INPUT"===element.prop("tagName"),input=isInput?element:element.find("input"),addon=element.find(".addon"),self=this;if(this.id=uniqueId("cp"),this.element=element,this.options=options,this.isAppended=!1,this.isShown=!1,this.currentView="hours",this.isInput=isInput,this.input=input,this.addon=addon,this.popover=popover,this.plate=plate,this.hoursView=hoursView,this.minutesView=minutesView,this.amPmBlock=amPmBlock,this.spanHours=popover.find(".clockpicker-span-hours"),this.spanMinutes=popover.find(".clockpicker-span-minutes"),this.spanAmPm=popover.find(".clockpicker-span-am-pm"),this.amOrPm="PM",options.twelvehour){{var amPmButtonsTemplate=['<div class="clockpicker-am-pm-block">','<button type="button" class="btn clockpicker-button clockpicker-am-button">',"AM</button>",'<button type="button" class="btn clockpicker-button clockpicker-pm-button">',"PM</button>","</div>"].join("");$(amPmButtonsTemplate)}$('<button type="button" class="btn clockpicker-button am-button">AM</button>').on("click",function(){self.amOrPm="AM",$(".clockpicker-span-am-pm").empty().append("AM")}).appendTo(this.amPmBlock),$('<button type="button" class="btn clockpicker-button pm-button">PM</button>').on("click",function(){self.amOrPm="PM",$(".clockpicker-span-am-pm").empty().append("PM")}).appendTo(this.amPmBlock)}options.autoclose||$('<button type="button" class="btn block clockpicker-button">'+options.donetext+"</button>").click($.proxy(this.done,this)).appendTo(popover),"top"!==options.placement&&"bottom"!==options.placement||"top"!==options.align&&"bottom"!==options.align||(options.align="left"),"left"!==options.placement&&"right"!==options.placement||"left"!==options.align&&"right"!==options.align||(options.align="top"),$("body").hasClass("rtl")&&("right"===options.placement?options.placement="left":"left"===options.placement&&(options.placement="right"),"right"===options.align?options.align="left":"left"===options.align&&(options.align="right")),popover.addClass(options.placement),popover.addClass("clockpicker-align-"+options.align),this.spanHours.click($.proxy(this.toggleView,this,"hours")),this.spanMinutes.click($.proxy(this.toggleView,this,"minutes")),input.on("focus.clockpicker click.clockpicker",$.proxy(this.show,this)),addon.on("click.clockpicker",$.proxy(this.toggle,this));var i,tick,radian,radius,tickTpl=$('<div class="clockpicker-tick"></div>');if(options.twelvehour)for(i=1;13>i;i+=1)tick=tickTpl.clone(),radian=i/6*Math.PI,radius=outerRadius,tick.css("font-size","120%"),tick.css({left:dialRadius+Math.sin(radian)*radius-tickRadius,top:dialRadius-Math.cos(radian)*radius-tickRadius}),tick.html(0===i?fitNumber("00",!1):fitNumber(i)),hoursView.append(tick),tick.on(mousedownEvent,mousedown);else for(i=0;24>i;i+=1){tick=tickTpl.clone(),radian=i/6*Math.PI;var inner=i>0&&13>i;radius=inner?innerRadius:outerRadius,tick.css({left:dialRadius+Math.sin(radian)*radius-tickRadius,top:dialRadius-Math.cos(radian)*radius-tickRadius}),inner&&tick.css("font-size","120%"),tick.html(0===i?fitNumber("00",!1):fitNumber(i)),hoursView.append(tick),tick.on(mousedownEvent,mousedown)}for(i=0;60>i;i+=5)tick=tickTpl.clone(),radian=i/30*Math.PI,tick.css({left:dialRadius+Math.sin(radian)*outerRadius-tickRadius,top:dialRadius-Math.cos(radian)*outerRadius-tickRadius}),tick.css("font-size","120%"),tick.html(fitNumber(leadingZero(i),!1)),minutesView.append(tick),tick.on(mousedownEvent,mousedown);if(plate.on(mousedownEvent,function(e){0===$(e.target).closest(".clockpicker-tick").length&&mousedown(e,!0)}),svgSupported){var canvas=popover.find(".clockpicker-canvas"),svg=createSvgElement("svg");svg.setAttribute("class","clockpicker-svg"),svg.setAttribute("width",diameter),svg.setAttribute("height",diameter);var g=createSvgElement("g");g.setAttribute("transform","translate("+dialRadius+","+dialRadius+")");var bearing=createSvgElement("circle");bearing.setAttribute("class","clockpicker-canvas-bearing"),bearing.setAttribute("cx",0),bearing.setAttribute("cy",0),bearing.setAttribute("r",2);var hand=createSvgElement("line");hand.setAttribute("x1",0),hand.setAttribute("y1",0);var bg=createSvgElement("circle");bg.setAttribute("class","clockpicker-canvas-bg"),bg.setAttribute("r",tickRadius);var fg=createSvgElement("circle");fg.setAttribute("class","clockpicker-canvas-fg"),fg.setAttribute("r",3.5),g.appendChild(hand),g.appendChild(fg),g.appendChild(bearing),g.appendChild(bg),svg.appendChild(g),canvas.append(svg),this.hand=hand,this.bg=bg,this.fg=fg,this.bearing=bearing,this.g=g,this.canvas=canvas}raiseCallback(this.options.init)}function raiseCallback(callbackFunction){callbackFunction&&"function"==typeof callbackFunction&&callbackFunction()}var $body,$=window.jQuery,$win=$(window),$doc=$(document),svgNS="http://www.w3.org/2000/svg",svgSupported="SVGAngle"in window&&function(){var supported,el=document.createElement("div");return el.innerHTML="<svg/>",supported=(el.firstChild&&el.firstChild.namespaceURI)==svgNS,el.innerHTML="",supported}(),transitionSupported=function(){var style=document.createElement("div").style;return"transition"in style||"WebkitTransition"in style||"MozTransition"in style||"msTransition"in style||"OTransition"in style}(),touchSupported="ontouchstart"in window,mousedownEvent="mousedown"+(touchSupported?" touchstart":""),mousemoveEvent="mousemove.clockpicker"+(touchSupported?" touchmove.clockpicker":""),mouseupEvent="mouseup.clockpicker"+(touchSupported?" touchend.clockpicker":""),vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,idCounter=0,dialRadius=100,outerRadius=80,innerRadius=54,tickRadius=13,diameter=2*dialRadius,duration=transitionSupported?350:1,tpl=['<div class="popover clockpicker-popover">','<div class="arrow"></div>','<div class="popover-title">','<span class="clockpicker-span-hours text-primary"></span>'," : ",'<span class="clockpicker-span-minutes"></span>','<span class="clockpicker-span-am-pm"></span>',"</div>",'<div class="popover-content">','<div class="clockpicker-plate">','<div class="clockpicker-canvas"></div>','<div class="clockpicker-dial clockpicker-hours"></div>','<div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div>',"</div>",'<span class="clockpicker-am-pm-block">',"</span>","</div>","</div>"].join("");ClockPicker.DEFAULTS={"default":"",fromnow:0,placement:"bottom",align:"left",donetext:"Done",autoclose:!0,twelvehour:!1,vibrate:!0},ClockPicker.prototype.toggle=function(){this[this.isShown?"hide":"show"]()},ClockPicker.prototype.locate=function(){var elementInput=(this.element,$(this.element).find("input")),popover=this.popover,width=(elementInput.offset(),elementInput.outerWidth()),height=elementInput.outerHeight(),placement=this.options.placement,align=this.options.align,styles={};switch(popover.show(),placement){case"bottom":styles.top=height;break;case"right":styles.left=width;break;case"top":styles.top=-popover.outerHeight();break;case"left":styles.left=-popover.outerWidth()}switch(align){case"left":styles.left=0;break;case"right":styles.left=width-popover.outerWidth();break;case"top":styles.top=0;break;case"bottom":styles.top=height-popover.outerHeight()}popover.css(styles)},ClockPicker.prototype.show=function(e){if(!this.isShown){raiseCallback(this.options.beforeShow);var self=this;this.isAppended||($body=$(this.input).parent(".clockpicker").append(this.popover),$win.on("resize.clockpicker"+this.id,function(){self.isShown&&self.locate()}),this.isAppended=!0);var value=((this.input.prop("value")||this.options["default"]||"")+"").split(":");if("now"===value[0]){var now=new Date(+new Date+this.options.fromnow);value=[now.getHours(),now.getMinutes()]}this.hours=+value[0]||0,this.minutes=+value[1]||0,this.spanHours.html(fitNumber(leadingZero(this.hours),!1)),this.spanMinutes.html(fitNumber(leadingZero(this.minutes),!1)),this.toggleView("hours"),this.locate(),this.isShown=!0,$doc.on("click.clockpicker."+this.id+" focusin.clockpicker."+this.id,function(e){var target=$(e.target);0===target.closest(self.popover).length&&0===target.closest(self.addon).length&&0===target.closest(self.input).length&&self.hide()}),$doc.on("keyup.clockpicker."+this.id,function(e){27===e.keyCode&&self.hide()}),raiseCallback(this.options.afterShow)}},ClockPicker.prototype.hide=function(){raiseCallback(this.options.beforeHide),this.isShown=!1,$doc.off("click.clockpicker."+this.id+" focusin.clockpicker."+this.id),$doc.off("keyup.clockpicker."+this.id),this.popover.hide(),raiseCallback(this.options.afterHide)},ClockPicker.prototype.toggleView=function(view,delay){var raiseAfterHourSelect=!1;"minutes"===view&&"visible"===$(this.hoursView).css("visibility")&&(raiseCallback(this.options.beforeHourSelect),raiseAfterHourSelect=!0);var isHours="hours"===view,nextView=isHours?this.hoursView:this.minutesView,hideView=isHours?this.minutesView:this.hoursView;this.currentView=view,this.spanHours.toggleClass("text-primary",isHours),this.spanMinutes.toggleClass("text-primary",!isHours),hideView.addClass("clockpicker-dial-out"),nextView.css("visibility","visible").removeClass("clockpicker-dial-out"),this.resetClock(delay),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){hideView.css("visibility","hidden")},duration),raiseAfterHourSelect&&raiseCallback(this.options.afterHourSelect)},ClockPicker.prototype.resetClock=function(delay){var view=this.currentView,value=this[view],isHours="hours"===view,unit=Math.PI/(isHours?6:30),radian=value*unit,radius=isHours&&value>0&&13>value?innerRadius:outerRadius,x=Math.sin(radian)*radius,y=-Math.cos(radian)*radius,self=this;svgSupported&&delay?(self.canvas.addClass("clockpicker-canvas-out"),setTimeout(function(){self.canvas.removeClass("clockpicker-canvas-out"),self.setHand(x,y)},delay)):this.setHand(x,y)},ClockPicker.prototype.setHand=function(x,y,roundBy5,dragging){var value,radian=Math.atan2(x,-y),isHours="hours"===this.currentView,unit=Math.PI/(isHours||roundBy5?6:30),z=Math.sqrt(x*x+y*y),options=this.options,inner=isHours&&(outerRadius+innerRadius)/2>z,radius=inner?innerRadius:outerRadius;if(options.twelvehour&&(radius=outerRadius),0>radian&&(radian=2*Math.PI+radian),value=Math.round(radian/unit),radian=value*unit,options.twelvehour?isHours?0===value&&(value=12):(roundBy5&&(value*=5),60===value&&(value=0)):isHours?(12===value&&(value=0),value=inner?0===value?12:value:0===value?0:value+12):(roundBy5&&(value*=5),60===value&&(value=0)),this[this.currentView]!==value&&vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[vibrate](10),this.vibrateTimer=setTimeout($.proxy(function(){this.vibrateTimer=null},this),100))),this[this.currentView]=value,this[isHours?"spanHours":"spanMinutes"].html(fitNumber(leadingZero(value),!1)),!svgSupported)return void this[isHours?"hoursView":"minutesView"].find(".clockpicker-tick").each(function(){var tick=$(this);tick.toggleClass("active",value===+tick.html())});dragging||!isHours&&value%5?(this.g.insertBefore(this.hand,this.bearing),this.g.insertBefore(this.bg,this.fg),this.bg.setAttribute("class","clockpicker-canvas-bg clockpicker-canvas-bg-trans")):(this.g.insertBefore(this.hand,this.bg),this.g.insertBefore(this.fg,this.bg),this.bg.setAttribute("class","clockpicker-canvas-bg"));var cx=Math.sin(radian)*radius,cy=-Math.cos(radian)*radius;this.hand.setAttribute("x2",cx),this.hand.setAttribute("y2",cy),this.bg.setAttribute("cx",cx),this.bg.setAttribute("cy",cy),this.fg.setAttribute("cx",cx),this.fg.setAttribute("cy",cy)},ClockPicker.prototype.done=function(){raiseCallback(this.options.beforeDone),this.hide();var last=this.input.prop("value"),value=leadingZero(this.hours)+":"+leadingZero(this.minutes);this.options.twelvehour&&(value+=this.amOrPm),this.input.prop("value",value),value!==last&&(this.input.triggerHandler("change"),this.isInput||this.element.trigger("change")),this.options.autoclose&&this.input.trigger("blur"),raiseCallback(this.options.afterDone)},ClockPicker.prototype.remove=function(){this.element.removeData("clockpicker"),this.input.off("focus.clockpicker click.clockpicker"),this.addon.off("click.clockpicker"),this.isShown&&this.hide(),this.isAppended&&($win.off("resize.clockpicker"+this.id),this.popover.remove())},$.fn.clockpicker=function(option){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var $this=$(this),data=$this.data("clockpicker");if(data)"function"==typeof data[option]&&data[option].apply(data,args);else{var options=$.extend({},ClockPicker.DEFAULTS,$this.data(),"object"==typeof option&&option);$this.data("clockpicker",new ClockPicker($this,options))}})}}(),function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.persianDate=factory():root.persianDate=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=8)}([function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),durationUnit=__webpack_require__(4).durationUnit,Helpers=function(){function Helpers(){_classCallCheck(this,Helpers)}return _createClass(Helpers,[{key:"toPersianDigit",value:function(digit){var latinDigit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1;return digit.toString().replace(/\d+/g,function(digit){var enDigitArr=[],peDigitArr=[],i=void 0,j=void 0;for(i=0;i<digit.length;i+=1)enDigitArr.push(digit.charCodeAt(i));for(j=0;j<enDigitArr.length;j+=1)peDigitArr.push(String.fromCharCode(enDigitArr[j]+(latinDigit&&latinDigit===!0?1584:1728)));return peDigitArr.join("")})}},{key:"leftZeroFill",value:function(number,targetLength){for(var output=number+"";output.length<targetLength;)output="0"+output;return output}},{key:"normalizeDuration",value:function(){var unit=void 0,value=void 0;return"string"==typeof arguments[0]?(unit=arguments[0],value=arguments[1]):(value=arguments[0],unit=arguments[1]),durationUnit.year.indexOf(unit)>-1?unit="year":durationUnit.month.indexOf(unit)>-1?unit="month":durationUnit.day.indexOf(unit)>-1?unit="day":durationUnit.hour.indexOf(unit)>-1?unit="hour":durationUnit.minute.indexOf(unit)>-1?unit="minute":durationUnit.second.indexOf(unit)>-1?unit="second":durationUnit.millisecond.indexOf(unit)>-1&&(unit="millisecond"),{unit:unit,value:value}}},{key:"absRound",value:function(number){return 0>number?Math.ceil(number):Math.floor(number)}},{key:"absFloor",value:function(number){return 0>number?Math.ceil(number)||0:Math.floor(number)}}]),Helpers}();module.exports=Helpers},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TypeChecking=__webpack_require__(10),Algorithms=__webpack_require__(2),Helpers=__webpack_require__(0),Duration=__webpack_require__(5),toPersianDigit=(new Helpers).toPersianDigit,leftZeroFill=(new Helpers).leftZeroFill,normalizeDuration=(new Helpers).normalizeDuration,fa=__webpack_require__(7),en=__webpack_require__(6),PersianDateClass=function(){function PersianDateClass(input){return _classCallCheck(this,PersianDateClass),this.calendarType=PersianDateClass.calendarType,this.localType=PersianDateClass.localType,this.leapYearMode=PersianDateClass.leapYearMode,this.algorithms=new Algorithms(this),this.version="1.0.4",this._utcMode=!1,this.formatPersian="fa"!==this.localType?!1:"_default",this.setup(input),this.ON=this.algorithms.ON,this}return _createClass(PersianDateClass,[{key:"setup",value:function(input){if(TypeChecking.isDate(input))this._gDateToCalculators(input);else if(TypeChecking.isArray(input))this.algorithmsCalc([input[0],input[1]?input[1]:1,input[2]?input[2]:1,input[3],input[4],input[5],input[6]?input[6]:0]);else if(TypeChecking.isNumber(input)){var fromUnix=new Date(input);this._gDateToCalculators(fromUnix)}else if(input instanceof PersianDateClass)this.algorithmsCalc([input.year(),input.month(),input.date(),input.hour(),input.minute(),input.second(),input.millisecond()]);else if(input&&"/Date("===input.substring(0,6)){var fromDotNet=new Date(parseInt(input.substr(6)));this._gDateToCalculators(fromDotNet)}else{var now=new Date;this._gDateToCalculators(now)}}},{key:"_getSyncedClass",value:function(input){var syncedCelander=PersianDateClass.toCalendar(this.calendarType).toLocale(this.localType).toLeapYearMode(this.leapYearMode);return new syncedCelander(input)}},{key:"_gDateToCalculators",value:function(inputgDate){this.algorithms.calcGregorian([inputgDate.getFullYear(),inputgDate.getMonth(),inputgDate.getDate(),inputgDate.getHours(),inputgDate.getMinutes(),inputgDate.getSeconds(),inputgDate.getMilliseconds()])}},{key:"rangeName",value:function(){var t=this.calendarType;return"fa"===this.localType?"persian"===t?fa.persian:fa.gregorian:"persian"===t?en.persian:en.gregorian}},{key:"toLeapYearMode",value:function(input){return this.leapYearMode=input,"astronomical"===input&&"persian"==this.calendarType?this.leapYearMode="astronomical":"algorithmic"===input&&"persian"==this.calendarType&&(this.leapYearMode="algorithmic"),this.algorithms.updateFromGregorian(),this}},{key:"toCalendar",value:function(input){return this.calendarType=input,this.algorithms.updateFromGregorian(),this}},{key:"toLocale",value:function(input){return this.localType=input,this.formatPersian="fa"!==this.localType?!1:"_default",this}},{key:"_locale",value:function(){var t=this.calendarType;return"fa"===this.localType?"persian"===t?fa.persian:fa.gregorian:"persian"===t?en.persian:en.gregorian}},{key:"_weekName",value:function(input){return this._locale().weekdays[input-1]}},{key:"_weekNameShort",value:function(input){return this._locale().weekdaysShort[input-1]}},{key:"_weekNameMin",value:function(input){return this._locale().weekdaysMin[input-1]}},{key:"_dayName",value:function(input){return this._locale().persianDaysName[input-1]}},{key:"_monthName",value:function(input){return this._locale().months[input-1]}},{key:"_monthNameShort",value:function(input){return this._locale().monthsShort[input-1]}},{key:"isPersianDate",value:function(obj){return obj instanceof PersianDateClass}},{key:"clone",value:function(){return this._getSyncedClass(this.ON.gDate)}},{key:"algorithmsCalc",value:function(dateArray){return this.isPersianDate(dateArray)&&(dateArray=[dateArray.year(),dateArray.month(),dateArray.date(),dateArray.hour(),dateArray.minute(),dateArray.second(),dateArray.millisecond()]),"persian"===this.calendarType&&"algorithmic"==this.leapYearMode?this.algorithms.calcPersian(dateArray):"persian"===this.calendarType&&"astronomical"==this.leapYearMode?this.algorithms.calcPersiana(dateArray):"gregorian"===this.calendarType?(dateArray[1]=dateArray[1]-1,this.algorithms.calcGregorian(dateArray)):void 0}},{key:"calendar",value:function(){var key=void 0;return"persian"==this.calendarType?"astronomical"==this.leapYearMode?key="persianAstro":"algorithmic"==this.leapYearMode&&(key="persianAlgo"):key="gregorian",this.ON[key]}},{key:"duration",value:function(input,key){return new Duration(input,key)}},{key:"isDuration",value:function(obj){return obj instanceof Duration}},{key:"years",value:function(input){return this.year(input)}},{key:"year",value:function(input){return input||0===input?(this.algorithmsCalc([input,this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]),this):this.calendar().year}},{key:"month",value:function(input){return input||0===input?(this.algorithmsCalc([this.year(),input,this.date()]),this):this.calendar().month+1}},{key:"days",value:function(){return this.day()}},{key:"day",value:function(){return this.calendar().weekday}},{key:"dates",value:function(input){return this.date(input)}},{key:"date",value:function(input){return input||0===input?(this.algorithmsCalc([this.year(),this.month(),input]),this):this.calendar().day}},{key:"hour",value:function(input){return this.hours(input)}},{key:"hours",value:function(input){return input||0===input?(this.algorithmsCalc([this.year(),this.month(),this.date(),input]),this):this.ON.gDate.getHours()}},{key:"minute",value:function(input){return this.minutes(input)}},{key:"minutes",value:function(input){return input||0===input?(this.algorithmsCalc([this.year(),this.month(),this.date(),this.hour(),input]),this):this.ON.gDate.getMinutes()}},{key:"second",value:function(input){return this.seconds(input)}},{key:"seconds",value:function(input){return input||0===input?(this.algorithmsCalc([this.year(),this.month(),this.date(),this.hour(),this.minute(),input]),this):this.ON.gDate.getSeconds()}},{key:"millisecond",value:function(input){return this.milliseconds(input)}},{key:"milliseconds",value:function(input){return input||0===input?(this.algorithmsCalc([this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),input]),this):this.ON.gregorian.millisecond}},{key:"unix",value:function(timestamp){var output=void 0;if(timestamp)return this._getSyncedClass(1e3*timestamp);var str=this.ON.gDate.valueOf().toString();return output=str.substring(0,str.length-3),parseInt(output)}},{key:"valueOf",value:function(){return this.ON.gDate.valueOf()}},{key:"getFirstWeekDayOfMonth",value:function(year,month){return this._getSyncedClass([year,month,1]).day()}},{key:"diff",value:function diff(input,val,asFloat){var self=this,inputMoment=input,zoneDiff=0,diff=self.ON.gDate-inputMoment.toDate()-zoneDiff,year=self.year()-inputMoment.year(),month=self.month()-inputMoment.month(),date=-1*(self.date()-inputMoment.date()),output=void 0;return output="months"===val||"month"===val?12*year+month+date/30:"years"===val||"year"===val?year+(month+date/30)/12:"seconds"===val||"second"===val?diff/1e3:"minutes"===val||"minute"===val?diff/6e4:"hours"===val||"hour"===val?diff/36e5:"days"===val||"day"===val?diff/864e5:"weeks"===val||"week"===val?diff/6048e5:diff,0>output&&(output=-1*output),asFloat?output:Math.round(output)}},{key:"startOf",value:function(key){var syncedCelander=PersianDateClass.toCalendar(this.calendarType).toLocale(this.localType);switch(key){case"years":case"year":return new syncedCelander([this.year(),1,1]);case"months":case"month":return new syncedCelander([this.year(),this.month(),1]);case"days":case"day":return new syncedCelander([this.year(),this.month(),this.date(),0,0,0]);case"hours":case"hour":return new syncedCelander([this.year(),this.month(),this.date(),this.hours(),0,0]);case"minutes":case"minute":return new syncedCelander([this.year(),this.month(),this.date(),this.hours(),this.minutes(),0]);case"seconds":case"second":return new syncedCelander([this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds()]);case"weeks":case"week":return new syncedCelander([this.year(),this.month(),this.date()-(this.calendar().weekday-1)]);default:return this.clone()}}},{key:"endOf",value:function(key){var syncedCelander=PersianDateClass.toCalendar(this.calendarType).toLocale(this.localType);switch(key){case"years":case"year":var days=this.isLeapYear()?30:29;

return new syncedCelander([this.year(),12,days,23,59,59]);case"months":case"month":var monthDays=this.daysInMonth(this.year(),this.month());return new syncedCelander([this.year(),this.month(),monthDays,23,59,59]);case"days":case"day":return new syncedCelander([this.year(),this.month(),this.date(),23,59,59]);case"hours":case"hour":return new syncedCelander([this.year(),this.month(),this.date(),this.hours(),59,59]);case"minutes":case"minute":return new syncedCelander([this.year(),this.month(),this.date(),this.hours(),this.minutes(),59]);case"seconds":case"second":return new syncedCelander([this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds()]);case"weeks":case"week":var weekDayNumber=this.calendar().weekday;return new syncedCelander([this.year(),this.month(),this.date()+(7-weekDayNumber)]);default:return this.clone()}}},{key:"sod",value:function(){return this.startOf("day")}},{key:"eod",value:function(){return this.endOf("day")}},{key:"zone",value:function(input){return input||0===input?(this.ON.zone=input,this):this.ON.zone}},{key:"local",value:function(){var utcStamp=void 0;if(this._utcMode){var ThatDayOffset=new Date(this.toDate()).getTimezoneOffset(),offsetMils=60*ThatDayOffset*1e3;utcStamp=0>ThatDayOffset?this.valueOf()-offsetMils:this.valueOf()+offsetMils,this.toCalendar(PersianDateClass.calendarType);var utcDate=new Date(utcStamp);return this._gDateToCalculators(utcDate),this._utcMode=!1,this.zone(ThatDayOffset),this}return this}},{key:"utc",value:function(input){var utcStamp=void 0;if(input)return this._getSyncedClass(input).utc();if(this._utcMode)return this;var offsetMils=60*this.zone()*1e3;utcStamp=this.zone()<0?this.valueOf()+offsetMils:this.valueOf()-offsetMils;var utcDate=new Date(utcStamp),d=this._getSyncedClass(utcDate);return this.algorithmsCalc(d),this._utcMode=!0,this.zone(0),this}},{key:"isUtc",value:function(){return this._utcMode}},{key:"isDST",value:function(){var month=this.month(),day=this.date();return 1==month&&day>1||6==month&&31>day||6>month&&month>=2?!0:!1}},{key:"isLeapYear",value:function(year){return void 0===year&&(year=this.year()),"persian"==this.calendarType&&"algorithmic"===this.leapYearMode?this.algorithms.leap_persian(year):"persian"==this.calendarType&&"astronomical"===this.leapYearMode?this.algorithms.leap_persiana(year):"gregorian"==this.calendarType?this.algorithms.leap_gregorian(year):void 0}},{key:"daysInMonth",value:function(yearInput,monthInput){var year=yearInput?yearInput:this.year(),month=monthInput?monthInput:this.month();return"persian"===this.calendarType?1>month||month>12?0:7>month?31:12>month?30:this.isLeapYear(year)?30:29:"gregorian"===this.calendarType?new Date(year,month,0).getDate():void 0}},{key:"toDate",value:function(){return this.ON.gDate}},{key:"toArray",value:function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]}},{key:"formatNumber",value:function(){var output=void 0,self=this;return"_default"===this.formatPersian?output="undefined"!=typeof module&&"undefined"!=typeof module.exports?self.formatPersian===!1?!1:!0:window.formatPersian===!1?!1:!0:this.formatPersian===!0?output=!0:this.formatPersian===!1?output=!1:Error('Invalid Config "formatPersian" !!'),output}},{key:"format",value:function(inputString){function replaceFunction(input){switch(input){case"a":return formatToPersian?info.hour>=12?"ب ظ":"ق ظ":info.hour>=12?"PM":"AM";case"H":return checkPersian(info.hour);case"HH":return checkPersian(leftZeroFill(info.hour,2));case"h":return checkPersian(info.hour%12);case"hh":return checkPersian(leftZeroFill(info.hour%12,2));case"m":return checkPersian(leftZeroFill(info.minute,2));case"mm":return checkPersian(leftZeroFill(info.minute,2));case"s":return checkPersian(info.second);case"ss":return checkPersian(leftZeroFill(info.second,2));case"D":return checkPersian(leftZeroFill(info.date));case"DD":return checkPersian(leftZeroFill(info.date,2));case"DDD":var t=self.startOf("year");return checkPersian(leftZeroFill(self.diff(t,"days"),3));case"DDDD":var _t=self.startOf("year");return checkPersian(leftZeroFill(self.diff(_t,"days"),3));case"d":return checkPersian(self.calendar().weekday);case"ddd":return self._weekNameShort(self.calendar().weekday);case"dddd":return self._weekName(self.calendar().weekday);case"ddddd":return self._dayName(self.calendar().day);case"dddddd":return self._weekNameMin(self.calendar().weekday);case"w":var _t2=self.startOf("year"),day=parseInt(self.diff(_t2,"days")/7)+1;return checkPersian(day);case"ww":var _t3=self.startOf("year"),_day=leftZeroFill(parseInt(self.diff(_t3,"days")/7)+1,2);return checkPersian(_day);case"M":return checkPersian(info.month);case"MM":return checkPersian(leftZeroFill(info.month,2));case"MMM":return self._monthNameShort(info.month);case"MMMM":return self._monthName(info.month);case"YY":var yearDigitArray=info.year.toString().split("");return checkPersian(yearDigitArray[2]+yearDigitArray[3]);case"YYYY":return checkPersian(info.year);case"Z":var flag="+",hours=Math.round(info.timezone/60),minutes=info.timezone%60;0>minutes&&(minutes*=-1),0>hours&&(flag="-",hours*=-1);var z=flag+leftZeroFill(hours,2)+":"+leftZeroFill(minutes,2);return checkPersian(z);case"ZZ":var _flag="+",_hours=Math.round(info.timezone/60),_minutes=info.timezone%60;0>_minutes&&(_minutes*=-1),0>_hours&&(_flag="-",_hours*=-1);var _z=_flag+leftZeroFill(_hours,2)+""+leftZeroFill(_minutes,2);return checkPersian(_z);case"X":return self.unix();case"LT":return self.format("H:m a");case"L":return self.format("YYYY/MM/DD");case"l":return self.format("YYYY/M/D");case"LL":return self.format("MMMM DD YYYY");case"ll":return self.format("MMM DD YYYY");case"LLL":return self.format("MMMM YYYY DD   H:m  a");case"lll":return self.format("MMM YYYY DD   H:m  a");case"LLLL":return self.format("dddd D MMMM YYYY  H:m  a");case"llll":return self.format("ddd D MMM YYYY  H:m  a")}}var self=this,formattingTokens=/([[^[]*])|(\\)?(Mo|MM?M?M?|Do|DD?D?D?|dddddd?|ddddd?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|X|LT|ll?l?l?|LL?L?L?)/g,info={year:self.year(),month:self.month(),hour:self.hours(),minute:self.minutes(),second:self.seconds(),date:self.date(),timezone:self.zone(),unix:self.unix()},formatToPersian=self.formatNumber(),checkPersian=function(i){return formatToPersian?toPersianDigit(i):i};if(inputString)return inputString.replace(formattingTokens,replaceFunction);var _inputString="YYYY-MM-DD HH:mm:ss a";return _inputString.replace(formattingTokens,replaceFunction)}},{key:"add",value:function(key,value){var duration=new Duration(key,value)._data,unit=normalizeDuration(key,value).unit;if(value=normalizeDuration(key,value).value,"year"===unit||"month"===unit){if(duration.years>0){var newYear=this.year()+duration.years;this.year(newYear)}if(duration.months>0){var oldDate=this.date(),newMonth=this.month()+duration.months,thisMonthDaysCount=this.daysInMonth(this.year(),newMonth);oldDate>=thisMonthDaysCount&&(oldDate=thisMonthDaysCount),this.date(oldDate),this.month(newMonth)}}if("day"===unit){var oldHour=this.hour(),newDate=this.valueOf()+24*value*60*60*1e3;return this.unix(newDate/1e3).hour(oldHour)}if("hour"===unit){var _newDate=this.valueOf()+60*value*60*1e3;return this.unix(_newDate/1e3)}if("minute"===unit){var _newDate2=this.valueOf()+60*value*1e3;return this.unix(_newDate2/1e3)}if("second"===unit){var _newDate3=this.valueOf()+1e3*value;return this.unix(_newDate3/1e3)}if("millisecond"===unit){var newMillisecond=this.valueOf()+value;return this.unix(newMillisecond/1e3)}return this._getSyncedClass(this.valueOf())}},{key:"subtract",value:function(key,value){var duration=new Duration(key,value)._data,unit=normalizeDuration(key,value).unit;if(value=normalizeDuration(key,value).value,"year"===unit||"month"===unit){if(duration.years>0){var newYear=this.year()-duration.years;this.year(newYear)}if(duration.months>0){var oldDate=this.date(),newMonth=this.month()-duration.months;this.month(newMonth);var thisMonthDaysCount=this.daysInMonth(this.year(),this.month());oldDate>thisMonthDaysCount&&(oldDate=thisMonthDaysCount),this.date(oldDate)}}if("day"===unit){var oldHour=this.hour(),newDate=this.valueOf()-24*value*60*60*1e3;return this.unix(newDate/1e3).hour(oldHour)}if("hour"===unit){var _newDate4=this.valueOf()-60*value*60*1e3;return this.unix(_newDate4/1e3)}if("minute"===unit){var _newDate5=this.valueOf()-60*value*1e3;return this.unix(_newDate5/1e3)}if("second"===unit){var _newDate6=this.valueOf()-1e3*value;return this.unix(_newDate6/1e3)}if("millisecond"===unit){var newMillisecond=this.valueOf()-value;return this.unix(newMillisecond/1e3)}return this._getSyncedClass(this.valueOf())}},{key:"isSameDay",value:function(dateB){return this&&dateB&&this.date()==dateB.date()&&this.year()==dateB.year()&&this.month()==dateB.month()}},{key:"isSameMonth",value:function(dateB){return this&&dateB&&this.year()==this.year()&&this.month()==dateB.month()}}],[{key:"rangeName",value:function(){var p=PersianDateClass,t=p.calendarType;return"fa"===p.localType?"persian"===t?fa.persian:fa.gregorian:"persian"===t?en.persian:en.gregorian}},{key:"toLeapYearMode",value:function(input){var d=PersianDateClass;return d.leapYearMode=input,d}},{key:"toCalendar",value:function(input){var d=PersianDateClass;return d.calendarType=input,d}},{key:"toLocale",value:function(input){var d=PersianDateClass;return d.localType=input,d.formatPersian="fa"!==d.localType?!1:"_default",d}},{key:"isPersianDate",value:function(obj){return obj instanceof PersianDateClass}},{key:"duration",value:function(input,key){return new Duration(input,key)}},{key:"isDuration",value:function(obj){return obj instanceof Duration}},{key:"unix",value:function(timestamp){return timestamp?new PersianDateClass(1e3*timestamp).unix():(new PersianDateClass).unix()}},{key:"getFirstWeekDayOfMonth",value:function(year,month){return new PersianDateClass([year,month,1]).day()}},{key:"utc",value:function(input){return input?new PersianDateClass(input).utc():(new PersianDateClass).utc()}},{key:"isSameDay",value:function(dateA,dateB){return dateA&&dateB&&dateA.date()==dateB.date()&&dateA.year()==dateB.year()&&dateA.month()==dateB.month()}},{key:"isSameMonth",value:function(dateA,dateB){return dateA&&dateB&&dateA.year()==dateB.year()&&dateA.month()==dateB.month()}}]),PersianDateClass}();module.exports=PersianDateClass},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ASTRO=__webpack_require__(3),ON=__webpack_require__(9),Algorithms=function(){function Algorithms(parent){_classCallCheck(this,Algorithms),this.parent=parent,this.ASTRO=new ASTRO,this.ON=new ON,this.J0000=1721424.5,this.J1970=2440587.5,this.JMJD=2400000.5,this.NormLeap=[!1,!0],this.GREGORIAN_EPOCH=1721425.5,this.PERSIAN_EPOCH=1948320.5}return _createClass(Algorithms,[{key:"leap_gregorian",value:function(year){return year%4===0&&!(year%100===0&&year%400!==0)}},{key:"gregorian_to_jd",value:function(year,month,day){return this.GREGORIAN_EPOCH-1+365*(year-1)+Math.floor((year-1)/4)+-Math.floor((year-1)/100)+Math.floor((year-1)/400)+Math.floor((367*month-362)/12+(2>=month?0:this.leap_gregorian(year)?-1:-2)+day)}},{key:"jd_to_gregorian",value:function(jd){var wjd=void 0,depoch=void 0,quadricent=void 0,dqc=void 0,cent=void 0,dcent=void 0,quad=void 0,dquad=void 0,yindex=void 0,year=void 0,yearday=void 0,leapadj=void 0,month=void 0,day=void 0;return wjd=Math.floor(jd-.5)+.5,depoch=wjd-this.GREGORIAN_EPOCH,quadricent=Math.floor(depoch/146097),dqc=this.ASTRO.mod(depoch,146097),cent=Math.floor(dqc/36524),dcent=this.ASTRO.mod(dqc,36524),quad=Math.floor(dcent/1461),dquad=this.ASTRO.mod(dcent,1461),yindex=Math.floor(dquad/365),year=400*quadricent+100*cent+4*quad+yindex,4!==cent&&4!==yindex&&year++,yearday=wjd-this.gregorian_to_jd(year,1,1),leapadj=wjd<this.gregorian_to_jd(year,3,1)?0:this.leap_gregorian(year)?1:2,month=Math.floor((12*(yearday+leapadj)+373)/367),day=wjd-this.gregorian_to_jd(year,month,1)+1,[year,month,day]}},{key:"tehran_equinox",value:function(year){var equJED=void 0,equJD=void 0,equAPP=void 0,equTehran=void 0,dtTehran=void 0;return equJED=this.ASTRO.equinox(year,0),equJD=equJED-this.ASTRO.deltat(year)/86400,equAPP=equJD+this.ASTRO.equationOfTime(equJED),dtTehran=52.5/360,equTehran=equAPP+dtTehran}},{key:"tehran_equinox_jd",value:function(year){var ep=void 0,epg=void 0;return ep=this.tehran_equinox(year),epg=Math.floor(ep)}},{key:"persiana_year",value:function(jd){var guess=this.jd_to_gregorian(jd)[0]-2,lasteq=void 0,nexteq=void 0,adr=void 0;for(lasteq=this.tehran_equinox_jd(guess);lasteq>jd;)guess--,lasteq=this.tehran_equinox_jd(guess);for(nexteq=lasteq-1;!(jd>=lasteq&&nexteq>jd);)lasteq=nexteq,guess++,nexteq=this.tehran_equinox_jd(guess);return adr=Math.round((lasteq-this.PERSIAN_EPOCH)/this.ASTRO.TropicalYear)+1,[adr,lasteq]}},{key:"jd_to_persiana",value:function(jd){var year=void 0,month=void 0,day=void 0,adr=void 0,equinox=void 0,yday=void 0;return jd=Math.floor(jd)+.5,adr=this.persiana_year(jd),year=adr[0],equinox=adr[1],day=Math.floor((jd-equinox)/30)+1,yday=Math.floor(jd)-this.persiana_to_jd(year,1,1)+1,month=Math.ceil(186>=yday?yday/31:(yday-6)/30),day=Math.floor(jd)-this.persiana_to_jd(year,month,1)+1,[year,month,day]}},{key:"persiana_to_jd",value:function(year,month,day){var adr=void 0,equinox=void 0,guess=void 0,jd=void 0;for(guess=this.PERSIAN_EPOCH-1+this.ASTRO.TropicalYear*(year-1-1),adr=[year-1,0];adr[0]<year;)adr=this.persiana_year(guess),guess=adr[1]+(this.ASTRO.TropicalYear+2);return equinox=adr[1],jd=equinox+(7>=month?31*(month-1):30*(month-1)+6)+(day-1)}},{key:"leap_persiana",value:function(year){return this.persiana_to_jd(year+1,1,1)-this.persiana_to_jd(year,1,1)>365}},{key:"leap_persian",value:function(year){return 682>682*((year-(year>0?474:473))%2820+474+38)%2816}},{key:"persian_to_jd",value:function(year,month,day){var epbase=void 0,epyear=void 0;return epbase=year-(year>=0?474:473),epyear=474+this.ASTRO.mod(epbase,2820),day+(7>=month?31*(month-1):30*(month-1)+6)+Math.floor((682*epyear-110)/2816)+365*(epyear-1)+1029983*Math.floor(epbase/2820)+(this.PERSIAN_EPOCH-1)}},{key:"jd_to_persian",value:function(jd){var year=void 0,month=void 0,day=void 0,depoch=void 0,cycle=void 0,cyear=void 0,ycycle=void 0,aux1=void 0,aux2=void 0,yday=void 0;return jd=Math.floor(jd)+.5,depoch=jd-this.persian_to_jd(475,1,1),cycle=Math.floor(depoch/1029983),cyear=this.ASTRO.mod(depoch,1029983),1029982===cyear?ycycle=2820:(aux1=Math.floor(cyear/366),aux2=this.ASTRO.mod(cyear,366),ycycle=Math.floor((2134*aux1+2816*aux2+2815)/1028522)+aux1+1),year=ycycle+2820*cycle+474,0>=year&&year--,yday=jd-this.persian_to_jd(year,1,1)+1,month=Math.ceil(186>=yday?yday/31:(yday-6)/30),day=jd-this.persian_to_jd(year,month,1)+1,[year,month,day]}},{key:"gWeekDayToPersian",value:function(weekday){return weekday+2===8?1:weekday+2===7?7:weekday+2}},{key:"updateFromGregorian",value:function(){var j=void 0,year=void 0,mon=void 0,mday=void 0,hour=void 0,min=void 0,sec=void 0,weekday=void 0,utime=void 0,perscal=void 0;year=this.ON.gregorian.year,mon=this.ON.gregorian.month,mday=this.ON.gregorian.day,hour=0,min=0,sec=0,this.ON.gDate=new Date(year,mon,mday,this.ON.gregorian.hour,this.ON.gregorian.minute,this.ON.gregorian.second,this.ON.gregorian.millisecond),this.parent._utcMode===!1&&(this.ON.zone=this.ON.gDate.getTimezoneOffset()),this.ON.gregorian.year=this.ON.gDate.getFullYear(),this.ON.gregorian.month=this.ON.gDate.getMonth(),this.ON.gregorian.day=this.ON.gDate.getDate(),j=this.gregorian_to_jd(year,mon+1,mday)+Math.floor(sec+60*(min+60*hour)+.5)/86400,this.ON.julianday=j,this.ON.modifiedjulianday=j-this.JMJD,weekday=this.ASTRO.jwday(j),this.ON.gregorian.weekday=weekday+1,this.ON.gregorian.leap=this.NormLeap[this.leap_gregorian(year)?1:0],weekday=this.ASTRO.jwday(j),"persian"==this.parent.calendarType&&"algorithmic"==this.parent.leapYearMode&&(perscal=this.jd_to_persian(j),this.ON.persian.year=perscal[0],this.ON.persian.month=perscal[1]-1,this.ON.persian.day=perscal[2],this.ON.persian.weekday=this.gWeekDayToPersian(weekday),this.ON.persian.leap=this.NormLeap[this.leap_persian(perscal[0])?1:0]),"persian"==this.parent.calendarType&&"astronomical"==this.parent.leapYearMode&&(perscal=this.jd_to_persiana(j),this.ON.persianAstro.year=perscal[0],this.ON.persianAstro.month=perscal[1]-1,this.ON.persianAstro.day=perscal[2],this.ON.persianAstro.weekday=this.gWeekDayToPersian(weekday),this.ON.persianAstro.leap=this.NormLeap[this.leap_persiana(perscal[0])?1:0]),null!==this.ON.gregserial.day&&(this.ON.gregserial.day=j-this.J0000),utime=864e5*(j-this.J1970),this.ON.unixtime=Math.round(utime/1e3)}},{key:"calcGregorian",value:function(dateArray){(dateArray[0]||0===dateArray[0])&&(this.ON.gregorian.year=dateArray[0]),(dateArray[1]||0===dateArray[1])&&(this.ON.gregorian.month=dateArray[1]),(dateArray[2]||0===dateArray[2])&&(this.ON.gregorian.day=dateArray[2]),(dateArray[3]||0===dateArray[3])&&(this.ON.gregorian.hour=dateArray[3]),(dateArray[4]||0===dateArray[4])&&(this.ON.gregorian.minute=dateArray[4]),(dateArray[5]||0===dateArray[5])&&(this.ON.gregorian.second=dateArray[5]),(dateArray[6]||0===dateArray[6])&&(this.ON.gregorian.millisecond=dateArray[6]),this.updateFromGregorian()}},{key:"calcJulian",value:function(){var j=void 0,date=void 0;j=this.ON.julianday,date=this.jd_to_gregorian(j),this.ON.gregorian.year=date[0],this.ON.gregorian.month=date[1]-1,this.ON.gregorian.day=date[2],this.updateFromGregorian()}},{key:"setJulian",value:function(j){this.ON.julianday=j,this.calcJulian()}},{key:"calcPersian",value:function(dateArray){dateArray[0]&&(this.ON.persian.year=dateArray[0]),dateArray[1]&&(this.ON.persian.month=dateArray[1]),dateArray[2]&&(this.ON.persian.day=dateArray[2]),dateArray[3]&&(this.ON.gregorian.hour=dateArray[3]),dateArray[4]&&(this.ON.gregorian.minute=dateArray[4]),dateArray[5]&&(this.ON.gregorian.second=dateArray[5]),dateArray[6]&&(this.ON.gregorian.millisecond=dateArray[6]),this.setJulian(this.persian_to_jd(this.ON.persian.year,this.ON.persian.month,this.ON.persian.day))}},{key:"calcPersiana",value:function(dateArray){dateArray[0]&&(this.ON.persianAstro.year=dateArray[0]),dateArray[1]&&(this.ON.persianAstro.month=dateArray[1]),dateArray[2]&&(this.ON.persianAstro.day=dateArray[2]),dateArray[3]&&(this.ON.gregorian.hour=dateArray[3]),dateArray[4]&&(this.ON.gregorian.minute=dateArray[4]),dateArray[5]&&(this.ON.gregorian.second=dateArray[5]),dateArray[6]&&(this.ON.gregorian.millisecond=dateArray[6]),this.setJulian(this.persiana_to_jd(this.ON.persianAstro.year,this.ON.persianAstro.month,this.ON.persianAstro.day+.5))}}]),Algorithms}();module.exports=Algorithms},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ASTRO=function(){function ASTRO(){_classCallCheck(this,ASTRO),this.J2000=2451545,this.JulianCentury=36525,this.JulianMillennium=10*this.JulianCentury,this.TropicalYear=365.24219878,this.oterms=[-4680.93,-1.55,1999.25,-51.38,-249.67,-39.05,7.12,27.87,5.79,2.45],this.nutArgMult=[0,0,0,0,1,-2,0,0,2,2,0,0,0,2,2,0,0,0,0,2,0,1,0,0,0,0,0,1,0,0,-2,1,0,2,2,0,0,0,2,1,0,0,1,2,2,-2,-1,0,2,2,-2,0,1,0,0,-2,0,0,2,1,0,0,-1,2,2,2,0,0,0,0,0,0,1,0,1,2,0,-1,2,2,0,0,-1,0,1,0,0,1,2,1,-2,0,2,0,0,0,0,-2,2,1,2,0,0,2,2,0,0,2,2,2,0,0,2,0,0,-2,0,1,2,2,0,0,0,2,0,-2,0,0,2,0,0,0,-1,2,1,0,2,0,0,0,2,0,-1,0,1,-2,2,0,2,2,0,1,0,0,1,-2,0,1,0,1,0,-1,0,0,1,0,0,2,-2,0,2,0,-1,2,1,2,0,1,2,2,0,1,0,2,2,-2,1,1,0,0,0,-1,0,2,2,2,0,0,2,1,2,0,1,0,0,-2,0,2,2,2,-2,0,1,2,1,2,0,-2,0,1,2,0,0,0,1,0,-1,1,0,0,-2,-1,0,2,1,-2,0,0,0,1,0,0,2,2,1,-2,0,2,0,1,-2,1,0,2,1,0,0,1,-2,0,-1,0,1,0,0,-2,1,0,0,0,1,0,0,0,0,0,0,1,2,0,-1,-1,1,0,0,0,1,1,0,0,0,-1,1,2,2,2,-1,-1,2,2,0,0,-2,2,2,0,0,3,2,2,2,-1,0,2,2],this.nutArgCoeff=[-171996,-1742,92095,89,-13187,-16,5736,-31,-2274,-2,977,-5,2062,2,-895,5,1426,-34,54,-1,712,1,-7,0,-517,12,224,-6,-386,-4,200,0,-301,0,129,-1,217,-5,-95,3,-158,0,0,0,129,1,-70,0,123,0,-53,0,63,0,0,0,63,1,-33,0,-59,0,26,0,-58,-1,32,0,-51,0,27,0,48,0,0,0,46,0,-24,0,-38,0,16,0,-31,0,13,0,29,0,0,0,29,0,-12,0,26,0,0,0,-22,0,0,0,21,0,-10,0,17,-1,0,0,16,0,-8,0,-16,1,7,0,-15,0,9,0,-13,0,7,0,-12,0,6,0,11,0,0,0,-10,0,5,0,-8,0,3,0,7,0,-3,0,-7,0,0,0,-7,0,3,0,-7,0,3,0,6,0,0,0,6,0,-3,0,6,0,-3,0,-6,0,3,0,-6,0,3,0,5,0,0,0,-5,0,3,0,-5,0,3,0,-5,0,3,0,4,0,0,0,4,0,0,0,4,0,0,0,-4,0,0,0,-4,0,0,0,-4,0,0,0,3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0],this.deltaTtab=[121,112,103,95,88,82,77,72,68,63,60,56,53,51,48,46,44,42,40,38,35,33,31,29,26,24,22,20,18,16,14,12,11,10,9,8,7,7,7,7,7,7,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,12,12,12,12,13,13,13,14,14,14,14,15,15,15,15,15,16,16,16,16,16,16,16,16,15,15,14,13,13.1,12.5,12.2,12,12,12,12,12,12,11.9,11.6,11,10.2,9.2,8.2,7.1,6.2,5.6,5.4,5.3,5.4,5.6,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.6,7.7,7.3,6.2,5.2,2.7,1.4,-1.2,-2.8,-3.8,-4.8,-5.5,-5.3,-5.6,-5.7,-5.9,-6,-6.3,-6.5,-6.2,-4.7,-2.8,-.1,2.6,5.3,7.7,10.4,13.3,16,18.2,20.2,21.1,22.4,23.5,23.8,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.2,42.2,44.5,46.5,48.5,50.5,52.2,53.8,54.9,55.8,56.9,58.3,60,61.6,63,65,66.6],this.EquinoxpTerms=[485,324.96,1934.136,203,337.23,32964.467,199,342.08,20.186,182,27.85,445267.112,156,73.14,45036.886,136,171.52,22518.443,77,222.54,65928.934,74,296.72,3034.906,70,243.58,9037.513,58,119.81,33718.147,52,297.17,150.678,50,21.02,2281.226,45,247.54,29929.562,44,325.15,31555.956,29,60.93,4443.417,18,155.12,67555.328,17,288.79,4562.452,16,198.04,62894.029,14,199.76,31436.921,12,95.39,14577.848,12,287.11,31931.756,12,320.81,34777.259,9,227.73,1222.114,8,15.45,16859.074],this.JDE0tab1000=[new Array(1721139.29189,365242.1374,.06134,.00111,-71e-5),new Array(1721233.25401,365241.72562,-.05323,.00907,25e-5),new Array(1721325.70455,365242.49558,-.11677,-.00297,74e-5),new Array(1721414.39987,365242.88257,-.00769,-.00933,-6e-5)],this.JDE0tab2000=[new Array(2451623.80984,365242.37404,.05169,-.00411,-57e-5),new Array(2451716.56767,365241.62603,.00325,.00888,-3e-4),new Array(2451810.21715,365242.01767,-.11575,.00337,78e-5),new Array(2451900.05952,365242.74049,-.06223,-.00823,32e-5)]}return _createClass(ASTRO,[{key:"dtr",value:function(d){return d*Math.PI/180}},{key:"rtd",value:function(r){return 180*r/Math.PI}},{key:"fixangle",value:function(a){return a-360*Math.floor(a/360)}},{key:"fixangr",value:function(a){return a-2*Math.PI*Math.floor(a/(2*Math.PI))}},{key:"dsin",value:function(d){return Math.sin(this.dtr(d))}},{key:"dcos",value:function(d){return Math.cos(this.dtr(d))}},{key:"mod",value:function(a,b){return a-b*Math.floor(a/b)}},{key:"jwday",value:function(j){return this.mod(Math.floor(j+1.5),7)}},{key:"obliqeq",value:function(jd){var eps,u,v,i;if(v=u=(jd-this.J2000)/(100*this.JulianCentury),eps=23.43929111111111,Math.abs(u)<1)for(i=0;10>i;i++)eps+=this.oterms[i]/3600*v,v*=u;return eps}},{key:"nutation",value:function(jd){var deltaPsi,deltaEpsilon,i,j,t2,t3,to10,ang,t=(jd-2451545)/36525,ta=[],dp=0,de=0;for(t3=t*(t2=t*t),ta[0]=this.dtr(297.850363+445267.11148*t-.0019142*t2+t3/189474),ta[1]=this.dtr(357.52772+35999.05034*t-1603e-7*t2-t3/3e5),ta[2]=this.dtr(134.96298+477198.867398*t+.0086972*t2+t3/56250),ta[3]=this.dtr(93.27191+483202.017538*t-.0036825*t2+t3/327270),ta[4]=this.dtr(125.04452-1934.136261*t+.0020708*t2+t3/45e4),i=0;5>i;i++)ta[i]=this.fixangr(ta[i]);for(to10=t/10,i=0;63>i;i++){for(ang=0,j=0;5>j;j++)0!==this.nutArgMult[5*i+j]&&(ang+=this.nutArgMult[5*i+j]*ta[j]);dp+=(this.nutArgCoeff[4*i+0]+this.nutArgCoeff[4*i+1]*to10)*Math.sin(ang),de+=(this.nutArgCoeff[4*i+2]+this.nutArgCoeff[4*i+3]*to10)*Math.cos(ang)}return deltaPsi=dp/36e6,deltaEpsilon=de/36e6,[deltaPsi,deltaEpsilon]}},{key:"deltat",value:function(year){var dt,f,i,t;return year>=1620&&2e3>=year?(i=Math.floor((year-1620)/2),f=(year-1620)/2-i,dt=this.deltaTtab[i]+(this.deltaTtab[i+1]-this.deltaTtab[i])*f):(t=(year-2e3)/100,948>year?dt=2177+497*t+44.1*t*t:(dt=102+102*t+25.3*t*t,year>2e3&&2100>year&&(dt+=.37*(year-2100)))),dt}},{key:"equinox",value:function(year,which){var deltaL=void 0,i=void 0,j=void 0,JDE0=void 0,JDE=void 0,JDE0tab=void 0,S=void 0,T=void 0,W=void 0,Y=void 0;for(1e3>year?(JDE0tab=this.JDE0tab1000,Y=year/1e3):(JDE0tab=this.JDE0tab2000,Y=(year-2e3)/1e3),JDE0=JDE0tab[which][0]+JDE0tab[which][1]*Y+JDE0tab[which][2]*Y*Y+JDE0tab[which][3]*Y*Y*Y+JDE0tab[which][4]*Y*Y*Y*Y,T=(JDE0-2451545)/36525,W=35999.373*T-2.47,deltaL=1+.0334*this.dcos(W)+7e-4*this.dcos(2*W),S=0,i=j=0;24>i;i++)S+=this.EquinoxpTerms[j]*this.dcos(this.EquinoxpTerms[j+1]+this.EquinoxpTerms[j+2]*T),j+=3;return JDE=JDE0+1e-5*S/deltaL}},{key:"sunpos",value:function(jd){var T=void 0,T2=void 0,L0=void 0,M=void 0,e=void 0,C=void 0,sunLong=void 0,sunAnomaly=void 0,sunR=void 0,Omega=void 0,Lambda=void 0,epsilon=void 0,epsilon0=void 0,Alpha=void 0,Delta=void 0,AlphaApp=void 0,DeltaApp=void 0;return T=(jd-this.J2000)/this.JulianCentury,T2=T*T,L0=280.46646+36000.76983*T+3032e-7*T2,L0=this.fixangle(L0),M=357.52911+35999.05029*T+-1537e-7*T2,M=this.fixangle(M),e=.016708634+-42037e-9*T+-1.267e-7*T2,C=(1.914602+-.004817*T+-14e-6*T2)*this.dsin(M)+(.019993-101e-6*T)*this.dsin(2*M)+289e-6*this.dsin(3*M),sunLong=L0+C,sunAnomaly=M+C,sunR=1.000001018*(1-e*e)/(1+e*this.dcos(sunAnomaly)),Omega=125.04-1934.136*T,Lambda=sunLong+-.00569+-.00478*this.dsin(Omega),epsilon0=this.obliqeq(jd),epsilon=epsilon0+.00256*this.dcos(Omega),Alpha=this.rtd(Math.atan2(this.dcos(epsilon0)*this.dsin(sunLong),this.dcos(sunLong))),Alpha=this.fixangle(Alpha),Delta=this.rtd(Math.asin(this.dsin(epsilon0)*this.dsin(sunLong))),AlphaApp=this.rtd(Math.atan2(this.dcos(epsilon)*this.dsin(Lambda),this.dcos(Lambda))),AlphaApp=this.fixangle(AlphaApp),DeltaApp=this.rtd(Math.asin(this.dsin(epsilon)*this.dsin(Lambda))),[L0,M,e,C,sunLong,sunAnomaly,sunR,Lambda,Alpha,Delta,AlphaApp,DeltaApp]}},{key:"equationOfTime",value:function(jd){var alpha=void 0,deltaPsi=void 0,E=void 0,epsilon=void 0,L0=void 0,tau=void 0;return tau=(jd-this.J2000)/this.JulianMillennium,L0=280.4664567+360007.6982779*tau+.03032028*tau*tau+tau*tau*tau/49931+-(tau*tau*tau*tau/15300)+-(tau*tau*tau*tau*tau/2e6),L0=this.fixangle(L0),alpha=this.sunpos(jd)[10],deltaPsi=this.nutation(jd)[0],epsilon=this.obliqeq(jd)+this.nutation(jd)[1],E=L0+-.0057183+-alpha+deltaPsi*this.dcos(epsilon),E-=20*Math.floor(E/20),E/=1440}}]),ASTRO}();module.exports=ASTRO},function(module,exports,__webpack_require__){"use strict";module.exports={durationUnit:{year:["y","years","year"],month:["M","months","month"],day:["d","days","day"],hour:["h","hours","hour"],minute:["m","minutes","minute"],second:["s","second","seconds"],millisecond:["ms","milliseconds","millisecond"],week:["w","","weeks","week"]}}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Helpers=__webpack_require__(0),normalizeDuration=(new Helpers).normalizeDuration,absRound=(new Helpers).absRound,absFloor=(new Helpers).absFloor,Duration=function(){function Duration(key,value){_classCallCheck(this,Duration);var duration={},data=this._data={},milliseconds=0,normalizedUnit=normalizeDuration(key,value),unit=normalizedUnit.unit;duration[unit]=normalizedUnit.value,milliseconds=duration.milliseconds||duration.millisecond||duration.ms||0;var years=duration.years||duration.year||duration.y||0,months=duration.months||duration.month||duration.M||0,weeks=duration.weeks||duration.w||duration.week||0,days=duration.days||duration.d||duration.day||0,hours=duration.hours||duration.hour||duration.h||0,minutes=duration.minutes||duration.minute||duration.m||0,seconds=duration.seconds||duration.second||duration.s||0;return this._milliseconds=milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=days+7*weeks,this._months=months+12*years,data.milliseconds=milliseconds%1e3,seconds+=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes+=absRound(seconds/60),data.minutes=minutes%60,hours+=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),days+=7*weeks,data.days=days%30,months+=absRound(days/30),data.months=months%12,years+=absRound(months/12),data.years=years,this}return _createClass(Duration,[{key:"valueOf",value:function(){return this._milliseconds+864e5*this._days+2592e6*this._months}}]),Duration}();module.exports=Duration},function(module,exports,__webpack_require__){"use strict";module.exports={gregorian:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"]},persian:{months:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthsShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],weekdays:["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],persianDaysName:["Urmazd","Bahman","Ordibehesht","Shahrivar","Sepandarmaz","Khurdad","Amordad","Dey-be-azar","Azar","Aban","Khorshid","Mah","Tir","Gush","Dey-be-mehr","Mehr","Sorush","Rashn","Farvardin","Bahram","Ram","Bad","Dey-be-din","Din","Ord","Ashtad","Asman","Zamyad","Mantre-sepand","Anaram","Ziadi"]}}},function(module,exports,__webpack_require__){"use strict";module.exports={gregorian:{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_")},persian:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],monthsShort:["فرو","ارد","خرد","تیر","مرد","شهر","مهر","آبا","آذر","دی","بهم","اسف"],weekdays:["شنبه","یکشنبه","دوشنبه","سه شنبه","چهار شنبه","پنج‌شنبه","جمعه"],weekdaysShort:["ش","ی","د","س","چ","پ","ج"],weekdaysMin:["ش","ی","د","س","چ","پ","ج"],persianDaysName:["اورمزد","بهمن","اوردیبهشت","شهریور","سپندارمذ","خورداد","امرداد","دی به آذز","آذز","آبان","خورشید","ماه","تیر","گوش","دی به مهر","مهر","سروش","رشن","فروردین","بهرام","رام","باد","دی به دین","دین","ارد","اشتاد","آسمان","زامیاد","مانتره سپند","انارام","زیادی"]
}}},function(module,exports,__webpack_require__){"use strict";var PersianDateClass=__webpack_require__(1);PersianDateClass.calendarType="persian",PersianDateClass.leapYearMode="astronomical",PersianDateClass.localType="fa",module.exports=PersianDateClass},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Container=function Container(){_classCallCheck(this,Container),this.gDate=null,this.modifiedjulianday=0,this.julianday=0,this.gregserial={day:0},this.zone=0,this.gregorian={year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,weekday:0,unix:0,leap:0},this.juliancalendar={year:0,month:0,day:0,leap:0,weekday:0},this.islamic={year:0,month:0,day:0,leap:0,weekday:0},this.persianAlgo=this.persian={year:0,month:0,day:0,leap:0,weekday:0},this.persianAstro={year:0,month:0,day:0,leap:0,weekday:0},this.isoweek={year:0,week:0,day:0},this.isoday={year:0,day:0}};module.exports=Container},function(module,exports,__webpack_require__){"use strict";module.exports={isArray:function(input){return"[object Array]"===Object.prototype.toString.call(input)},isNumber:function(input){return"number"==typeof input},isDate:function(input){return input instanceof Date}}}])}),function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.persianDatepicker=factory():root.persianDatepicker=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=5)}([function(module,exports,__webpack_require__){"use strict";var Helper={debounce:function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}},log:function(input){console.log(input)},isMobile:function(){var check=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),check}(),debug:function(elem,input){window.persianDatepickerDebug&&console.log(elem.constructor.name?"Debug: "+elem.constructor.name+" : "+input:"Debug: "+input)},delay:function(callback,ms){clearTimeout(window.datepickerTimer),window.datepickerTimer=setTimeout(callback,ms)}};module.exports=Helper},function(module,exports,__webpack_require__){"use strict";var Template='\n<div id="plotId" class="datepicker-plot-area {{cssClass}}">\n    {{#navigator.enabled}}\n        <div data-navigator class="datepicker-navigator">\n            <div class="pwt-btn pwt-btn-next">{{navigator.text.btnNextText}}</div>\n            <div class="pwt-btn pwt-btn-switch">{{navigator.switch.text}}</div>\n            <div class="pwt-btn pwt-btn-prev">{{navigator.text.btnPrevText}}</div>\n        </div>\n    {{/navigator.enabled}}\n    <div class="datepicker-grid-view" >\n    {{#days.enabled}}\n        {{#days.viewMode}}\n        <div class="datepicker-day-view" >    \n            <div class="month-grid-box">\n                <div class="header">\n                    <div class="title"></div>\n                    <div class="header-row">\n                        {{#weekdays.list}}\n                            <div class="header-row-cell">{{.}}</div>\n                        {{/weekdays.list}}\n                    </div>\n                </div>    \n                <table cellspacing="0" class="table-days">\n                    <tbody>\n                        {{#days.list}}\n                           \n                            <tr>\n                                {{#.}}\n                                    {{#enabled}}\n                                        <td data-date="{{dataDate}}" data-unix="{{dataUnix}}" >\n                                            <span  class="{{#otherMonth}}other-month{{/otherMonth}}">{{title}}</span>\n                                            {{#altCalendarShowHint}}\n                                            <i  class="alter-calendar-day">{{alterCalTitle}}</i>\n                                            {{/altCalendarShowHint}}\n                                        </td>\n                                    {{/enabled}}\n                                    {{^enabled}}\n                                        <td data-date="{{dataDate}}" data-unix="{{dataUnix}}" class="disabled">\n                                            <span class="{{#otherMonth}}other-month{{/otherMonth}}">{{title}}</span>\n                                            {{#altCalendarShowHint}}\n                                            <i  class="alter-calendar-day">{{alterCalTitle}}</i>\n                                            {{/altCalendarShowHint}}\n                                        </td>\n                                    {{/enabled}}\n                                    \n                                {{/.}}\n                            </tr>\n                        {{/days.list}}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        {{/days.viewMode}}\n    {{/days.enabled}}\n    \n    {{#month.enabled}}\n        {{#month.viewMode}}\n            <div class="datepicker-month-view">\n                {{#month.list}}\n                    {{#enabled}}               \n                        <div data-month="{{dataMonth}}" class="month-item {{#selected}}selected{{/selected}}">{{title}}</small></div>\n                    {{/enabled}}\n                    {{^enabled}}               \n                        <div data-month="{{dataMonth}}" class="month-item month-item-disable {{#selected}}selected{{/selected}}">{{title}}</small></div>\n                    {{/enabled}}\n                {{/month.list}}\n            </div>\n        {{/month.viewMode}}\n    {{/month.enabled}}\n    \n    {{#year.enabled }}\n        {{#year.viewMode }}\n            <div class="datepicker-year-view" >\n                {{#year.list}}\n                    {{#enabled}}\n                        <div data-year="{{dataYear}}" class="year-item {{#selected}}selected{{/selected}}">{{title}}</div>\n                    {{/enabled}}\n                    {{^enabled}}\n                        <div data-year="{{dataYear}}" class="year-item year-item-disable {{#selected}}selected{{/selected}}">{{title}}</div>\n                    {{/enabled}}                    \n                {{/year.list}}\n            </div>\n        {{/year.viewMode }}\n    {{/year.enabled }}\n    \n    </div>\n    {{#time}}\n    {{#enabled}}\n    <div class="datepicker-time-view">\n        {{#hour.enabled}}\n            <div class="hour time-segment" data-time-key="hour">\n                <div class="up-btn" data-time-key="hour">▲</div>\n                <input value="{{hour.title}}" type="text" placeholder="hour" class="hour-input">\n                <div class="down-btn" data-time-key="hour">▼</div>                    \n            </div>       \n            <div class="divider">\n                <span>:</span>\n            </div>\n        {{/hour.enabled}}\n        {{#minute.enabled}}\n            <div class="minute time-segment" data-time-key="minute" >\n                <div class="up-btn" data-time-key="minute">▲</div>\n                <input disabled value="{{minute.title}}" type="text" placeholder="minute" class="minute-input">\n                <div class="down-btn" data-time-key="minute">▼</div>\n            </div>        \n            <div class="divider second-divider">\n                <span>:</span>\n            </div>\n        {{/minute.enabled}}\n        {{#second.enabled}}\n            <div class="second time-segment" data-time-key="second"  >\n                <div class="up-btn" data-time-key="second" >▲</div>\n                <input disabled value="{{second.title}}"  type="text" placeholder="second" class="second-input">\n                <div class="down-btn" data-time-key="second" >▼</div>\n            </div>\n            <div class="divider meridian-divider"></div>\n            <div class="divider meridian-divider"></div>\n        {{/second.enabled}}\n        {{#meridian.enabled}}\n            <div class="meridian time-segment" data-time-key="meridian" >\n                <div class="up-btn" data-time-key="meridian">▲</div>\n                <input disabled value="{{meridian.title}}" type="text" class="meridian-input">\n                <div class="down-btn" data-time-key="meridian">▼</div>\n            </div>\n        {{/meridian.enabled}}\n    </div>\n    {{/enabled}}\n    {{/time}}\n    \n    {{#toolbox}}\n    {{#enabled}}\n    <div class="toolbox">\n        {{#toolbox.submitButton.enabled}}\n            <div class="pwt-btn-submit">{{submitButtonText}}</div>\n        {{/toolbox.submitButton.enabled}}        \n        {{#toolbox.todayButton.enabled}}\n            <div class="pwt-btn-today">{{todayButtonText}}</div>\n        {{/toolbox.todayButton.enabled}}        \n        {{#toolbox.calendarSwitch.enabled}}\n            <div class="pwt-btn-calendar">{{calendarSwitchText}}</div>\n        {{/toolbox.calendarSwitch.enabled}}\n    </div>\n    {{/enabled}}\n    {{^enabled}}\n        {{#onlyTimePicker}}\n        <div class="toolbox">\n            <div class="pwt-btn-exit">{{text.btnExit}}</div>\n        </div>\n        {{/onlyTimePicker}}\n    {{/enabled}}\n    {{/toolbox}}\n</div>\n';module.exports=Template},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),State=__webpack_require__(11),Toolbox=__webpack_require__(12),View=__webpack_require__(13),Input=__webpack_require__(6),API=__webpack_require__(3),Navigator=__webpack_require__(7),Options=__webpack_require__(8),PersianDateWrapper=__webpack_require__(10),Model=function(){function Model(inputElement,options){return _classCallCheck(this,Model),this.components(inputElement,options)}return _createClass(Model,[{key:"components",value:function(inputElement,options){return this.initialUnix=null,this.inputElement=inputElement,this.options=new Options(options,this),this.PersianDate=new PersianDateWrapper(this),this.state=new State(this),this.api=new API(this),this.input=new Input(this,inputElement),this.view=new View(this),this.toolbox=new Toolbox(this),this.updateInput=function(unix){this.input.update(unix)},this.state.setViewDateTime("unix",this.input.getOnInitState()),this.state.setSelectedDateTime("unix",this.input.getOnInitState()),this.view.render(),this.navigator=new Navigator(this),this.api}}]),Model}();module.exports=Model},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),API=function(){function API(model){_classCallCheck(this,API),this.model=model}return _createClass(API,[{key:"show",value:function(){return this.model.view.show(),this.model.options.onShow(this.model),this.model}},{key:"getState",value:function(){return this.model.state}},{key:"hide",value:function(){return this.model.view.hide(),this.model.options.onHide(this.model),this.model}},{key:"toggle",value:function(){return this.model.view.toggle(),this.model.options.onToggle(this.model),this.model}},{key:"destroy",value:function(){this.model&&(this.model.view.destroy(),this.model.options.onDestroy(this.model),delete this.model)}},{key:"setDate",value:function(unix){return this.model.state.setSelectedDateTime("unix",unix),this.model.state.setViewDateTime("unix",unix),this.model.state.setSelectedDateTime("unix",unix),this.model.view.render(this.view),this.model.options.onSet(unix),this.model}},{key:"options",get:function(){return this.model.options},set:function(inputOptions){var opt=$.extend(!0,this.model.options,inputOptions);this.model.view.destroy(),this.model.components(this.model.inputElement,opt)}}]),API}();module.exports=API},function(module,exports,__webpack_require__){"use strict";var Helper=__webpack_require__(0),Config={calendarType:"persian",calendar:{persian:{locale:"fa",showHint:!1,leapYearMode:"algorithmic"},gregorian:{locale:"en",showHint:!1}},responsive:!0,inline:!1,initialValue:!0,initialValueType:"gregorian",persianDigit:!0,viewMode:"day",format:"LLLL",formatter:function(unixDate){var self=this,pdate=this.model.PersianDate.date(unixDate);return pdate.format(self.format)},altField:!1,altFormat:"unix",altFieldFormatter:function(unixDate){var self=this,thisAltFormat=self.altFormat.toLowerCase(),pd=void 0;return"gregorian"===thisAltFormat||"g"===thisAltFormat?new Date(unixDate):"unix"===thisAltFormat||"u"===thisAltFormat?unixDate:(pd=this.model.PersianDate.date(unixDate),pd.format(self.altFormat))},minDate:null,maxDate:null,navigator:{enabled:!0,scroll:{enabled:!0},text:{btnNextText:"<",btnPrevText:">"},onNext:function(datepickerObject){Helper.debug(datepickerObject,"Event: onNext")},onPrev:function(datepickerObject){Helper.debug(datepickerObject,"Event: onPrev")},onSwitch:function(datepickerObject){Helper.debug(datepickerObject,"dayPicker Event: onSwitch")}},toolbox:{enabled:!0,text:{btnToday:"امروز"},submitButton:{enabled:!1,text:{fa:"تایید",en:"submit"},onSubmit:function(datepickerObject){Helper.debug(datepickerObject,"dayPicker Event: onSubmit")}},todayButton:{enabled:!0,text:{fa:"امروز",en:"today"},onToday:function(datepickerObject){Helper.debug(datepickerObject,"dayPicker Event: onToday")}},calendarSwitch:{enabled:!0,format:"MMMM",onSwitch:function(datepickerObject){Helper.debug(datepickerObject,"dayPicker Event: onSwitch")}},onToday:function(datepickerObject){Helper.debug(datepickerObject,"dayPicker Event: onToday")}},onlyTimePicker:!1,onlySelectOnDate:!0,checkDate:function(){return!0},checkMonth:function(){return!0},checkYear:function(){return!0},timePicker:{enabled:!1,step:1,hour:{enabled:!0,step:null},minute:{enabled:!0,step:null},second:{enabled:!0,step:null},meridian:{enabled:!1}},dayPicker:{enabled:!0,titleFormat:"YYYY MMMM",titleFormatter:function(year,month){var titleDate=this.model.PersianDate.date([year,month]);return titleDate.format(this.model.options.dayPicker.titleFormat)},onSelect:function(selectedDayUnix){Helper.debug(this,"dayPicker Event: onSelect : "+selectedDayUnix)}},monthPicker:{enabled:!0,titleFormat:"YYYY",titleFormatter:function(unix){var titleDate=this.model.PersianDate.date(unix);return titleDate.format(this.model.options.monthPicker.titleFormat)},onSelect:function(monthIndex){Helper.debug(this,"monthPicker Event: onSelect : "+monthIndex)}},yearPicker:{enabled:!0,titleFormat:"YYYY",titleFormatter:function(year){var remaining=12*parseInt(year/12,10),startYear=this.model.PersianDate.date([remaining]),endYear=this.model.PersianDate.date([remaining+11]);return startYear.format(this.model.options.yearPicker.titleFormat)+"-"+endYear.format(this.model.options.yearPicker.titleFormat)},onSelect:function(year){Helper.debug(this,"yearPicker Event: onSelect : "+year)}},onSelect:function(unixDate){Helper.debug(this,"datepicker Event: onSelect : "+unixDate)},onSet:function(unixDate){Helper.debug(this,"datepicker Event: onSet : "+unixDate)},position:"auto",onShow:function(datepickerObject){Helper.debug(datepickerObject,"Event: onShow ")},onHide:function(datepickerObject){Helper.debug(datepickerObject,"Event: onHide ")},onToggle:function(datepickerObject){Helper.debug(datepickerObject,"Event: onToggle ")},onDestroy:function(datepickerObject){Helper.debug(datepickerObject,"Event: onDestroy ")},autoClose:!1,template:null,observer:!1,inputDelay:800};module.exports=Config},function(module,exports,__webpack_require__){"use strict";var Model=__webpack_require__(2);!function($){$.fn.persianDatepicker=$.fn.pDatepicker=function(options){var args=Array.prototype.slice.call(arguments),output=null,self=this;return this||$.error("Invalid selector"),$(this).each(function(){var emptyArr=[],tempArg=args.concat(emptyArr),dp=$(this).data("datepicker"),funcName=null;dp&&"string"==typeof tempArg[0]?(funcName=tempArg[0],output=dp[funcName](tempArg[0])):self.pDatePicker=new Model(this,options)}),$(this).data("datepicker",self.pDatePicker),self.pDatePicker}}(jQuery)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Helper=__webpack_require__(0),PersianDateParser=__webpack_require__(9),Input=function(){function Input(model,inputElement){return _classCallCheck(this,Input),this.model=model,this._firstUpdate=!0,this.elem=inputElement,this.model.options.observer&&this.observe(),this.addInitialClass(),this.initialUnix=null,0==this.model.options.inline&&this._attachInputElementEvents(),this}return _createClass(Input,[{key:"addInitialClass",value:function(){$(this.elem).addClass("pwt-datepicker-input-element")}},{key:"parseInput",value:function(inputString){var parse=new PersianDateParser,that=this;if(void 0!==parse.parse(inputString)){var pd=this.model.PersianDate.date(parse.parse(inputString)).valueOf();that.model.state.setSelectedDateTime("unix",pd),that.model.state.setViewDateTime("unix",pd),that.model.view.render()}}},{key:"observe",value:function(){function doneTyping($self){that.parseInput($self.val())}var that=this;$(that.elem).bind("paste",function(e){Helper.delay(function(){that.parseInput(e.target.value)},60)});var typingTimer=void 0,doneTypingInterval=that.model.options.inputDelay,ctrlDown=!1,ctrlKey=[17,91],vKey=86;$(document).keydown(function(e){$.inArray(e.keyCode,ctrlKey)>0&&(ctrlDown=!0)}).keyup(function(e){$.inArray(e.keyCode,ctrlKey)>0&&(ctrlDown=!1)}),$(that.elem).bind("keyup",function(e){var $self=$(this),trueKey=!1;(8===e.keyCode||e.keyCode<105&&e.keyCode>96||e.keyCode<58&&e.keyCode>47||ctrlDown&&(e.keyCode==vKey||$.inArray(e.keyCode,ctrlKey)>0))&&(trueKey=!0),trueKey&&(clearTimeout(typingTimer),typingTimer=setTimeout(function(){doneTyping($self)},doneTypingInterval))}),$(that.elem).on("keydown",function(){clearTimeout(typingTimer)})}},{key:"_attachInputElementEvents",value:function(){var that=this,closePickerHandler=function closePickerHandler(e){$(e.target).is(that.elem)||$(e.target).is(that.model.view.$container)||0!=$(e.target).closest("#"+that.model.view.$container.attr("id")).length||$(e.target).is($(that.elem).children())||(that.model.api.hide(),$("body").unbind("click",closePickerHandler))};$(this.elem).on("focus click",Helper.debounce(function(evt){return that.model.api.show(),that.model.state.ui.isInline===!1&&$("body").unbind("click",closePickerHandler).bind("click",closePickerHandler),Helper.isMobile&&$(this).blur(),evt.stopPropagation(),!1},200))}},{key:"getInputPosition",value:function(){return $(this.elem).offset()}},{key:"getInputSize",value:function(){return{width:$(this.elem).outerWidth(),height:$(this.elem).outerHeight()}}},{key:"_updateAltField",value:function(unix){var value=this.model.options.altFieldFormatter(unix);$(this.model.options.altField).val(value)}},{key:"_updateInputField",value:function(unix){var value=this.model.options.formatter(unix);$(this.elem).val()!=value&&$(this.elem).val(value)}},{key:"update",value:function(unix){0==this.model.options.initialValue&&this._firstUpdate?this._firstUpdate=!1:(this._updateInputField(unix),this._updateAltField(unix))}},{key:"getOnInitState",value:function(){var persianDatePickerTimeRegex="^([0-1][0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9]))?$",garegurianDate=null,$inputElem=$(this.elem),inputValue=void 0;if(inputValue="INPUT"===$inputElem[0].nodeName?$inputElem[0].getAttribute("value"):$inputElem.data("date"),inputValue&&inputValue.match(persianDatePickerTimeRegex)){var timeArray=inputValue.split(":"),tempDate=new Date;tempDate.setHours(timeArray[0]),tempDate.setMinutes(timeArray[1]),tempDate.setSeconds(timeArray[2]?timeArray[2]:0),this.initialUnix=tempDate.valueOf()}else{if("persian"===this.model.options.initialValueType&&inputValue){var parse=new PersianDateParser,pd=new persianDate(parse.parse(inputValue)).valueOf();garegurianDate=new Date(pd).valueOf()}else inputValue&&(garegurianDate=new Date(inputValue).valueOf());this.initialUnix=garegurianDate&&"undefined"!=garegurianDate?garegurianDate:(new Date).valueOf()}return this.initialUnix}}]),Input}();module.exports=Input},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Hamster=__webpack_require__(14),Navigator=function(){function Navigator(model){return _classCallCheck(this,Navigator),this.model=model,this.liveAttach(),this._attachEvents(),this}return _createClass(Navigator,[{key:"liveAttach",value:function(){if(this.model.options.navigator.scroll.enabled){var that=this,gridPlot=$("#"+that.model.view.id+" .datepicker-grid-view")[0];Hamster(gridPlot).wheel(function(event,delta){that.model.state.navigate(delta>0?"next":"prev"),that.model.view.render(),event.preventDefault()}),this.model.options.timePicker.enabled&&$("#"+that.model.view.id+" .time-segment").each(function(){Hamster(this).wheel(function(event,delta){var $target=$(event.target),key=$target.data("time-key")?$target.data("time-key"):$target.parents("[data-time-key]").data("time-key");key&&(delta>0?that.timeUp(key):that.timeDown(key)),that.model.view.render(),event.preventDefault()})})}}},{key:"timeUp",value:function(timekey){if(void 0!=this.model.options.timePicker[timekey]){var step=void 0,t=void 0,that=this;"meridian"==timekey?(step=12,t="PM"==this.model.state.view.meridian?this.model.PersianDate.date(this.model.state.selected.unixDate).add("hour",step).valueOf():this.model.PersianDate.date(this.model.state.selected.unixDate).subtract("hour",step).valueOf(),this.model.state.meridianToggle()):(step=this.model.options.timePicker[timekey].step,t=this.model.PersianDate.date(this.model.state.selected.unixDate).add(timekey,step).valueOf()),this.model.state.setViewDateTime("unix",t),this.model.state.setSelectedDateTime("unix",t),this.model.view.renderTimePartial(),clearTimeout(this.scrollDelayTimeDown),this.scrollDelayTimeUp=setTimeout(function(){that.model.view.markSelectedDay()},300)}}},{key:"timeDown",value:function(timekey){if(void 0!=this.model.options.timePicker[timekey]){var step=void 0,t=void 0,that=this;"meridian"==timekey?(step=12,t="AM"==this.model.state.view.meridian?this.model.PersianDate.date(this.model.state.selected.unixDate).add("hour",step).valueOf():this.model.PersianDate.date(this.model.state.selected.unixDate).subtract("hour",step).valueOf(),this.model.state.meridianToggle()):(step=this.model.options.timePicker[timekey].step,t=this.model.PersianDate.date(this.model.state.selected.unixDate).subtract(timekey,step).valueOf()),this.model.state.setViewDateTime("unix",t),this.model.state.setSelectedDateTime("unix",t),this.model.view.renderTimePartial(),clearTimeout(this.scrollDelayTimeDown),this.scrollDelayTimeDown=setTimeout(function(){that.model.view.markSelectedDay()},300)}}},{key:"_attachEvents",value:function(){var that=this;this.model.options.navigator.enabled&&$(document).on("click","#"+that.model.view.id+" .pwt-btn",function(){$(this).is(".pwt-btn-next")?(that.model.state.navigate("next"),that.model.view.render(),that.model.options.navigator.onNext(that.model)):$(this).is(".pwt-btn-switch")?(that.model.state.switchViewMode(),that.model.view.render(),that.model.options.navigator.onSwitch(that.model)):$(this).is(".pwt-btn-prev")&&(that.model.state.navigate("prev"),that.model.view.render(),that.model.options.navigator.onPrev(that.model))}),this.model.options.timePicker.enabled&&($(document).on("click","#"+that.model.view.id+" .up-btn",function(){var timekey=$(this).data("time-key");that.timeUp(timekey)}),$(document).on("click","#"+that.model.view.id+" .down-btn",function(){var timekey=$(this).data("time-key");that.timeDown(timekey)})),this.model.options.dayPicker.enabled&&$(document).on("click","#"+that.model.view.id+" .datepicker-day-view td:not(.disabled)",function(){var thisUnix=$(this).data("unix"),mustRender=void 0;that.model.state.setSelectedDateTime("unix",thisUnix),mustRender=that.model.state.selected.month!==that.model.state.view.month?!0:!1,that.model.state.setViewDateTime("unix",that.model.state.selected.unixDate),that.model.options.autoClose&&(that.model.view.hide(),that.model.options.onHide(that)),mustRender?that.model.view.render():that.model.view.markSelectedDay(),that.model.options.dayPicker.onSelect(thisUnix),that.model.options.onSelect(thisUnix)}),this.model.options.monthPicker.enabled&&$(document).on("click","#"+that.model.view.id+" .datepicker-month-view .month-item:not(.month-item-disable)",function(){var month=$(this).data("month");that.model.state.switchViewModeTo("day"),that.model.options.onlySelectOnDate||(that.model.state.setSelectedDateTime("month",month),that.model.options.autoClose&&(that.model.view.hide(),that.model.options.onHide(that))),that.model.state.setViewDateTime("month",month),that.model.view.render(),that.model.options.monthPicker.onSelect(month),that.model.options.onSelect(that.model.state.selected.unix)}),this.model.options.yearPicker.enabled&&$(document).on("click","#"+that.model.view.id+" .datepicker-year-view .year-item:not(.year-item-disable)",function(){var year=$(this).data("year");that.model.state.switchViewModeTo("month"),that.model.options.onlySelectOnDate||(that.model.state.setSelectedDateTime("year",year),that.model.options.autoClose&&(that.model.view.hide(),that.model.options.onHide(that))),that.model.state.setViewDateTime("year",year),that.model.view.render(),that.model.options.yearPicker.onSelect(year),that.model.options.onSelect(that.model.state.selected.unix)})}}]),Navigator}();module.exports=Navigator},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Config=__webpack_require__(4),Template=__webpack_require__(1),Options=function(){function Options(options,model){return _classCallCheck(this,Options),this.model=model,this._compatibility($.extend(!0,this,Config,options))}return _createClass(Options,[{key:"_compatibility",value:function(options){options.inline&&(options.toolbox.submitButton.enabled=!1),options.template||(options.template=Template),persianDate.toCalendar(options.calendarType),persianDate.toLocale(options.calendar[options.calendarType].locale),
options.onlyTimePicker&&(options.dayPicker.enabled=!1,options.monthPicker.enabled=!1,options.yearPicker.enabled=!1,options.navigator.enabled=!1,options.toolbox.enabled=!1,options.timePicker.enabled=!0),null===options.timePicker.hour.step&&(options.timePicker.hour.step=options.timePicker.step),null===options.timePicker.minute.step&&(options.timePicker.minute.step=options.timePicker.step),null===options.timePicker.second.step&&(options.timePicker.second.step=options.timePicker.step),options.dayPicker.enabled===!1&&(options.onlySelectOnDate=!1),options._viewModeList=[],options.dayPicker.enabled&&options._viewModeList.push("day"),options.monthPicker.enabled&&options._viewModeList.push("month"),options.yearPicker.enabled&&options._viewModeList.push("year")}}]),Options}();module.exports=Options},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PersianDateParser=function(){function PersianDateParser(){_classCallCheck(this,PersianDateParser),this.pattern={jalali:/^[1-4]\d{3}(\/|-|\.)((0?[1-6](\/|-|\.)((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))(\/|-|\.)(30|([1-2][0-9])|(0?[1-9]))))$/g}}return _createClass(PersianDateParser,[{key:"parse",value:function(inputString){var that=this,persianDateArray=void 0,jalaliPat=new RegExp(that.pattern.jalali);return String.prototype.toEnglishDigits=function(){var charCodeZero="۰".charCodeAt(0);return this.replace(/[۰-۹]/g,function(w){return w.charCodeAt(0)-charCodeZero})},inputString=inputString.toEnglishDigits(),jalaliPat.test(inputString)?persianDateArray=inputString.split(/\/|-|\,|\./).map(Number):void 0}}]),PersianDateParser}();module.exports=PersianDateParser},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PersianDateWrapper=function(){function PersianDateWrapper(model){return _classCallCheck(this,PersianDateWrapper),this.model=model,this.model.options.calendar_=this.model.options.calendarType,this.model.options.locale_=this.model.options.calendar[this.model.options.calendarType].locale,this}return _createClass(PersianDateWrapper,[{key:"date",value:function(input){window.inspdCount||0===window.inspdCount?window.inspdCount++:window.inspdCount=0;var that=this,output=void 0,cp=void 0;return cp=persianDate.toCalendar(that.model.options.calendar_),this.model.options.calendar[this.model.options.calendarType].leapYearMode&&cp.toLeapYearMode(this.model.options.calendar[this.model.options.calendarType].leapYearMode),output=new cp(input),output.toLocale(that.model.options.locale_)}}]),PersianDateWrapper}();module.exports=PersianDateWrapper},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),State=function(){function State(model){return _classCallCheck(this,State),this.model=model,this.filetredDate=this.model.options.minDate||this.model.options.maxDate,this.viewModeList=this.model.options._viewModeList,this.viewMode=this.viewModeList.indexOf(model.options.viewMode)>0?model.options.viewMode:this.viewModeList[0],this.viewModeIndex=this.viewModeList.indexOf(model.options.viewMode)>0?this.viewModeList.indexOf(model.options.viewMode):0,this.filterDate={start:{year:0,month:0,date:0,hour:0,minute:0,second:0,unixDate:0},end:{year:0,month:0,date:0,hour:0,minute:0,second:0,unixDate:0}},this.view={year:0,month:0,date:0,hour:0,minute:0,second:0,unixDate:0,dateObject:null,meridian:"AM"},this.selected={year:0,month:0,date:0,hour:0,hour12:0,minute:0,second:0,unixDate:0,dateObject:null},this.ui={isOpen:!1,isInline:this.model.options.inline},this._setFilterDate(this.model.options.minDate,this.model.options.maxDate),this}return _createClass(State,[{key:"_setFilterDate",value:function(minDate,maxDate){var self=this;minDate||(minDate=-2e15),maxDate||(maxDate=2e15);var pd=self.model.PersianDate.date(minDate);self.filterDate.start.unixDate=minDate,self.filterDate.start.hour=pd.hour(),self.filterDate.start.minute=pd.minute(),self.filterDate.start.second=pd.second(),self.filterDate.start.month=pd.month(),self.filterDate.start.date=pd.date(),self.filterDate.start.year=pd.year();var pdEnd=self.model.PersianDate.date(maxDate);self.filterDate.end.unixDate=maxDate,self.filterDate.end.hour=pdEnd.hour(),self.filterDate.end.minute=pdEnd.minute(),self.filterDate.end.second=pdEnd.second(),self.filterDate.end.month=pdEnd.month(),self.filterDate.end.date=pdEnd.date(),self.filterDate.end.year=pdEnd.year()}},{key:"navigate",value:function(nav){if("next"==nav){if("year"==this.viewMode&&this.setViewDateTime("year",this.view.year+12),"month"==this.viewMode){var newYear=this.view.year+1;0===newYear&&(newYear=1),this.setViewDateTime("year",newYear)}if("day"==this.viewMode){var _newYear=this.view.year+1;0===_newYear&&(_newYear=1),this.view.month+1==13?(this.setViewDateTime("year",_newYear),this.setViewDateTime("month",1)):this.setViewDateTime("month",this.view.month+1)}}else{if("year"==this.viewMode&&this.setViewDateTime("year",this.view.year-12),"month"==this.viewMode){var _newYear2=this.view.year-1;0===_newYear2&&(_newYear2=-1),this.setViewDateTime("year",_newYear2)}if("day"==this.viewMode)if(this.view.month-1<=0){var _newYear3=this.view.year-1;0===_newYear3&&(_newYear3=-1),this.setViewDateTime("year",_newYear3),this.setViewDateTime("month",12)}else this.setViewDateTime("month",this.view.month-1)}}},{key:"switchViewMode",value:function(){return this.viewModeIndex=this.viewModeIndex+1>=this.viewModeList.length?0:this.viewModeIndex+1,this.viewMode=this.viewModeList[this.viewModeIndex]?this.viewModeList[this.viewModeIndex]:this.viewModeList[0],this._setViewDateTimeUnix(),this}},{key:"switchViewModeTo",value:function(viewMode){this.viewModeList.indexOf(viewMode)>=0&&(this.viewMode=viewMode,this.viewModeIndex=this.viewModeList.indexOf(viewMode))}},{key:"setSelectedDateTime",value:function(key,value){var that=this;switch(key){case"unix":that.selected.unixDate=value;var pd=this.model.PersianDate.date(value);that.selected.year=pd.year(),that.selected.month=pd.month(),that.selected.date=pd.date(),that.selected.hour=pd.hour(),that.selected.hour12=pd.format("hh"),that.selected.minute=pd.minute(),that.selected.second=pd.second();break;case"year":this.selected.year=value;break;case"month":this.selected.month=value;break;case"date":this.selected.date=value;break;case"hour":this.selected.hour=value;break;case"minute":this.selected.minute=value;break;case"second":this.selected.second=value}return that._updateSelectedUnix(),this}},{key:"_updateSelectedUnix",value:function(){return this.selected.dateObject=this.model.PersianDate.date([this.selected.year,this.selected.month,this.selected.date,this.view.hour,this.view.minute,this.view.second]),this.selected.unixDate=this.selected.dateObject.valueOf(),this.model.updateInput(this.selected.unixDate),this}},{key:"_setViewDateTimeUnix",value:function(){return this.view.dateObject=this.model.PersianDate.date([this.view.year,this.view.month,this.view.date,this.view.hour,this.view.minute,this.view.second]),this.view.year=this.view.dateObject.year(),this.view.month=this.view.dateObject.month(),this.view.date=this.view.dateObject.date(),this.view.hour=this.view.dateObject.hour(),this.view.hour12=this.view.dateObject.format("hh"),this.view.minute=this.view.dateObject.minute(),this.view.second=this.view.dateObject.second(),this.view.unixDate=this.view.dateObject.valueOf(),this}},{key:"setViewDateTime",value:function(key,value){var self=this;switch(key){case"unix":var pd=this.model.PersianDate.date(value);self.view.year=pd.year(),self.view.month=pd.month(),self.view.date=pd.date(),self.view.hour=pd.hour(),self.view.minute=pd.minute(),self.view.second=pd.second();break;case"year":this.view.year=value;break;case"month":this.view.month=value;break;case"date":this.view.date=value;break;case"hour":this.view.hour=value;break;case"minute":this.view.minute=value;break;case"second":this.view.second=value}return this._setViewDateTimeUnix(),this}},{key:"meridianToggle",value:function(){var self=this;"AM"===self.view.meridian?self.view.meridian="PM":"PM"===self.view.meridian&&(self.view.meridian="AM")}}]),State}();module.exports=State},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Toolbox=function(){function Toolbox(model){return _classCallCheck(this,Toolbox),this.model=model,this._attachEvents(),this}return _createClass(Toolbox,[{key:"_toggleCalendartype",value:function(){var that=this;"persian"==that.model.options.calendar_?(that.model.options.calendar_="gregorian",that.model.options.locale_=this.model.options.calendar.gregorian.locale):(that.model.options.calendar_="persian",that.model.options.locale_=this.model.options.calendar.persian.locale)}},{key:"_attachEvents",value:function(){var that=this;$(document).on("click","#"+that.model.view.id+" .pwt-btn-today",function(){that.model.state.setSelectedDateTime("unix",(new Date).valueOf()),that.model.state.setViewDateTime("unix",(new Date).valueOf()),that.model.view.reRender(),that.model.options.toolbox.onToday(that.model),that.model.options.toolbox.todayButton.onToday(that.model)}),$(document).on("click","#"+that.model.view.id+" .pwt-btn-calendar",function(){that._toggleCalendartype(),that.model.state.setSelectedDateTime("unix",that.model.state.selected.unixDate),that.model.state.setViewDateTime("unix",that.model.state.view.unixDate),that.model.view.render(),that.model.options.toolbox.calendarSwitch.onSwitch(that.model)}),$(document).on("click","#"+that.model.view.id+" .pwt-btn-submit",function(){that.model.view.hide(),that.model.options.toolbox.submitButton.onSubmit(that.model),that.model.options.onHide(this)})}}]),Toolbox}();module.exports=Toolbox},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Template=__webpack_require__(1),Helper=__webpack_require__(0),Mustache=__webpack_require__(15),View=function(){function View(model){_classCallCheck(this,View),this.yearsViewCount=12,this.model=model,this.rendered=null,this.$container=null,this.id="persianDateInstance-"+parseInt(1e3*Math.random(100));var that=this;return this.model.state.ui.isInline?this.$container=$('<div  id="'+this.id+'" class="datepicker-container-inline"></div>').appendTo(that.model.inputElement):(this.$container=$('<div  id="'+this.id+'" class="datepicker-container"></div>').appendTo("body"),this.hide(),this.setPickerBoxPosition(),this.addCompatibilityClass()),this}return _createClass(View,[{key:"addCompatibilityClass",value:function(){Helper.isMobile&&this.model.options.responsive&&this.$container.addClass("pwt-mobile-view")}},{key:"destroy",value:function(){this.$container.remove()}},{key:"setPickerBoxPosition",value:function(){var inputPosition=this.model.input.getInputPosition(),inputSize=this.model.input.getInputSize();this.$container.css("auto"===this.model.options.position?{left:inputPosition.left+"px",top:inputSize.height+inputPosition.top+"px"}:{left:this.model.options.position[1]+inputPosition.left+"px",top:this.model.options.position[0]+inputPosition.top+"px"})}},{key:"show",value:function(){this.$container.removeClass("pwt-hide"),this.setPickerBoxPosition()}},{key:"hide",value:function(){this.$container.addClass("pwt-hide")}},{key:"toggle",value:function(){this.$container.toggleClass("pwt-hide")}},{key:"_getNavSwitchText",value:function(data){var output=void 0;return"day"==this.model.state.viewMode?output=this.model.options.dayPicker.titleFormatter.call(this,data.year,data.month):"month"==this.model.state.viewMode?output=this.model.options.monthPicker.titleFormatter.call(this,data.dateObject.valueOf()):"year"==this.model.state.viewMode&&(output=this.model.options.yearPicker.titleFormatter.call(this,data.year)),output}},{key:"checkYearAccess",value:function(year){var output=!0;if(this.model.state.filetredDate){var startYear=this.model.state.filterDate.start.year,endYear=this.model.state.filterDate.end.year;if(startYear&&startYear>year)return!1;if(endYear&&year>endYear)return!1}return output?this.model.options.checkYear(year):void 0}},{key:"_getYearViewModel",value:function(viewState){var _this=this,isEnabled=this.model.options.yearPicker.enabled;if(!isEnabled)return{enabled:!1};var list=[].concat(_toConsumableArray(Array(this.yearsViewCount).keys())).map(function(value){return value+parseInt(viewState.year/_this.yearsViewCount)*_this.yearsViewCount}),yearsModel=[],yearStr=this.model.PersianDate.date(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=list[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var i=_step.value;yearStr.year([i]),yearsModel.push({title:yearStr.format("YYYY"),enabled:this.checkYearAccess(i),dataYear:i,selected:this.model.state.selected.year==i})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator["return"]&&_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError}}return{enabled:isEnabled,viewMode:"year"==this.model.state.viewMode,list:yearsModel}}},{key:"checkMonthAccess",value:function(month){month+=1;var output=!0,y=this.model.state.view.year;if(this.model.state.filetredDate){var startMonth=this.model.state.filterDate.start.month,endMonth=this.model.state.filterDate.end.month,startYear=this.model.state.filterDate.start.year,endYear=this.model.state.filterDate.end.year;if(startMonth&&endMonth&&(y==endYear&&month>endMonth||y>endYear)||y==startYear&&startMonth>month||startYear>y)return!1;if(endMonth&&(y==endYear&&month>endMonth||y>endYear))return!1;if(startMonth&&(y==startYear&&startMonth>month||startYear>y))return!1}return output?this.model.options.checkMonth(month,y):void 0}},{key:"_getMonthViewModel",value:function(){var isEnaled=this.model.options.monthPicker.enabled;if(!isEnaled)return{enabled:!1};var monthModel=[],that=this,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=that.model.PersianDate.date().rangeName().months.entries()[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _step2$value=_slicedToArray(_step2.value,2),index=_step2$value[0],month=_step2$value[1];monthModel.push({title:month,enabled:this.checkMonthAccess(index),year:this.model.state.view.year,dataMonth:index+1,selected:this.model.state.selected.year==this.model.state.view.year&&this.model.state.selected.month==index+1})}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2["return"]&&_iterator2["return"]()}finally{if(_didIteratorError2)throw _iteratorError2}}return{enabled:isEnaled,viewMode:"month"==this.model.state.viewMode,list:monthModel}}},{key:"checkDayAccess",value:function(unixtimespan){var self=this,output=!0;if(self.minDate=this.model.options.minDate,self.maxDate=this.model.options.maxDate,self.model.state.filetredDate)if(self.minDate&&self.maxDate){if(self.minDate=self.model.PersianDate.date(self.minDate).startOf("day").valueOf(),self.maxDate=self.model.PersianDate.date(self.maxDate).endOf("day").valueOf(),!(unixtimespan>=self.minDate&&unixtimespan<=self.maxDate))return!1}else if(self.minDate){if(self.minDate=self.model.PersianDate.date(self.minDate).startOf("day").valueOf(),unixtimespan<=self.minDate)return!1}else if(self.maxDate&&(self.maxDate=self.model.PersianDate.date(self.maxDate).endOf("day").valueOf(),unixtimespan>=self.maxDate))return!1;return output?self.model.options.checkDate(unixtimespan):void 0}},{key:"_getDayViewModel",value:function(){if("day"!=this.model.state.viewMode)return[];var isEnabled=this.model.options.dayPicker.enabled;if(!isEnabled)return{enabled:!1};var viewMonth=this.model.state.view.month,viewYear=this.model.state.view.year,pdateInstance=this.model.PersianDate.date(),daysCount=pdateInstance.daysInMonth(viewYear,viewMonth),firstWeekDayOfMonth=pdateInstance.getFirstWeekDayOfMonth(viewYear,viewMonth)-1,outputList=[],daysListindex=0,nextMonthListIndex=0,daysMatrix=[["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"]],anotherCalendar=this._getAnotherCalendar(),pdate=this.model.PersianDate.date(),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=daysMatrix.entries()[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _step3$value=_slicedToArray(_step3.value,2),rowIndex=_step3$value[0],daysRow=_step3$value[1];outputList[rowIndex]=[];var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=daysRow.entries()[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var _step4$value=_slicedToArray(_step4.value,1),dayIndex=_step4$value[0],calcedDate=void 0,otherMonth=void 0;0===rowIndex&&firstWeekDayOfMonth>dayIndex?(calcedDate=pdate.unix(this.model.state.view.dateObject.startOf("month").valueOf()/1e3).subtract("days",firstWeekDayOfMonth-dayIndex),otherMonth=!0):0===rowIndex&&dayIndex>=firstWeekDayOfMonth||5>=rowIndex&&daysCount>daysListindex?(daysListindex+=1,calcedDate=pdate.year(this.model.state.view.year).month(this.model.state.view.month).date(daysListindex),otherMonth=!1):(nextMonthListIndex+=1,calcedDate=pdate.unix(this.model.state.view.dateObject.endOf("month").valueOf()/1e3).add("days",nextMonthListIndex),otherMonth=!0),outputList[rowIndex].push({title:calcedDate.format("D"),alterCalTitle:new persianDate(calcedDate.valueOf()).toCalendar(anotherCalendar[0]).toLocale(anotherCalendar[1]).format("D"),dataDate:[calcedDate.year(),calcedDate.month(),calcedDate.date()].join(","),dataUnix:calcedDate.valueOf(),otherMonth:otherMonth,enabled:this.checkDayAccess(calcedDate.valueOf())})}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4["return"]&&_iterator4["return"]()}finally{if(_didIteratorError4)throw _iteratorError4}}}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3["return"]&&_iterator3["return"]()}finally{if(_didIteratorError3)throw _iteratorError3}}return{enabled:isEnabled,viewMode:"day"==this.model.state.viewMode,list:outputList}}},{key:"markSelectedDay",value:function(){var selected=this.model.state.selected;this.$container.find(".table-days td").each(function(){$(this).data("date")==[selected.year,selected.month,selected.date].join(",")?$(this).addClass("selected"):$(this).removeClass("selected")})}},{key:"markToday",value:function(){var today=new persianDate;this.$container.find(".table-days td").each(function(){$(this).data("date")==[today.year(),today.month(),today.date()].join(",")?$(this).addClass("today"):$(this).removeClass("today")})}},{key:"_getTimeViewModel",value:function(){var isEnabled=this.model.options.timePicker.enabled;if(!isEnabled)return{enabled:!1};var hourTitle=void 0;return hourTitle=this.model.state.view.dateObject.format(this.model.options.timePicker.meridian.enabled?"hh":"HH"),{enabled:isEnabled,hour:{title:hourTitle,enabled:this.model.options.timePicker.hour.enabled},minute:{title:this.model.state.view.dateObject.format("mm"),enabled:this.model.options.timePicker.minute.enabled},second:{title:this.model.state.view.dateObject.format("ss"),enabled:this.model.options.timePicker.second.enabled},meridian:{title:this.model.state.view.dateObject.format("a"),enabled:this.model.options.timePicker.meridian.enabled}}}},{key:"_getWeekViewModel",value:function(){return{enabled:!0,list:this.model.PersianDate.date().rangeName().weekdaysMin}}},{key:"getCssClass",value:function(){return[this.model.state.ui.isInline?"datepicker-plot-area-inline-view":"",this.model.options.timePicker.meridian.enabled?"":"datepicker-state-no-meridian",this.model.options.onlyTimePicker?"datepicker-state-only-time":"",this.model.options.timePicker.second.enabled?"":"datepicker-state-no-second","gregorian"==this.model.options.calendar_?"datepicker-gregorian":"datepicker-persian"].join(" ")}},{key:"getViewModel",value:function(data){var anotherCalendar=this._getAnotherCalendar();return{plotId:"",navigator:{enabled:this.model.options.navigator.enabled,"switch":{enabled:!0,text:this._getNavSwitchText(data)},text:this.model.options.navigator.text},selected:this.model.state.selected,time:this._getTimeViewModel(data),days:this._getDayViewModel(data),weekdays:this._getWeekViewModel(data),month:this._getMonthViewModel(data),year:this._getYearViewModel(data),toolbox:this.model.options.toolbox,cssClass:this.getCssClass(),onlyTimePicker:this.model.options.onlyTimePicker,altCalendarShowHint:this.model.options.calendar[anotherCalendar[0]].showHint,calendarSwitchText:this.model.state.view.dateObject.toCalendar(anotherCalendar[0]).toLocale(anotherCalendar[1]).format(this.model.options.toolbox.calendarSwitch.format),todayButtonText:this._getButtonText().todayButtontext,submitButtonText:this._getButtonText().submitButtonText}}},{key:"_getButtonText",value:function(){var output={};return"fa"==this.model.options.locale_?(output.todayButtontext=this.model.options.toolbox.todayButton.text.fa,output.submitButtonText=this.model.options.toolbox.submitButton.text.fa):"en"==this.model.options.locale_&&(output.todayButtontext=this.model.options.toolbox.todayButton.text.en,output.submitButtonText=this.model.options.toolbox.submitButton.text.en),output}},{key:"_getAnotherCalendar",value:function(){var that=this,cal=void 0,loc=void 0;return"persian"==that.model.options.calendar_?(cal="gregorian",loc=that.model.options.calendar.gregorian.locale):(cal="persian",loc=that.model.options.calendar.persian.locale),[cal,loc]}},{key:"renderTimePartial",value:function(){var timeViewModel=this._getTimeViewModel(this.model.state.view);this.$container.find('[data-time-key="hour"] input').val(timeViewModel.hour.title),this.$container.find('[data-time-key="minute"] input').val(timeViewModel.minute.title),this.$container.find('[data-time-key="second"] input').val(timeViewModel.second.title),this.$container.find('[data-time-key="meridian"] input').val(timeViewModel.meridian.title)}},{key:"render",value:function(data){data||(data=this.model.state.view),Helper.debug(this,"render"),Mustache.parse(Template),this.rendered=$(Mustache.render(this.model.options.template,this.getViewModel(data))),this.$container.empty().append(this.rendered),this.markSelectedDay(),this.markToday(),this.afterRender()}},{key:"reRender",value:function(){var data=this.model.state.view;this.render(data)}},{key:"afterRender",value:function(){this.model.navigator&&this.model.navigator.liveAttach()}}]),View}();module.exports=View},function(module,exports,__webpack_require__){!function(window,document){"use strict";var Hamster=function(element){return new Hamster.Instance(element)};Hamster.SUPPORT="wheel",Hamster.ADD_EVENT="addEventListener",Hamster.REMOVE_EVENT="removeEventListener",Hamster.PREFIX="",Hamster.READY=!1,Hamster.Instance=function(element){return Hamster.READY||(Hamster.normalise.browser(),Hamster.READY=!0),this.element=element,this.handlers=[],this},Hamster.Instance.prototype={wheel:function(handler,useCapture){return Hamster.event.add(this,Hamster.SUPPORT,handler,useCapture),"DOMMouseScroll"===Hamster.SUPPORT&&Hamster.event.add(this,"MozMousePixelScroll",handler,useCapture),this},unwheel:function(handler,useCapture){return void 0===handler&&(handler=this.handlers.slice(-1)[0])&&(handler=handler.original),Hamster.event.remove(this,Hamster.SUPPORT,handler,useCapture),"DOMMouseScroll"===Hamster.SUPPORT&&Hamster.event.remove(this,"MozMousePixelScroll",handler,useCapture),this}},Hamster.event={add:function(hamster,eventName,handler,useCapture){var originalHandler=handler;handler=function(originalEvent){originalEvent||(originalEvent=window.event);var event=Hamster.normalise.event(originalEvent),delta=Hamster.normalise.delta(originalEvent);return originalHandler(event,delta[0],delta[1],delta[2])},hamster.element[Hamster.ADD_EVENT](Hamster.PREFIX+eventName,handler,useCapture||!1),hamster.handlers.push({original:originalHandler,normalised:handler})},remove:function(hamster,eventName,handler,useCapture){for(var handlers,originalHandler=handler,lookup={},i=0,len=hamster.handlers.length;len>i;++i)lookup[hamster.handlers[i].original]=hamster.handlers[i];handlers=lookup[originalHandler],handler=handlers.normalised,hamster.element[Hamster.REMOVE_EVENT](Hamster.PREFIX+eventName,handler,useCapture||!1);for(var h in hamster.handlers)if(hamster.handlers[h]==handlers){hamster.handlers.splice(h,1);break}}};var lowestDelta,lowestDeltaXY;Hamster.normalise={browser:function(){"onwheel"in document||document.documentMode>=9||(Hamster.SUPPORT=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"),window.addEventListener||(Hamster.ADD_EVENT="attachEvent",Hamster.REMOVE_EVENT="detachEvent",Hamster.PREFIX="on")},event:function(originalEvent){var event={originalEvent:originalEvent,target:originalEvent.target||originalEvent.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===originalEvent.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){originalEvent.preventDefault?originalEvent.preventDefault():originalEvent.returnValue=!1},stopPropagation:function(){originalEvent.stopPropagation?originalEvent.stopPropagation():originalEvent.cancelBubble=!1}};return originalEvent.wheelDelta&&(event.deltaY=-1/40*originalEvent.wheelDelta),originalEvent.wheelDeltaX&&(event.deltaX=-1/40*originalEvent.wheelDeltaX),originalEvent.detail&&(event.deltaY=originalEvent.detail),event},delta:function(originalEvent){var fn,delta=0,deltaX=0,deltaY=0,absDelta=0,absDeltaXY=0;return originalEvent.deltaY&&(deltaY=-1*originalEvent.deltaY,delta=deltaY),originalEvent.deltaX&&(deltaX=originalEvent.deltaX,delta=-1*deltaX),originalEvent.wheelDelta&&(delta=originalEvent.wheelDelta),originalEvent.wheelDeltaY&&(deltaY=originalEvent.wheelDeltaY),originalEvent.wheelDeltaX&&(deltaX=-1*originalEvent.wheelDeltaX),originalEvent.detail&&(delta=-1*originalEvent.detail),0===delta?[0,0,0]:(absDelta=Math.abs(delta),(!lowestDelta||lowestDelta>absDelta)&&(lowestDelta=absDelta),absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDeltaXY||lowestDeltaXY>absDeltaXY)&&(lowestDeltaXY=absDeltaXY),fn=delta>0?"floor":"ceil",delta=Math[fn](delta/lowestDelta),deltaX=Math[fn](deltaX/lowestDeltaXY),deltaY=Math[fn](deltaY/lowestDeltaXY),[delta,deltaX,deltaY])}},"function"==typeof window.define&&window.define.amd?window.define("hamster",[],function(){return Hamster}):module.exports=Hamster}(window,window.document)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(global,factory){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?factory(exports):(__WEBPACK_AMD_DEFINE_ARRAY__=[exports],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}(this,function(mustache){function isFunction(object){return"function"==typeof object}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return null!=obj&&"object"==typeof obj&&propName in obj}function testRegExp(re,string){return regExpTest.call(re,string)}function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,function(s){return entityMap[s]})}function parseTemplate(template,tags){function stripSpace(){if(hasTag&&!nonSpace)for(;spaces.length;)delete tokens[spaces.pop()];else spaces=[];hasTag=!1,nonSpace=!1}function compileTags(tagsToCompile){if("string"==typeof tagsToCompile&&(tagsToCompile=tagsToCompile.split(spaceRe,2)),!isArray(tagsToCompile)||2!==tagsToCompile.length)throw new Error("Invalid tags: "+tagsToCompile);

openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*"),closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1])),closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}if(!template)return[];var openingTagRe,closingTagRe,closingCurlyRe,sections=[],tokens=[],spaces=[],hasTag=!1,nonSpace=!1;compileTags(tags||mustache.tags);for(var start,type,value,chr,token,openSection,scanner=new Scanner(template);!scanner.eos();){if(start=scanner.pos,value=scanner.scanUntil(openingTagRe))for(var i=0,valueLength=value.length;valueLength>i;++i)chr=value.charAt(i),isWhitespace(chr)?spaces.push(tokens.length):nonSpace=!0,tokens.push(["text",chr,start,start+1]),start+=1,"\n"===chr&&stripSpace();if(!scanner.scan(openingTagRe))break;if(hasTag=!0,type=scanner.scan(tagRe)||"name",scanner.scan(whiteRe),"="===type?(value=scanner.scanUntil(equalsRe),scanner.scan(equalsRe),scanner.scanUntil(closingTagRe)):"{"===type?(value=scanner.scanUntil(closingCurlyRe),scanner.scan(curlyRe),scanner.scanUntil(closingTagRe),type="&"):value=scanner.scanUntil(closingTagRe),!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);if(token=[type,value,start,scanner.pos],tokens.push(token),"#"===type||"^"===type)sections.push(token);else if("/"===type){if(openSection=sections.pop(),!openSection)throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else"name"===type||"{"===type||"&"===type?nonSpace=!0:"="===type&&compileTags(value)}if(openSection=sections.pop())throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){for(var token,lastToken,squashedTokens=[],i=0,numTokens=tokens.length;numTokens>i;++i)token=tokens[i],token&&("text"===token[0]&&lastToken&&"text"===lastToken[0]?(lastToken[1]+=token[1],lastToken[3]=token[3]):(squashedTokens.push(token),lastToken=token));return squashedTokens}function nestTokens(tokens){for(var token,section,nestedTokens=[],collector=nestedTokens,sections=[],i=0,numTokens=tokens.length;numTokens>i;++i)switch(token=tokens[i],token[0]){case"#":case"^":collector.push(token),sections.push(token),collector=token[4]=[];break;case"/":section=sections.pop(),section[5]=token[2],collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}return nestedTokens}function Scanner(string){this.string=string,this.tail=string,this.pos=0}function Context(view,parentContext){this.view=view,this.cache={".":this.view},this.parent=parentContext}function Writer(){this.cache={}}var objectToString=Object.prototype.toString,isArray=Array.isArray||function(object){return"[object Array]"===objectToString.call(object)},regExpTest=RegExp.prototype.test,nonSpaceRe=/\S/,entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},whiteRe=/\s*/,spaceRe=/\s+/,equalsRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/;Scanner.prototype.eos=function(){return""===this.tail},Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(!match||0!==match.index)return"";var string=match[0];return this.tail=this.tail.substring(string.length),this.pos+=string.length,string},Scanner.prototype.scanUntil=function(re){var match,index=this.tail.search(re);switch(index){case-1:match=this.tail,this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index),this.tail=this.tail.substring(index)}return this.pos+=match.length,match},Context.prototype.push=function(view){return new Context(view,this)},Context.prototype.lookup=function(name){var value,cache=this.cache;if(cache.hasOwnProperty(name))value=cache[name];else{for(var names,index,context=this,lookupHit=!1;context;){if(name.indexOf(".")>0)for(value=context.view,names=name.split("."),index=0;null!=value&&index<names.length;)index===names.length-1&&(lookupHit=hasProperty(value,names[index])),value=value[names[index++]];else value=context.view[name],lookupHit=hasProperty(context.view,name);if(lookupHit)break;context=context.parent}cache[name]=value}return isFunction(value)&&(value=value.call(this.view)),value},Writer.prototype.clearCache=function(){this.cache={}},Writer.prototype.parse=function(template,tags){var cache=this.cache,tokens=cache[template];return null==tokens&&(tokens=cache[template]=parseTemplate(template,tags)),tokens},Writer.prototype.render=function(template,view,partials){var tokens=this.parse(template),context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)},Writer.prototype.renderTokens=function(tokens,context,partials,originalTemplate){for(var token,symbol,value,buffer="",i=0,numTokens=tokens.length;numTokens>i;++i)value=void 0,token=tokens[i],symbol=token[0],"#"===symbol?value=this.renderSection(token,context,partials,originalTemplate):"^"===symbol?value=this.renderInverted(token,context,partials,originalTemplate):">"===symbol?value=this.renderPartial(token,context,partials,originalTemplate):"&"===symbol?value=this.unescapedValue(token,context):"name"===symbol?value=this.escapedValue(token,context):"text"===symbol&&(value=this.rawValue(token)),void 0!==value&&(buffer+=value);return buffer},Writer.prototype.renderSection=function(token,context,partials,originalTemplate){function subRender(template){return self.render(template,context,partials)}var self=this,buffer="",value=context.lookup(token[1]);if(value){if(isArray(value))for(var j=0,valueLength=value.length;valueLength>j;++j)buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate);else if("object"==typeof value||"string"==typeof value||"number"==typeof value)buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate);else if(isFunction(value)){if("string"!=typeof originalTemplate)throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender),null!=value&&(buffer+=value)}else buffer+=this.renderTokens(token[4],context,partials,originalTemplate);return buffer}},Writer.prototype.renderInverted=function(token,context,partials,originalTemplate){var value=context.lookup(token[1]);return!value||isArray(value)&&0===value.length?this.renderTokens(token[4],context,partials,originalTemplate):void 0},Writer.prototype.renderPartial=function(token,context,partials){if(partials){var value=isFunction(partials)?partials(token[1]):partials[token[1]];return null!=value?this.renderTokens(this.parse(value),context,partials,value):void 0}},Writer.prototype.unescapedValue=function(token,context){var value=context.lookup(token[1]);return null!=value?value:void 0},Writer.prototype.escapedValue=function(token,context){var value=context.lookup(token[1]);return null!=value?mustache.escape(value):void 0},Writer.prototype.rawValue=function(token){return token[1]},mustache.name="mustache.js",mustache.version="2.3.0",mustache.tags=["{{","}}"];var defaultWriter=new Writer;return mustache.clearCache=function(){return defaultWriter.clearCache()},mustache.parse=function(template,tags){return defaultWriter.parse(template,tags)},mustache.render=function(template,view,partials){if("string"!=typeof template)throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(template)+'" was given as the first argument for mustache#render(template, view, partials)');return defaultWriter.render(template,view,partials)},mustache.to_html=function(template,view,partials,send){var result=mustache.render(template,view,partials);return isFunction(send)?void send(result):result},mustache.escape=escapeHtml,mustache.Scanner=Scanner,mustache.Context=Context,mustache.Writer=Writer,mustache})}])}),function(factory){"use strict";"function"==typeof define&&define.amd?define(factory):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=factory():window.Sortable=factory()}(function(){"use strict";function Sortable(el,options){if(!el||!el.nodeType||1!==el.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(el);this.el=el,this.options=options=_extend({},options),el[expando]=this;var defaults={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(el.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(dataTransfer,dragEl){dataTransfer.setData("Text",dragEl.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var name in defaults)!(name in options)&&(options[name]=defaults[name]);_prepareGroup(options);for(var fn in this)"_"===fn.charAt(0)&&"function"==typeof this[fn]&&(this[fn]=this[fn].bind(this));this.nativeDraggable=options.forceFallback?!1:supportDraggable,_on(el,"mousedown",this._onTapStart),_on(el,"touchstart",this._onTapStart),_on(el,"pointerdown",this._onTapStart),this.nativeDraggable&&(_on(el,"dragover",this),_on(el,"dragenter",this)),touchDragOverListeners.push(this._onDragOver),options.store&&this.sort(options.store.get(this))}function _cloneHide(sortable,state){"clone"!==sortable.lastPullMode&&(state=!0),cloneEl&&cloneEl.state!==state&&(_css(cloneEl,"display",state?"none":""),state||cloneEl.state&&(sortable.options.group.revertClone?(rootEl.insertBefore(cloneEl,nextEl),sortable._animate(dragEl,cloneEl)):rootEl.insertBefore(cloneEl,dragEl)),cloneEl.state=state)}function _closest(el,selector,ctx){if(el){ctx=ctx||document;do if(">*"===selector&&el.parentNode===ctx||_matches(el,selector))return el;while(el=_getParentOrHost(el))}return null}function _getParentOrHost(el){var parent=el.host;return parent&&parent.nodeType?parent:el.parentNode}function _globalDragOver(evt){evt.dataTransfer&&(evt.dataTransfer.dropEffect="move"),evt.preventDefault()}function _on(el,event,fn){el.addEventListener(event,fn,captureMode)}function _off(el,event,fn){el.removeEventListener(event,fn,captureMode)}function _toggleClass(el,name,state){if(el)if(el.classList)el.classList[state?"add":"remove"](name);else{var className=(" "+el.className+" ").replace(R_SPACE," ").replace(" "+name+" "," ");el.className=(className+(state?" "+name:"")).replace(R_SPACE," ")}}function _css(el,prop,val){var style=el&&el.style;if(style){if(void 0===val)return document.defaultView&&document.defaultView.getComputedStyle?val=document.defaultView.getComputedStyle(el,""):el.currentStyle&&(val=el.currentStyle),void 0===prop?val:val[prop];prop in style||(prop="-webkit-"+prop),style[prop]=val+("string"==typeof val?"":"px")}}function _find(ctx,tagName,iterator){if(ctx){var list=ctx.getElementsByTagName(tagName),i=0,n=list.length;if(iterator)for(;n>i;i++)iterator(list[i],i);return list}return[]}function _dispatchEvent(sortable,rootEl,name,targetEl,fromEl,startIndex,newIndex){sortable=sortable||rootEl[expando];var evt=document.createEvent("Event"),options=sortable.options,onName="on"+name.charAt(0).toUpperCase()+name.substr(1);evt.initEvent(name,!0,!0),evt.to=rootEl,evt.from=fromEl||rootEl,evt.item=targetEl||rootEl,evt.clone=cloneEl,evt.oldIndex=startIndex,evt.newIndex=newIndex,rootEl.dispatchEvent(evt),options[onName]&&options[onName].call(sortable,evt)}function _onMove(fromEl,toEl,dragEl,dragRect,targetEl,targetRect,originalEvt,willInsertAfter){var evt,retVal,sortable=fromEl[expando],onMoveFn=sortable.options.onMove;return evt=document.createEvent("Event"),evt.initEvent("move",!0,!0),evt.to=toEl,evt.from=fromEl,evt.dragged=dragEl,evt.draggedRect=dragRect,evt.related=targetEl||toEl,evt.relatedRect=targetRect||toEl.getBoundingClientRect(),evt.willInsertAfter=willInsertAfter,fromEl.dispatchEvent(evt),onMoveFn&&(retVal=onMoveFn.call(sortable,evt,originalEvt)),retVal}function _disableDraggable(el){el.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsLast(el,evt){var lastEl=el.lastElementChild,rect=lastEl.getBoundingClientRect();return evt.clientY-(rect.top+rect.height)>5||evt.clientX-(rect.left+rect.width)>5}function _generateId(el){for(var str=el.tagName+el.className+el.src+el.href+el.textContent,i=str.length,sum=0;i--;)sum+=str.charCodeAt(i);return sum.toString(36)}function _index(el,selector){var index=0;if(!el||!el.parentNode)return-1;for(;el&&(el=el.previousElementSibling);)"TEMPLATE"===el.nodeName.toUpperCase()||">*"!==selector&&!_matches(el,selector)||index++;return index}function _matches(el,selector){if(el){selector=selector.split(".");var tag=selector.shift().toUpperCase(),re=new RegExp("\\s("+selector.join("|")+")(?=\\s)","g");return!(""!==tag&&el.nodeName.toUpperCase()!=tag||selector.length&&((" "+el.className+" ").match(re)||[]).length!=selector.length)}return!1}function _throttle(callback,ms){var args,_this;return function(){void 0===args&&(args=arguments,_this=this,setTimeout(function(){1===args.length?callback.call(_this,args[0]):callback.apply(_this,args),args=void 0},ms))}}function _extend(dst,src){if(dst&&src)for(var key in src)src.hasOwnProperty(key)&&(dst[key]=src[key]);return dst}function _clone(el){return $?$(el).clone(!0)[0]:Polymer&&Polymer.dom?Polymer.dom(el).cloneNode(!0):el.cloneNode(!0)}function _saveInputCheckedState(root){for(var inputs=root.getElementsByTagName("input"),idx=inputs.length;idx--;){var el=inputs[idx];el.checked&&savedInputChecked.push(el)}}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var dragEl,parentEl,ghostEl,cloneEl,rootEl,nextEl,lastDownEl,scrollEl,scrollParentEl,scrollCustomFn,lastEl,lastCSS,lastParentCSS,oldIndex,newIndex,activeGroup,putSortable,tapEvt,touchEvt,moved,autoScroll={},R_SPACE=/\s+/g,R_FLOAT=/left|right|inline/,expando="Sortable"+(new Date).getTime(),win=window,document=win.document,parseInt=win.parseInt,$=win.jQuery||win.Zepto,Polymer=win.Polymer,captureMode=!1,supportDraggable=!!("draggable"in document.createElement("div")),supportCssPointerEvents=function(el){return navigator.userAgent.match(/Trident.*rv[ :]?11\./)?!1:(el=document.createElement("x"),el.style.cssText="pointer-events:auto","auto"===el.style.pointerEvents)}(),_silent=!1,abs=Math.abs,min=Math.min,savedInputChecked=[],touchDragOverListeners=[],_autoScroll=_throttle(function(evt,options,rootEl){if(rootEl&&options.scroll){var el,rect,vx,vy,scrollOffsetX,scrollOffsetY,_this=rootEl[expando],sens=options.scrollSensitivity,speed=options.scrollSpeed,x=evt.clientX,y=evt.clientY,winWidth=window.innerWidth,winHeight=window.innerHeight;if(scrollParentEl!==rootEl&&(scrollEl=options.scroll,scrollParentEl=rootEl,scrollCustomFn=options.scrollFn,scrollEl===!0)){scrollEl=rootEl;do if(scrollEl.offsetWidth<scrollEl.scrollWidth||scrollEl.offsetHeight<scrollEl.scrollHeight)break;while(scrollEl=scrollEl.parentNode)}scrollEl&&(el=scrollEl,rect=scrollEl.getBoundingClientRect(),vx=(abs(rect.right-x)<=sens)-(abs(rect.left-x)<=sens),vy=(abs(rect.bottom-y)<=sens)-(abs(rect.top-y)<=sens)),vx||vy||(vx=(sens>=winWidth-x)-(sens>=x),vy=(sens>=winHeight-y)-(sens>=y),(vx||vy)&&(el=win)),(autoScroll.vx!==vx||autoScroll.vy!==vy||autoScroll.el!==el)&&(autoScroll.el=el,autoScroll.vx=vx,autoScroll.vy=vy,clearInterval(autoScroll.pid),el&&(autoScroll.pid=setInterval(function(){return scrollOffsetY=vy?vy*speed:0,scrollOffsetX=vx?vx*speed:0,"function"==typeof scrollCustomFn?scrollCustomFn.call(_this,scrollOffsetX,scrollOffsetY,evt):void(el===win?win.scrollTo(win.pageXOffset+scrollOffsetX,win.pageYOffset+scrollOffsetY):(el.scrollTop+=scrollOffsetY,el.scrollLeft+=scrollOffsetX))},24)))}},30),_prepareGroup=function(options){function toFn(value,pull){return(void 0===value||value===!0)&&(value=group.name),"function"==typeof value?value:function(to,from){var fromGroup=from.options.group.name;return pull?value:value&&(value.join?value.indexOf(fromGroup)>-1:fromGroup==value)}}var group={},originalGroup=options.group;originalGroup&&"object"==typeof originalGroup||(originalGroup={name:originalGroup}),group.name=originalGroup.name,group.checkPull=toFn(originalGroup.pull,!0),group.checkPut=toFn(originalGroup.put),group.revertClone=originalGroup.revertClone,options.group=group};Sortable.prototype={constructor:Sortable,_onTapStart:function(evt){var startIndex,_this=this,el=this.el,options=this.options,preventOnFilter=options.preventOnFilter,type=evt.type,touch=evt.touches&&evt.touches[0],target=(touch||evt).target,originalTarget=evt.target.shadowRoot&&evt.path&&evt.path[0]||target,filter=options.filter;if(_saveInputCheckedState(el),!dragEl&&!(/mousedown|pointerdown/.test(type)&&0!==evt.button||options.disabled)&&(target=_closest(target,options.draggable,el),target&&lastDownEl!==target)){if(startIndex=_index(target,options.draggable),"function"==typeof filter){if(filter.call(this,evt,target,this))return _dispatchEvent(_this,originalTarget,"filter",target,el,startIndex),void(preventOnFilter&&evt.preventDefault())}else if(filter&&(filter=filter.split(",").some(function(criteria){return criteria=_closest(originalTarget,criteria.trim(),el),criteria?(_dispatchEvent(_this,criteria,"filter",target,el,startIndex),!0):void 0})))return void(preventOnFilter&&evt.preventDefault());(!options.handle||_closest(originalTarget,options.handle,el))&&this._prepareDragStart(evt,touch,target,startIndex)}},_prepareDragStart:function(evt,touch,target,startIndex){var dragStartFn,_this=this,el=_this.el,options=_this.options,ownerDocument=el.ownerDocument;target&&!dragEl&&target.parentNode===el&&(tapEvt=evt,rootEl=el,dragEl=target,parentEl=dragEl.parentNode,nextEl=dragEl.nextSibling,lastDownEl=target,activeGroup=options.group,oldIndex=startIndex,this._lastX=(touch||evt).clientX,this._lastY=(touch||evt).clientY,dragEl.style["will-change"]="transform",dragStartFn=function(){_this._disableDelayedDrag(),dragEl.draggable=_this.nativeDraggable,_toggleClass(dragEl,options.chosenClass,!0),_this._triggerDragStart(evt,touch),_dispatchEvent(_this,rootEl,"choose",dragEl,rootEl,oldIndex)},options.ignore.split(",").forEach(function(criteria){_find(dragEl,criteria.trim(),_disableDraggable)}),_on(ownerDocument,"mouseup",_this._onDrop),_on(ownerDocument,"touchend",_this._onDrop),_on(ownerDocument,"touchcancel",_this._onDrop),_on(ownerDocument,"pointercancel",_this._onDrop),_on(ownerDocument,"selectstart",_this),options.delay?(_on(ownerDocument,"mouseup",_this._disableDelayedDrag),_on(ownerDocument,"touchend",_this._disableDelayedDrag),_on(ownerDocument,"touchcancel",_this._disableDelayedDrag),_on(ownerDocument,"mousemove",_this._disableDelayedDrag),_on(ownerDocument,"touchmove",_this._disableDelayedDrag),_on(ownerDocument,"pointermove",_this._disableDelayedDrag),_this._dragStartTimer=setTimeout(dragStartFn,options.delay)):dragStartFn())},_disableDelayedDrag:function(){var ownerDocument=this.el.ownerDocument;clearTimeout(this._dragStartTimer),_off(ownerDocument,"mouseup",this._disableDelayedDrag),_off(ownerDocument,"touchend",this._disableDelayedDrag),_off(ownerDocument,"touchcancel",this._disableDelayedDrag),_off(ownerDocument,"mousemove",this._disableDelayedDrag),_off(ownerDocument,"touchmove",this._disableDelayedDrag),_off(ownerDocument,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(evt,touch){touch=touch||("touch"==evt.pointerType?evt:null),touch?(tapEvt={target:dragEl,clientX:touch.clientX,clientY:touch.clientY},this._onDragStart(tapEvt,"touch")):this.nativeDraggable?(_on(dragEl,"dragend",this),_on(rootEl,"dragstart",this._onDragStart)):this._onDragStart(tapEvt,!0);try{document.selection?setTimeout(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(err){}},_dragStarted:function(){if(rootEl&&dragEl){var options=this.options;_toggleClass(dragEl,options.ghostClass,!0),_toggleClass(dragEl,options.dragClass,!1),Sortable.active=this,_dispatchEvent(this,rootEl,"start",dragEl,rootEl,oldIndex)}else this._nulling()},_emulateDragOver:function(){if(touchEvt){if(this._lastX===touchEvt.clientX&&this._lastY===touchEvt.clientY)return;this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,supportCssPointerEvents||_css(ghostEl,"display","none");var target=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),parent=target,i=touchDragOverListeners.length;if(parent)do{if(parent[expando]){for(;i--;)touchDragOverListeners[i]({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:target,rootEl:parent});break}target=parent}while(parent=parent.parentNode);supportCssPointerEvents||_css(ghostEl,"display","")}},_onTouchMove:function(evt){if(tapEvt){var options=this.options,fallbackTolerance=options.fallbackTolerance,fallbackOffset=options.fallbackOffset,touch=evt.touches?evt.touches[0]:evt,dx=touch.clientX-tapEvt.clientX+fallbackOffset.x,dy=touch.clientY-tapEvt.clientY+fallbackOffset.y,translate3d=evt.touches?"translate3d("+dx+"px,"+dy+"px,0)":"translate("+dx+"px,"+dy+"px)";if(!Sortable.active){if(fallbackTolerance&&min(abs(touch.clientX-this._lastX),abs(touch.clientY-this._lastY))<fallbackTolerance)return;this._dragStarted()}this._appendGhost(),moved=!0,touchEvt=touch,_css(ghostEl,"webkitTransform",translate3d),_css(ghostEl,"mozTransform",translate3d),_css(ghostEl,"msTransform",translate3d),_css(ghostEl,"transform",translate3d),evt.preventDefault()}},_appendGhost:function(){if(!ghostEl){var ghostRect,rect=dragEl.getBoundingClientRect(),css=_css(dragEl),options=this.options;ghostEl=dragEl.cloneNode(!0),_toggleClass(ghostEl,options.ghostClass,!1),_toggleClass(ghostEl,options.fallbackClass,!0),_toggleClass(ghostEl,options.dragClass,!0),_css(ghostEl,"top",rect.top-parseInt(css.marginTop,10)),_css(ghostEl,"left",rect.left-parseInt(css.marginLeft,10)),_css(ghostEl,"width",rect.width),_css(ghostEl,"height",rect.height),_css(ghostEl,"opacity","0.8"),_css(ghostEl,"position","fixed"),_css(ghostEl,"zIndex","100000"),_css(ghostEl,"pointerEvents","none"),options.fallbackOnBody&&document.body.appendChild(ghostEl)||rootEl.appendChild(ghostEl),ghostRect=ghostEl.getBoundingClientRect(),_css(ghostEl,"width",2*rect.width-ghostRect.width),_css(ghostEl,"height",2*rect.height-ghostRect.height)}},_onDragStart:function(evt,useFallback){var dataTransfer=evt.dataTransfer,options=this.options;this._offUpEvents(),activeGroup.checkPull(this,this,dragEl,evt)&&(cloneEl=_clone(dragEl),cloneEl.draggable=!1,cloneEl.style["will-change"]="",_css(cloneEl,"display","none"),_toggleClass(cloneEl,this.options.chosenClass,!1),rootEl.insertBefore(cloneEl,dragEl),_dispatchEvent(this,rootEl,"clone",dragEl)),_toggleClass(dragEl,options.dragClass,!0),useFallback?("touch"===useFallback?(_on(document,"touchmove",this._onTouchMove),_on(document,"touchend",this._onDrop),_on(document,"touchcancel",this._onDrop),_on(document,"pointermove",this._onTouchMove),_on(document,"pointerup",this._onDrop)):(_on(document,"mousemove",this._onTouchMove),_on(document,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(dataTransfer&&(dataTransfer.effectAllowed="move",options.setData&&options.setData.call(this,dataTransfer,dragEl)),_on(document,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(evt){var target,dragRect,targetRect,revert,el=this.el,options=this.options,group=options.group,activeSortable=Sortable.active,isOwner=activeGroup===group,isMovingBetweenSortable=!1,canSort=options.sort;if(void 0!==evt.preventDefault&&(evt.preventDefault(),!options.dragoverBubble&&evt.stopPropagation()),!dragEl.animated&&(moved=!0,activeSortable&&!options.disabled&&(isOwner?canSort||(revert=!rootEl.contains(dragEl)):putSortable===this||(activeSortable.lastPullMode=activeGroup.checkPull(this,activeSortable,dragEl,evt))&&group.checkPut(this,activeSortable,dragEl,evt))&&(void 0===evt.rootEl||evt.rootEl===this.el))){if(_autoScroll(evt,options,this.el),_silent)return;if(target=_closest(evt.target,options.draggable,el),dragRect=dragEl.getBoundingClientRect(),putSortable!==this&&(putSortable=this,isMovingBetweenSortable=!0),revert)return _cloneHide(activeSortable,!0),parentEl=rootEl,void(cloneEl||nextEl?rootEl.insertBefore(dragEl,cloneEl||nextEl):canSort||rootEl.appendChild(dragEl));if(0===el.children.length||el.children[0]===ghostEl||el===evt.target&&_ghostIsLast(el,evt)){if(0!==el.children.length&&el.children[0]!==ghostEl&&el===evt.target&&(target=el.lastElementChild),target){if(target.animated)return;targetRect=target.getBoundingClientRect()}_cloneHide(activeSortable,isOwner),_onMove(rootEl,el,dragEl,dragRect,target,targetRect,evt)!==!1&&(dragEl.contains(el)||(el.appendChild(dragEl),parentEl=el),this._animate(dragRect,dragEl),target&&this._animate(targetRect,target))}else if(target&&!target.animated&&target!==dragEl&&void 0!==target.parentNode[expando]){lastEl!==target&&(lastEl=target,lastCSS=_css(target),lastParentCSS=_css(target.parentNode)),targetRect=target.getBoundingClientRect();var width=targetRect.right-targetRect.left,height=targetRect.bottom-targetRect.top,floating=R_FLOAT.test(lastCSS.cssFloat+lastCSS.display)||"flex"==lastParentCSS.display&&0===lastParentCSS["flex-direction"].indexOf("row"),isWide=target.offsetWidth>dragEl.offsetWidth,isLong=target.offsetHeight>dragEl.offsetHeight,halfway=(floating?(evt.clientX-targetRect.left)/width:(evt.clientY-targetRect.top)/height)>.5,nextSibling=target.nextElementSibling,after=!1;if(floating){var elTop=dragEl.offsetTop,tgTop=target.offsetTop;after=elTop===tgTop?target.previousElementSibling===dragEl&&!isWide||halfway&&isWide:target.previousElementSibling===dragEl||dragEl.previousElementSibling===target?(evt.clientY-targetRect.top)/height>.5:tgTop>elTop}else isMovingBetweenSortable||(after=nextSibling!==dragEl&&!isLong||halfway&&isLong);var moveVector=_onMove(rootEl,el,dragEl,dragRect,target,targetRect,evt,after);moveVector!==!1&&((1===moveVector||-1===moveVector)&&(after=1===moveVector),_silent=!0,setTimeout(_unsilent,30),_cloneHide(activeSortable,isOwner),dragEl.contains(el)||(after&&!nextSibling?el.appendChild(dragEl):target.parentNode.insertBefore(dragEl,after?nextSibling:target)),parentEl=dragEl.parentNode,this._animate(dragRect,dragEl),this._animate(targetRect,target))}}},_animate:function(prevRect,target){var ms=this.options.animation;if(ms){var currentRect=target.getBoundingClientRect();1===prevRect.nodeType&&(prevRect=prevRect.getBoundingClientRect()),_css(target,"transition","none"),_css(target,"transform","translate3d("+(prevRect.left-currentRect.left)+"px,"+(prevRect.top-currentRect.top)+"px,0)"),target.offsetWidth,_css(target,"transition","all "+ms+"ms"),_css(target,"transform","translate3d(0,0,0)"),clearTimeout(target.animated),target.animated=setTimeout(function(){_css(target,"transition",""),_css(target,"transform",""),target.animated=!1},ms)}},_offUpEvents:function(){var ownerDocument=this.el.ownerDocument;_off(document,"touchmove",this._onTouchMove),_off(document,"pointermove",this._onTouchMove),_off(ownerDocument,"mouseup",this._onDrop),_off(ownerDocument,"touchend",this._onDrop),_off(ownerDocument,"pointerup",this._onDrop),_off(ownerDocument,"touchcancel",this._onDrop),_off(ownerDocument,"pointercancel",this._onDrop),_off(ownerDocument,"selectstart",this)},_onDrop:function(evt){var el=this.el,options=this.options;clearInterval(this._loopId),clearInterval(autoScroll.pid),clearTimeout(this._dragStartTimer),_off(document,"mousemove",this._onTouchMove),this.nativeDraggable&&(_off(document,"drop",this),_off(el,"dragstart",this._onDragStart)),this._offUpEvents(),evt&&(moved&&(evt.preventDefault(),!options.dropBubble&&evt.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||"clone"!==Sortable.active.lastPullMode)&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&_off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",_toggleClass(dragEl,this.options.ghostClass,!1),_toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent(this,rootEl,"unchoose",dragEl,rootEl,oldIndex),rootEl!==parentEl?(newIndex=_index(dragEl,options.draggable),newIndex>=0&&(_dispatchEvent(null,parentEl,"add",dragEl,rootEl,oldIndex,newIndex),_dispatchEvent(this,rootEl,"remove",dragEl,rootEl,oldIndex,newIndex),_dispatchEvent(null,parentEl,"sort",dragEl,rootEl,oldIndex,newIndex),_dispatchEvent(this,rootEl,"sort",dragEl,rootEl,oldIndex,newIndex))):dragEl.nextSibling!==nextEl&&(newIndex=_index(dragEl,options.draggable),newIndex>=0&&(_dispatchEvent(this,rootEl,"update",dragEl,rootEl,oldIndex,newIndex),_dispatchEvent(this,rootEl,"sort",dragEl,rootEl,oldIndex,newIndex))),Sortable.active&&((null==newIndex||-1===newIndex)&&(newIndex=oldIndex),_dispatchEvent(this,rootEl,"end",dragEl,rootEl,oldIndex,newIndex),this.save()))),this._nulling()},_nulling:function(){rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=scrollEl=scrollParentEl=tapEvt=touchEvt=moved=newIndex=lastEl=lastCSS=putSortable=activeGroup=Sortable.active=null,savedInputChecked.forEach(function(el){el.checked=!0}),savedInputChecked.length=0},handleEvent:function(evt){switch(evt.type){case"drop":case"dragend":this._onDrop(evt);break;case"dragover":case"dragenter":dragEl&&(this._onDragOver(evt),_globalDragOver(evt));break;case"selectstart":evt.preventDefault()}},toArray:function(){for(var el,order=[],children=this.el.children,i=0,n=children.length,options=this.options;n>i;i++)el=children[i],_closest(el,options.draggable,this.el)&&order.push(el.getAttribute(options.dataIdAttr)||_generateId(el));return order},sort:function(order){var items={},rootEl=this.el;this.toArray().forEach(function(id,i){var el=rootEl.children[i];_closest(el,this.options.draggable,rootEl)&&(items[id]=el)},this),order.forEach(function(id){items[id]&&(rootEl.removeChild(items[id]),rootEl.appendChild(items[id]))})},save:function(){var store=this.options.store;store&&store.set(this)},closest:function(el,selector){return _closest(el,selector||this.options.draggable,this.el)},option:function(name,value){var options=this.options;return void 0===value?options[name]:(options[name]=value,void("group"===name&&_prepareGroup(options)))},destroy:function(){var el=this.el;el[expando]=null,_off(el,"mousedown",this._onTapStart),_off(el,"touchstart",this._onTapStart),_off(el,"pointerdown",this._onTapStart),this.nativeDraggable&&(_off(el,"dragover",this),_off(el,"dragenter",this)),Array.prototype.forEach.call(el.querySelectorAll("[draggable]"),function(el){el.removeAttribute("draggable")}),touchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver),1),this._onDrop(),this.el=el=null}},_on(document,"touchmove",function(evt){Sortable.active&&evt.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){captureMode={capture:!1,passive:!1}}}))}catch(err){}return Sortable.utils={on:_on,off:_off,css:_css,find:_find,is:function(el,selector){return!!_closest(el,selector,el)},extend:_extend,throttle:_throttle,closest:_closest,toggleClass:_toggleClass,clone:_clone,index:_index},Sortable.create=function(el,options){return new Sortable(el,options)},Sortable.version="1.6.1",Sortable}),function($){"use strict";$.fn.counterUp=function(options){var settings=$.extend({time:1e4,delay:50},options);return this.each(function(){var $this=$(this),$settings=settings,counterUpper=function(){var nums=[],num=$this.text();num=$this.attr("data-counter")?$this.attr("data-counter"):num.toEnglish();var isComma=/[0-9]+,[0-9]+/.test(num);num=num.replace(/,/g,"");for(var isFloat=(/^[0-9]+$/.test(num),/^[0-9]+\.[0-9]+$/.test(num)),decimalPlaces=isFloat?(num.split(".")[1]||[]).length:0,divisions=$settings.time/$settings.delay,i=divisions;i>=1;i--){var newNum=parseInt(num/divisions*i);if(isFloat&&(newNum=parseFloat(num/divisions*i).toFixed(decimalPlaces)),isComma)for(;/(\d+)(\d{3})/.test(newNum.toString());)newNum=newNum.toString().replace(/(\d+)(\d{3})/,"$1,$2");

nums.unshift(newNum)}$this.data("counterup-nums",nums),$this.text(fitNumber("0",!1));var f=function(){var counterUpNums=$this.data("counterup-nums");return counterUpNums?(counterUpNums=fitNumber(counterUpNums.shift(),!1),$this.text(counterUpNums),void($this.data("counterup-nums").length?setTimeout($this.data("counterup-func"),$settings.delay):(delete $this.data("counterup-nums"),$this.data("counterup-nums",null),$this.data("counterup-func",null)))):null};$this.data("counterup-func",f),setTimeout($this.data("counterup-func"),$settings.delay)};counterUpper()})}}(jQuery),function(root,factory){"function"==typeof define&&define.amd?define([],factory(root)):"object"==typeof exports?module.exports=factory(root):root.iziToast=factory(root)}("undefined"!=typeof global?global:window||this.window||this.global,function(root){"use strict";var $iziToast={},PLUGIN_NAME="iziToast",ISMOBILE=(document.querySelector("body"),/Mobi/.test(navigator.userAgent)?!0:!1),ISCHROME=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),ISFIREFOX="undefined"!=typeof InstallTrigger,ACCEPTSTOUCH="ontouchstart"in document.documentElement,POSITIONS=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],THEMES={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},MOBILEWIDTH=568,CONFIG={};$iziToast.children={};var defaults={id:null,"class":"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,rtl:!1,position:"bottomRight",target:"",targetFirst:!0,toastOnce:!1,timeout:5e3,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var CustomEventPolyfill=function(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt};CustomEventPolyfill.prototype=window.Event.prototype,window.CustomEvent=CustomEventPolyfill}var forEach=function(collection,callback,scope){if("[object Object]"===Object.prototype.toString.call(collection))for(var prop in collection)Object.prototype.hasOwnProperty.call(collection,prop)&&callback.call(scope,collection[prop],prop,collection);else if(collection)for(var i=0,len=collection.length;len>i;i++)callback.call(scope,collection[i],i,collection)},extend=function(defaults,options){var extended={};return forEach(defaults,function(value,prop){extended[prop]=defaults[prop]}),forEach(options,function(value,prop){extended[prop]=options[prop]}),extended},createFragElem=function(htmlStr){var frag=document.createDocumentFragment(),temp=document.createElement("div");for(temp.innerHTML=htmlStr;temp.firstChild;)frag.appendChild(temp.firstChild);return frag},isColor=function(color){return"#"==color.substring(0,1)||"rgb"==color.substring(0,3)||"hsl"==color.substring(0,3)?!0:!1},isBase64=function(str){try{return btoa(atob(str))==str}catch(err){return!1}},drag=function(){return{move:function(toast,instance,settings,xpos){var opacity,opacityRange=.3,distance=180;0!==xpos&&(toast.classList.add(PLUGIN_NAME+"-dragged"),toast.style.transform="translateX("+xpos+"px)",xpos>0?(opacity=(distance-xpos)/distance,opacityRange>opacity&&instance.hide(extend(settings,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),toast,"drag")):(opacity=(distance+xpos)/distance,opacityRange>opacity&&instance.hide(extend(settings,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),toast,"drag")),toast.style.opacity=opacity,opacityRange>opacity&&((ISCHROME||ISFIREFOX)&&(toast.style.left=xpos+"px"),toast.parentNode.style.opacity=opacityRange,this.stopMoving(toast,null)))},startMoving:function(toast,instance,settings,e){e=e||window.event;var posX=ACCEPTSTOUCH?e.touches[0].clientX:e.clientX,toastLeft=toast.style.transform.replace("px)","");toastLeft=toastLeft.replace("translateX(","");var offsetX=posX-toastLeft;toast.classList.remove(settings.transitionIn),toast.classList.remove(settings.transitionInMobile),toast.style.transition="",ACCEPTSTOUCH?document.ontouchmove=function(e){e.preventDefault(),e=e||window.event;var posX=e.touches[0].clientX,finalX=posX-offsetX;drag.move(toast,instance,settings,finalX)}:document.onmousemove=function(e){e.preventDefault(),e=e||window.event;var posX=e.clientX,finalX=posX-offsetX;drag.move(toast,instance,settings,finalX)}},stopMoving:function(toast,e){ACCEPTSTOUCH?document.ontouchmove=function(){}:document.onmousemove=function(){},toast.style.opacity="",toast.style.transform="",toast.classList.contains(PLUGIN_NAME+"-dragged")&&(toast.classList.remove(PLUGIN_NAME+"-dragged"),toast.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){toast.style.transition=""},400))}}}();return $iziToast.setSetting=function(ref,option,value){$iziToast.children[ref][option]=value},$iziToast.getSetting=function(ref,option){return $iziToast.children[ref][option]},$iziToast.destroy=function(){forEach(document.querySelectorAll("."+PLUGIN_NAME+"-wrapper"),function(element,index){element.remove()}),forEach(document.querySelectorAll("."+PLUGIN_NAME),function(element,index){element.remove()}),document.removeEventListener(PLUGIN_NAME+"-opened",{},!1),document.removeEventListener(PLUGIN_NAME+"-opening",{},!1),document.removeEventListener(PLUGIN_NAME+"-closing",{},!1),document.removeEventListener(PLUGIN_NAME+"-closed",{},!1),document.removeEventListener("keyup",{},!1),CONFIG={}},$iziToast.settings=function(options){$iziToast.destroy(),CONFIG=options,defaults=extend(defaults,options||{})},forEach(THEMES,function(theme,name){$iziToast[name]=function(options){var settings=extend(CONFIG,options||{});settings=extend(theme,settings||{}),this.show(settings)}}),$iziToast.progress=function(options,$toast,callback){var that=this,ref=$toast.getAttribute("data-iziToast-ref"),settings=extend(this.children[ref],options||{}),$elem=$toast.querySelector("."+PLUGIN_NAME+"-progressbar div");return{start:function(){"undefined"==typeof settings.time.REMAINING&&($toast.classList.remove(PLUGIN_NAME+"-reseted"),null!==$elem&&($elem.style.transition="width "+settings.timeout+"ms "+settings.progressBarEasing,$elem.style.width="0%"),settings.time.START=(new Date).getTime(),settings.time.END=settings.time.START+settings.timeout,settings.time.TIMER=setTimeout(function(){clearTimeout(settings.time.TIMER),$toast.classList.contains(PLUGIN_NAME+"-closing")||(that.hide(settings,$toast,"timeout"),"function"==typeof callback&&callback.apply(that))},settings.timeout),that.setSetting(ref,"time",settings.time))},pause:function(){if("undefined"!=typeof settings.time.START&&!$toast.classList.contains(PLUGIN_NAME+"-paused")&&!$toast.classList.contains(PLUGIN_NAME+"-reseted")){if($toast.classList.add(PLUGIN_NAME+"-paused"),settings.time.REMAINING=settings.time.END-(new Date).getTime(),clearTimeout(settings.time.TIMER),that.setSetting(ref,"time",settings.time),null!==$elem){var computedStyle=window.getComputedStyle($elem),propertyWidth=computedStyle.getPropertyValue("width");$elem.style.transition="none",$elem.style.width=propertyWidth}"function"==typeof callback&&setTimeout(function(){callback.apply(that)},10)}},resume:function(){"undefined"!=typeof settings.time.REMAINING?($toast.classList.remove(PLUGIN_NAME+"-paused"),null!==$elem&&($elem.style.transition="width "+settings.time.REMAINING+"ms "+settings.progressBarEasing,$elem.style.width="0%"),settings.time.END=(new Date).getTime()+settings.time.REMAINING,settings.time.TIMER=setTimeout(function(){clearTimeout(settings.time.TIMER),$toast.classList.contains(PLUGIN_NAME+"-closing")||(that.hide(settings,$toast,"timeout"),"function"==typeof callback&&callback.apply(that))},settings.time.REMAINING),that.setSetting(ref,"time",settings.time)):this.start()},reset:function(){clearTimeout(settings.time.TIMER),delete settings.time.REMAINING,that.setSetting(ref,"time",settings.time),$toast.classList.add(PLUGIN_NAME+"-reseted"),$toast.classList.remove(PLUGIN_NAME+"-paused"),null!==$elem&&($elem.style.transition="none",$elem.style.width="100%"),"function"==typeof callback&&setTimeout(function(){callback.apply(that)},10)}}},$iziToast.hide=function(options,$toast,closedBy){var that=this,settings=extend(this.children[$toast.getAttribute("data-iziToast-ref")],options||{});settings.closedBy=closedBy||null,delete settings.time.REMAINING,"object"!=typeof $toast&&($toast=document.querySelector($toast)),$toast.classList.add(PLUGIN_NAME+"-closing"),function(){var $overlay=document.querySelector("."+PLUGIN_NAME+"-overlay");if(null!==$overlay){var refs=$overlay.getAttribute("data-iziToast-ref");refs=refs.split(",");var index=refs.indexOf(String(settings.ref));-1!==index&&refs.splice(index,1),$overlay.setAttribute("data-iziToast-ref",refs.join()),0===refs.length&&($overlay.classList.remove("fadeIn"),$overlay.classList.add("fadeOut"),setTimeout(function(){$overlay.remove()},700))}}(),(settings.transitionIn||settings.transitionInMobile)&&($toast.classList.remove(settings.transitionIn),$toast.classList.remove(settings.transitionInMobile)),ISMOBILE||window.innerWidth<=MOBILEWIDTH?settings.transitionOutMobile&&$toast.classList.add(settings.transitionOutMobile):settings.transitionOut&&$toast.classList.add(settings.transitionOut);var H=$toast.parentNode.offsetHeight;$toast.parentNode.style.height=H+"px",$toast.style.pointerEvents="none",(!ISMOBILE||window.innerWidth>MOBILEWIDTH)&&($toast.parentNode.style.transitionDelay="0.2s");try{var event=new CustomEvent(PLUGIN_NAME+"-closing",{detail:settings,bubbles:!0,cancelable:!0});document.dispatchEvent(event)}catch(ex){console.warn(ex)}setTimeout(function(){$toast.parentNode.style.height="0px",$toast.parentNode.style.overflow="",setTimeout(function(){delete that.children[settings.ref],$toast.parentNode.remove();try{var event=new CustomEvent(PLUGIN_NAME+"-closed",{detail:settings,bubbles:!0,cancelable:!0});document.dispatchEvent(event)}catch(ex){console.warn(ex)}"undefined"!=typeof settings.onClosed&&settings.onClosed.apply(null,[settings,$toast,closedBy])},1e3)},200),"undefined"!=typeof settings.onClosing&&settings.onClosing.apply(null,[settings,$toast,closedBy])},$iziToast.show=function(options){var that=this,settings=extend(CONFIG,options||{});if(settings=extend(defaults,settings),settings.time={},settings.toastOnce&&settings.id&&document.querySelectorAll("."+PLUGIN_NAME+"#"+settings.id).length>0)return!1;settings.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),$iziToast.children[settings.ref]=settings;var $DOM={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),icon:document.createElement("i"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),wrapper:null};$DOM.toast.setAttribute("data-iziToast-ref",settings.ref),$DOM.toast.appendChild($DOM.toastBody),$DOM.toastCapsule.appendChild($DOM.toast),function(){if($DOM.toast.classList.add(PLUGIN_NAME),$DOM.toast.classList.add(PLUGIN_NAME+"-opening"),$DOM.toastCapsule.classList.add(PLUGIN_NAME+"-capsule"),$DOM.toastBody.classList.add(PLUGIN_NAME+"-body"),$DOM.toastTexts.classList.add(PLUGIN_NAME+"-texts"),ISMOBILE||window.innerWidth<=MOBILEWIDTH?settings.transitionInMobile&&$DOM.toast.classList.add(settings.transitionInMobile):settings.transitionIn&&$DOM.toast.classList.add(settings.transitionIn),settings["class"]){var classes=settings["class"].split(" ");forEach(classes,function(value,index){$DOM.toast.classList.add(value)})}settings.id&&($DOM.toast.id=settings.id),settings.rtl&&($DOM.toast.classList.add(PLUGIN_NAME+"-rtl"),$DOM.toast.setAttribute("dir","rtl")),settings.layout>1&&$DOM.toast.classList.add(PLUGIN_NAME+"-layout"+settings.layout),settings.balloon&&$DOM.toast.classList.add(PLUGIN_NAME+"-balloon"),settings.maxWidth&&($DOM.toast.style.maxWidth=isNaN(settings.maxWidth)?settings.maxWidth:settings.maxWidth+"px"),(""!==settings.theme||"light"!==settings.theme)&&$DOM.toast.classList.add(PLUGIN_NAME+"-theme-"+settings.theme),settings.color&&(isColor(settings.color)?$DOM.toast.style.background=settings.color:$DOM.toast.classList.add(PLUGIN_NAME+"-color-"+settings.color)),settings.backgroundColor&&($DOM.toast.style.background=settings.backgroundColor,settings.balloon&&($DOM.toast.style.borderColor=settings.backgroundColor))}(),function(){settings.image&&($DOM.cover.classList.add(PLUGIN_NAME+"-cover"),$DOM.cover.style.width=settings.imageWidth+"px",$DOM.cover.style.backgroundImage=isBase64(settings.image.replace(/ /g,""))?"url(data:image/png;base64,"+settings.image.replace(/ /g,"")+")":"url("+settings.image+")",settings.rtl?$DOM.toastBody.style.marginRight=settings.imageWidth+10+"px":$DOM.toastBody.style.marginLeft=settings.imageWidth+10+"px",$DOM.toast.appendChild($DOM.cover))}(),function(){settings.close?($DOM.buttonClose=document.createElement("button"),$DOM.buttonClose.classList.add(PLUGIN_NAME+"-close"),$DOM.buttonClose.addEventListener("click",function(e){e.target;that.hide(settings,$DOM.toast,"button")}),$DOM.toast.appendChild($DOM.buttonClose)):settings.rtl?$DOM.toast.style.paddingLeft="18px":$DOM.toast.style.paddingRight="18px"}(),function(){settings.progressBar&&($DOM.progressBar=document.createElement("div"),$DOM.progressBarDiv=document.createElement("div"),$DOM.progressBar.classList.add(PLUGIN_NAME+"-progressbar"),$DOM.progressBarDiv.style.background=settings.progressBarColor,$DOM.progressBar.appendChild($DOM.progressBarDiv),$DOM.toast.appendChild($DOM.progressBar)),settings.timeout&&(settings.pauseOnHover&&!settings.resetOnHover&&($DOM.toast.addEventListener("mouseenter",function(e){that.progress(settings,$DOM.toast).pause()}),$DOM.toast.addEventListener("mouseleave",function(e){that.progress(settings,$DOM.toast).resume()})),settings.resetOnHover&&($DOM.toast.addEventListener("mouseenter",function(e){that.progress(settings,$DOM.toast).reset()}),$DOM.toast.addEventListener("mouseleave",function(e){that.progress(settings,$DOM.toast).start()})))}(),function(){settings.icon&&($DOM.icon.setAttribute("class",PLUGIN_NAME+"-icon "+settings.icon),settings.iconText&&$DOM.icon.appendChild(document.createTextNode(settings.iconText)),settings.rtl?$DOM.toastBody.style.paddingRight="33px":$DOM.toastBody.style.paddingLeft="33px",settings.iconColor&&($DOM.icon.style.color=settings.iconColor),$DOM.toastBody.appendChild($DOM.icon))}(),function(){settings.title.length>0&&($DOM.strong=document.createElement("strong"),$DOM.strong.classList.add(PLUGIN_NAME+"-title"),$DOM.strong.appendChild(createFragElem(settings.title)),$DOM.toastTexts.appendChild($DOM.strong),settings.titleColor&&($DOM.strong.style.color=settings.titleColor),settings.titleSize&&($DOM.strong.style.fontSize=isNaN(settings.titleSize)?settings.titleSize:settings.titleSize+"px"),settings.titleLineHeight&&($DOM.strong.style.lineHeight=isNaN(settings.titleSize)?settings.titleLineHeight:settings.titleLineHeight+"px")),settings.message.length>0&&($DOM.p=document.createElement("p"),$DOM.p.classList.add(PLUGIN_NAME+"-message"),$DOM.p.appendChild(createFragElem(settings.message)),$DOM.toastTexts.appendChild($DOM.p),settings.messageColor&&($DOM.p.style.color=settings.messageColor),settings.messageSize&&($DOM.p.style.fontSize=isNaN(settings.titleSize)?settings.messageSize:settings.messageSize+"px"),settings.messageLineHeight&&($DOM.p.style.lineHeight=isNaN(settings.titleSize)?settings.messageLineHeight:settings.messageLineHeight+"px")),settings.title.length>0&&settings.message.length>0&&(settings.rtl?$DOM.strong.style.marginLeft="10px":2===settings.layout||settings.rtl||($DOM.strong.style.marginRight="10px"))}(),$DOM.toastBody.appendChild($DOM.toastTexts);var $inputs;!function(){settings.inputs.length>0&&($DOM.inputs.classList.add(PLUGIN_NAME+"-inputs"),forEach(settings.inputs,function(value,index){$DOM.inputs.appendChild(createFragElem(value[0])),$inputs=$DOM.inputs.childNodes,$inputs[index].classList.add(PLUGIN_NAME+"-inputs-child"),value[3]&&setTimeout(function(){$inputs[index].focus()},300),$inputs[index].addEventListener(value[1],function(e){var ts=value[2];return ts(that,$DOM.toast,this,e)})}),$DOM.toastBody.appendChild($DOM.inputs))}(),function(){settings.buttons.length>0&&($DOM.buttons.classList.add(PLUGIN_NAME+"-buttons"),forEach(settings.buttons,function(value,index){$DOM.buttons.appendChild(createFragElem(value[0]));var $btns=$DOM.buttons.childNodes;$btns[index].classList.add(PLUGIN_NAME+"-buttons-child"),value[2]&&setTimeout(function(){$btns[index].focus()},300),$btns[index].addEventListener("click",function(e){e.preventDefault();var ts=value[1];return ts(that,$DOM.toast,this,e,$inputs)})})),$DOM.toastBody.appendChild($DOM.buttons)}(),settings.message.length>0&&(settings.inputs.length>0||settings.buttons.length>0)&&($DOM.p.style.marginBottom="0"),(settings.inputs.length>0||settings.buttons.length>0)&&(settings.rtl?$DOM.toastTexts.style.marginLeft="10px":$DOM.toastTexts.style.marginRight="10px",settings.inputs.length>0&&settings.buttons.length>0&&(settings.rtl?$DOM.inputs.style.marginLeft="8px":$DOM.inputs.style.marginRight="8px")),function(){$DOM.toastCapsule.style.visibility="hidden",setTimeout(function(){var H=$DOM.toast.offsetHeight,style=$DOM.toast.currentStyle||window.getComputedStyle($DOM.toast),marginTop=style.marginTop;marginTop=marginTop.split("px"),marginTop=parseInt(marginTop[0]);var marginBottom=style.marginBottom;marginBottom=marginBottom.split("px"),marginBottom=parseInt(marginBottom[0]),$DOM.toastCapsule.style.visibility="",$DOM.toastCapsule.style.height=H+marginBottom+marginTop+"px",setTimeout(function(){$DOM.toastCapsule.style.height="auto",settings.target&&($DOM.toastCapsule.style.overflow="visible")},500),settings.timeout&&that.progress(settings,$DOM.toast).start()},100)}(),function(){var position=settings.position;if(settings.target)$DOM.wrapper=document.querySelector(settings.target),$DOM.wrapper.classList.add(PLUGIN_NAME+"-target"),settings.targetFirst?$DOM.wrapper.insertBefore($DOM.toastCapsule,$DOM.wrapper.firstChild):$DOM.wrapper.appendChild($DOM.toastCapsule);else{if(-1==POSITIONS.indexOf(settings.position))return void console.warn("["+PLUGIN_NAME+"] Incorrect position.\nIt can be › "+POSITIONS);position=ISMOBILE||window.innerWidth<=MOBILEWIDTH?"bottomLeft"==settings.position||"bottomRight"==settings.position||"bottomCenter"==settings.position?PLUGIN_NAME+"-wrapper-bottomCenter":"topLeft"==settings.position||"topRight"==settings.position||"topCenter"==settings.position?PLUGIN_NAME+"-wrapper-topCenter":PLUGIN_NAME+"-wrapper-center":PLUGIN_NAME+"-wrapper-"+position,$DOM.wrapper=document.querySelector("."+PLUGIN_NAME+"-wrapper."+position),$DOM.wrapper||($DOM.wrapper=document.createElement("div"),$DOM.wrapper.classList.add(PLUGIN_NAME+"-wrapper"),$DOM.wrapper.classList.add(position),document.body.appendChild($DOM.wrapper)),"topLeft"==settings.position||"topCenter"==settings.position||"topRight"==settings.position?$DOM.wrapper.insertBefore($DOM.toastCapsule,$DOM.wrapper.firstChild):$DOM.wrapper.appendChild($DOM.toastCapsule)}isNaN(settings.zindex)?console.warn("["+PLUGIN_NAME+"] Invalid zIndex."):$DOM.wrapper.style.zIndex=settings.zindex}(),function(){settings.overlay&&(null!==document.querySelector("."+PLUGIN_NAME+"-overlay.fadeIn")?($DOM.overlay=document.querySelector("."+PLUGIN_NAME+"-overlay"),$DOM.overlay.setAttribute("data-iziToast-ref",$DOM.overlay.getAttribute("data-iziToast-ref")+","+settings.ref),isNaN(settings.zindex)||null===settings.zindex||($DOM.overlay.style.zIndex=settings.zindex-1)):($DOM.overlay.classList.add(PLUGIN_NAME+"-overlay"),$DOM.overlay.classList.add("fadeIn"),$DOM.overlay.style.background=settings.overlayColor,$DOM.overlay.setAttribute("data-iziToast-ref",settings.ref),isNaN(settings.zindex)||null===settings.zindex||($DOM.overlay.style.zIndex=settings.zindex-1),document.querySelector("body").appendChild($DOM.overlay)),settings.overlayClose?($DOM.overlay.removeEventListener("click",{}),$DOM.overlay.addEventListener("click",function(e){that.hide(settings,$DOM.toast,"overlay")})):$DOM.overlay.removeEventListener("click",{}))}(),function(){if(settings.animateInside){$DOM.toast.classList.add(PLUGIN_NAME+"-animateInside");var animationTimes=[200,100,300];("bounceInLeft"==settings.transitionIn||"bounceInRight"==settings.transitionIn)&&(animationTimes=[400,200,400]),settings.title.length>0&&setTimeout(function(){$DOM.strong.classList.add("slideIn")},animationTimes[0]),settings.message.length>0&&setTimeout(function(){$DOM.p.classList.add("slideIn")},animationTimes[1]),settings.icon&&setTimeout(function(){$DOM.icon.classList.add("revealIn")},animationTimes[2]);var counter=150;settings.buttons.length>0&&$DOM.buttons&&setTimeout(function(){forEach($DOM.buttons.childNodes,function(element,index){setTimeout(function(){element.classList.add("revealIn")},counter),counter+=150})},settings.inputs.length>0?150:0),settings.inputs.length>0&&$DOM.inputs&&(counter=150,forEach($DOM.inputs.childNodes,function(element,index){setTimeout(function(){element.classList.add("revealIn")},counter),counter+=150}))}}(),settings.onOpening.apply(null,[settings,$DOM.toast]);try{var event=new CustomEvent(PLUGIN_NAME+"-opening",{detail:settings,bubbles:!0,cancelable:!0});document.dispatchEvent(event)}catch(ex){console.warn(ex)}setTimeout(function(){$DOM.toast.classList.remove(PLUGIN_NAME+"-opening"),$DOM.toast.classList.add(PLUGIN_NAME+"-opened");try{var event=new CustomEvent(PLUGIN_NAME+"-opened",{detail:settings,bubbles:!0,cancelable:!0});document.dispatchEvent(event)}catch(ex){console.warn(ex)}settings.onOpened.apply(null,[settings,$DOM.toast])},1e3),settings.drag&&(ACCEPTSTOUCH?($DOM.toast.addEventListener("touchstart",function(e){drag.startMoving(this,that,settings,e)},!1),$DOM.toast.addEventListener("touchend",function(e){drag.stopMoving(this,e)},!1)):($DOM.toast.addEventListener("mousedown",function(e){e.preventDefault(),drag.startMoving(this,that,settings,e)},!1),$DOM.toast.addEventListener("mouseup",function(e){e.preventDefault(),drag.stopMoving(this,e)},!1))),settings.closeOnEscape&&document.addEventListener("keyup",function(evt){evt=evt||window.event,27==evt.keyCode&&that.hide(settings,$DOM.toast,"esc")}),settings.closeOnClick&&$DOM.toast.addEventListener("click",function(evt){that.hide(settings,$DOM.toast,"toast")}),that.toast=$DOM.toast},$iziToast}),function(root,$){root.barcodeOptions={min:2,speed:30};var time=0,keys="",timeout=0;$(document.body).keydown(function(_e){if(!($(".barCode").length<1)){var $target=$(_e.target),myOldVal=null;$target.is("input")&&(myOldVal=$target.val(),keys.length<1&&$target.attr("data-oldval",myOldVal));var $focused=$(":focus"),$barcodeTargetEl=null;if($focused.hasClass("barCode")){$barcodeTargetEl=$focused;var elLock=void 0!==$focused.attr("data-lock");if(elLock)switch(_e.key){case"Backspace":case"Delete":var oldVal=$focused.val();$focused.val(""),$("body").trigger("barcode:remove",oldVal,$focused),$barcodeTargetEl.attr("data-barcode",null);break;case"Tab":break;default:_e.preventDefault()}else switch(_e.key){case"Enter":keys.length>1&&_e.preventDefault();break;case"Tab":break;default:$barcodeTargetEl.attr("data-barcode",null)}}else if($(".barCode[data-default]").length>0||$(".barCode [data-default]").length>0)$barcodeTargetEl=$(".barCode[data-default]"),$(".barCode[data-default]").length>1&&logy("more than one default detected!"),Date.now()-time>1&&keys.length>0&&_e.preventDefault();else if(keys.length>1)switch(_e.key){case"Enter":_e.preventDefault();break;case"Tab":}switch(timeout?clearTimeout(timeout):time=Date.now(),timeout=setTimeout(function(){if("Enter"===keys.slice(-5)){keys=keys.slice(0,-5);var len=keys.length,typeSpeed=len/(Date.now()-time)*1e3;if(typeSpeed>barcodeOptions.speed&&len>barcodeOptions.min){var detectedCode=keys.toEnglish().toString();detectedCode=detectedCode.replace("چ","]").replace("ژ","C");var valueBeforeBarcode=$target.attr("data-oldval"),tmpPos=null;if($focused[0]&&$focused[0].selectionStart&&(tmpPos=$focused[0].selectionStart,detectedCode.length&&(tmpPos-=detectedCode.length)),$barcodeTargetEl)switch($barcodeTargetEl.is($focused)||($focused.length>0&&$focused.is("input")||$focused.is("textarea"))&&($focused.val(valueBeforeBarcode),$focused[0]&&tmpPos&&setCaretToPos($focused[0],tmpPos)),$barcodeTargetEl.val(detectedCode),$barcodeTargetEl.attr("data-barcode",detectedCode),$barcodeTargetEl.attr("data-pass")){case"submit":$pForm=$barcodeTargetEl.parents("form"),$pForm.length&&(logy("submit parent form"),$pForm.submit());break;case"tab":if($barcodeTargetEl.is($focused)){var inputs=$focused.parents("form").find(":input");inputs.eq(inputs.index($focused)+1).focus()}break;default:$barcodeTargetEl.is($focused)||$barcodeTargetEl.focus()}else $focused.length>0&&($focused.val(valueBeforeBarcode),$focused[0]&&tmpPos&&setCaretToPos($focused[0],tmpPos));$target.attr("data-oldval",""),logy("barcode: "+detectedCode),$("body").trigger("barcode:detect",detectedCode)}}time=0,timeout=0,keys=""},20),_e.key){case"Control":case"Shift":case"CapsLock":case"Tab":case"Delete":case"Backspace":break;default:keys+=_e.key}}})}(window,jQuery),runTagDetector(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.tippy=t()}(this,function(){"use strict";function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){if(e instanceof Element||t(e))return[e];if(e instanceof NodeList)return[].slice.call(e);if(Array.isArray(e))return e;try{return[].slice.call(document.querySelectorAll(e))}catch(e){return[]}}function n(e){for(var t=[!1,"webkit"],o=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],r=i?""+i+o:e;if("undefined"!=typeof document.body.style[r])return r}return null}function r(e,t,o){var i=o.arrow,r=o.arrowType,s=o.arrowTransform,a=o.animateFill,p=o.inertia,l=o.animation,d=o.size,c=o.theme,f=o.html,m=o.zIndex,u=o.interactive,h=o.maxWidth,g=document.createElement("div");g.setAttribute("class","tippy-popper"),g.setAttribute("role","tooltip"),g.setAttribute("id","tippy-"+e),g.style.zIndex=m,g.style.maxWidth=h;var b=document.createElement("div");if(b.setAttribute("class","tippy-tooltip"),b.setAttribute("data-size",d),b.setAttribute("data-animation",l),b.setAttribute("data-state","hidden"),c.split(" ").forEach(function(e){b.classList.add(e+"-theme")}),i){var y=document.createElement("div");y.style[n("transform")]=s,"round"===r?(y.classList.add("tippy-roundarrow"),y.innerHTML='<svg width="100%" height="100%" viewBox="0 0 64 20" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1.04009,0,0,1.45139,-1.26297,-65.9145)"><path d="M1.214,59.185C1.214,59.185 12.868,59.992 21.5,51.55C29.887,43.347 33.898,43.308 42.5,51.55C51.352,60.031 62.747,59.185 62.747,59.185L1.214,59.185Z"/></g></svg>'):y.classList.add("tippy-arrow"),b.appendChild(y)}if(a){b.setAttribute("data-animatefill","");var v=document.createElement("div");v.setAttribute("data-state","hidden"),v.classList.add("tippy-backdrop"),b.appendChild(v)}p&&b.setAttribute("data-inertia",""),u&&b.setAttribute("data-interactive","");var E=document.createElement("div");if(E.setAttribute("class","tippy-content"),f){var w;f instanceof Element?(E.appendChild(f),w="#"+f.id||"tippy-html-template"):(E.innerHTML=document.querySelector(f).innerHTML,w=f),g.setAttribute("data-html",""),u&&g.setAttribute("tabindex","-1"),b.setAttribute("data-template-id",w)}else E.innerHTML=t;return b.appendChild(E),g.appendChild(b),g}function s(e,t,o,i){var n=[];return"manual"===e?n:(t.addEventListener(e,o.handleTrigger),n.push({event:e,handler:o.handleTrigger}),"mouseenter"===e&&(xe.supportsTouch&&i&&(t.addEventListener("touchstart",o.handleTrigger),n.push({event:"touchstart",handler:o.handleTrigger}),t.addEventListener("touchend",o.handleMouseleave),n.push({event:"touchend",handler:o.handleMouseleave})),t.addEventListener("mouseleave",o.handleMouseleave),n.push({event:"mouseleave",handler:o.handleMouseleave})),"focus"===e&&(t.addEventListener("blur",o.handleBlur),n.push({event:"blur",handler:o.handleBlur})),n)}function a(e,t){var o=Ae.reduce(function(o,i){var n=e.getAttribute("data-tippy-"+i.toLowerCase())||t[i];return"false"===n&&(n=!1),"true"===n&&(n=!0),isFinite(n)&&!isNaN(parseFloat(n))&&(n=parseFloat(n)),"string"==typeof n&&"["===n.trim().charAt(0)&&(n=JSON.parse(n)),o[i]=n,o},{});return Pe({},t,o)}function p(e,t){return t.arrow&&(t.animateFill=!1),t.appendTo&&"function"==typeof t.appendTo&&(t.appendTo=t.appendTo()),"function"==typeof t.html&&(t.html=t.html(e)),t}function l(e){return{tooltip:e.querySelector(ke.TOOLTIP),backdrop:e.querySelector(ke.BACKDROP),content:e.querySelector(ke.CONTENT)}}function d(e){var t=e.getAttribute("title");t&&e.setAttribute("data-original-title",t),e.removeAttribute("title")}function c(e){return e&&"[object Function]"==={}.toString.call(e)}function f(e,t){if(1!==e.nodeType)return[];var o=getComputedStyle(e,null);return t?o[t]:o}function m(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=f(e),o=t.overflow,i=t.overflowX,n=t.overflowY;return/(auto|scroll)/.test(o+n+i)?e:u(m(e))}function h(e){var t=e&&e.offsetParent,o=t&&t.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===f(t,"position")?h(t):t:e?e.ownerDocument.documentElement:document.documentElement}function g(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||h(e.firstElementChild)===e)}function b(e){return null===e.parentNode?e:b(e.parentNode)}function y(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var o=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=o?e:t,n=o?t:e,r=document.createRange();r.setStart(i,0),r.setEnd(n,0);var s=r.commonAncestorContainer;if(e!==s&&t!==s||i.contains(n))return g(s)?s:h(s);var a=b(e);return a.host?y(a.host,t):y(e,b(t).host)}function v(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top",o="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var n=e.ownerDocument.documentElement,r=e.ownerDocument.scrollingElement||n;return r[o]}return e[o]}function E(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=v(t,"top"),n=v(t,"left"),r=o?-1:1;return e.top+=i*r,e.bottom+=i*r,e.left+=n*r,e.right+=n*r,e}function w(e,t){var o="x"===t?"Left":"Top",i="Left"==o?"Right":"Bottom";return parseFloat(e["border"+o+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function L(e,t,o,i){return Le(t["offset"+e],t["scroll"+e],o["client"+e],o["offset"+e],o["scroll"+e],Be()?o["offset"+e]+i["margin"+("Height"===e?"Top":"Left")]+i["margin"+("Height"===e?"Bottom":"Right")]:0)}function O(){var e=document.body,t=document.documentElement,o=Be()&&getComputedStyle(t);return{height:L("Height",e,t,o),width:L("Width",e,t,o)}}function x(e){return Ye({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};

if(Be())try{t=e.getBoundingClientRect();var o=v(e,"top"),i=v(e,"left");t.top+=o,t.left+=i,t.bottom+=o,t.right+=i}catch(e){}else t=e.getBoundingClientRect();var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?O():{},s=r.width||e.clientWidth||n.right-n.left,a=r.height||e.clientHeight||n.bottom-n.top,p=e.offsetWidth-s,l=e.offsetHeight-a;if(p||l){var d=f(e);p-=w(d,"x"),l-=w(d,"y"),n.width-=p,n.height-=l}return x(n)}function C(e,t){var o=Be(),i="HTML"===t.nodeName,n=k(e),r=k(t),s=u(e),a=f(t),p=parseFloat(a.borderTopWidth,10),l=parseFloat(a.borderLeftWidth,10),d=x({top:n.top-r.top-p,left:n.left-r.left-l,width:n.width,height:n.height});if(d.marginTop=0,d.marginLeft=0,!o&&i){var c=parseFloat(a.marginTop,10),m=parseFloat(a.marginLeft,10);d.top-=p-c,d.bottom-=p-c,d.left-=l-m,d.right-=l-m,d.marginTop=c,d.marginLeft=m}return(o?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=E(d,t)),d}function A(e){var t=e.ownerDocument.documentElement,o=C(e,t),i=Le(t.clientWidth,window.innerWidth||0),n=Le(t.clientHeight,window.innerHeight||0),r=v(t),s=v(t,"left"),a={top:r-o.top+o.marginTop,left:s-o.left+o.marginLeft,width:i,height:n};return x(a)}function S(e){var t=e.nodeName;return"BODY"===t||"HTML"===t?!1:"fixed"===f(e,"position")||S(m(e))}function I(e,t,o,i){var n={top:0,left:0},r=y(e,t);if("viewport"===i)n=A(r);else{var s;"scrollParent"===i?(s=u(m(t)),"BODY"===s.nodeName&&(s=e.ownerDocument.documentElement)):s="window"===i?e.ownerDocument.documentElement:i;var a=C(s,r);if("HTML"!==s.nodeName||S(r))n=a;else{var p=O(),l=p.height,d=p.width;n.top+=a.top-a.marginTop,n.bottom=l+a.top,n.left+=a.left-a.marginLeft,n.right=d+a.left}}return n.left+=o,n.top+=o,n.right-=o,n.bottom-=o,n}function P(e){var t=e.width,o=e.height;return t*o}function _(e,t,o,i,n){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=I(o,i,r,n),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},p=Object.keys(a).map(function(e){return Ye({key:e},a[e],{area:P(a[e])})}).sort(function(e,t){return t.area-e.area}),l=p.filter(function(e){var t=e.width,i=e.height;return t>=o.clientWidth&&i>=o.clientHeight}),d=0<l.length?l[0].key:p[0].key,c=e.split("-")[1];return d+(c?"-"+c:"")}function D(e,t,o){var i=y(t,o);return C(o,i)}function N(e){var t=getComputedStyle(e),o=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight),n={width:e.offsetWidth+i,height:e.offsetHeight+o};return n}function M(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function R(e,t,o){o=o.split("-")[0];var i=N(e),n={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(o),s=r?"top":"left",a=r?"left":"top",p=r?"height":"width",l=r?"width":"height";return n[s]=t[s]+t[p]/2-i[p]/2,n[a]=o===a?t[a]-i[l]:t[M(a)],n}function H(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function B(e,t,o){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===o});var i=H(e,function(e){return e[t]===o});return e.indexOf(i)}function W(e,t,o){var i=void 0===o?e:e.slice(0,B(e,"name",o));return i.forEach(function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=e["function"]||e.fn;e.enabled&&c(o)&&(t.offsets.popper=x(t.offsets.popper),t.offsets.reference=x(t.offsets.reference),t=o(t,e))}),t}function U(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=D(this.state,this.popper,this.reference),e.placement=_(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=R(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=W(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function F(e,t){return e.some(function(e){var o=e.name,i=e.enabled;return i&&o===t})}function Y(e){for(var t=[!1,"ms","Webkit","Moz","O"],o=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length-1;n++){var i=t[n],r=i?""+i+o:e;if("undefined"!=typeof document.body.style[r])return r}return null}function q(){return this.state.isDestroyed=!0,F(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[Y("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function z(e){var t=e.ownerDocument;return t?t.defaultView:window}function j(e,t,o,i){var n="BODY"===e.nodeName,r=n?e.ownerDocument.defaultView:e;r.addEventListener(t,o,{passive:!0}),n||j(u(r.parentNode),t,o,i),i.push(r)}function K(e,t,o,i){o.updateBound=i,z(e).addEventListener("resize",o.updateBound,{passive:!0});var n=u(e);return j(n,"scroll",o.updateBound,o.scrollParents),o.scrollElement=n,o.eventsEnabled=!0,o}function X(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}function V(e,t){return z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function G(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=V(this.reference,this.state))}function Z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Q(e,t){Object.keys(t).forEach(function(o){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(o)&&Z(t[o])&&(i="px"),e.style[o]=t[o]+i})}function J(e,t){Object.keys(t).forEach(function(o){var i=t[o];!1===i?e.removeAttribute(o):e.setAttribute(o,t[o])})}function $(e,t,o){var i=H(e,function(e){var o=e.name;return o===t}),n=!!i&&e.some(function(e){return e.name===o&&e.enabled&&e.order<i.order});if(!n){var r="`"+t+"`";console.warn("`"+o+"` modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return n}function ee(e){return"end"===e?"start":"start"===e?"end":e}function te(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=ze.indexOf(e),i=ze.slice(o+1).concat(ze.slice(0,o));return t?i.reverse():i}function oe(e,t,o,i){var n=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+n[1],s=n[2];if(!r)return e;if(0===s.indexOf("%")){var a;switch(s){case"%p":a=o;break;case"%":case"%r":default:a=i}var p=x(a);return p[t]/100*r}if("vh"===s||"vw"===s){var l;return l="vh"===s?Le(document.documentElement.clientHeight,window.innerHeight||0):Le(document.documentElement.clientWidth,window.innerWidth||0),l/100*r}return r}function ie(e,t,o,i){var n=[0,0],r=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=s.indexOf(H(s,function(e){return-1!==e.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/,l=-1===a?[s]:[s.slice(0,a).concat([s[a].split(p)[0]]),[s[a].split(p)[1]].concat(s.slice(a+1))];return l=l.map(function(e,i){var n=(1===i?!r:r)?"height":"width",s=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)},[]).map(function(e){return oe(e,n,t,o)})}),l.forEach(function(e,t){e.forEach(function(o,i){Z(o)&&(n[t]+=o*("-"===e[i-1]?-1:1))})}),n}function ne(e){return e.getAttribute("x-placement").replace(/-.+/,"")}function re(e,t,o){if(!t.getAttribute("x-placement"))return!0;var i=e.clientX,n=e.clientY,r=o.interactiveBorder,s=o.distance,a=t.getBoundingClientRect(),p=ne(t),l=r+s,d={top:a.top-n>r,bottom:n-a.bottom>r,left:a.left-i>r,right:i-a.right>r};return"top"===p?d.top=a.top-n>l:"bottom"===p?d.bottom=n-a.bottom>l:"left"===p?d.left=a.left-i>l:"right"===p?d.right=i-a.right>l:void 0,d.top||d.bottom||d.left||d.right}function se(e,t,o,i){if(!t.length)return"";var n={scale:function(){return 1===t.length?""+t[0]:o?t[0]+", "+t[1]:t[1]+", "+t[0]}(),translate:function(){return 1===t.length?i?-t[0]+"px":t[0]+"px":o?i?t[0]+"px, "+-t[1]+"px":t[0]+"px, "+t[1]+"px":i?-t[1]+"px, "+t[0]+"px":t[1]+"px, "+t[0]+"px"}()};return n[e]}function ae(e,t){return e?t?e:{X:"Y",Y:"X"}[e]:""}function pe(e,t,o){var i=ne(e),r="top"===i||"bottom"===i,s="right"===i||"bottom"===i,a=function(e){var t=o.match(e);return t?t[1]:""},p=function(e){var t=o.match(e);return t?t[1].split(",").map(parseFloat):[]},l={translate:/translateX?Y?\(([^)]+)\)/,scale:/scaleX?Y?\(([^)]+)\)/},d={translate:{axis:a(/translate([XY])/),numbers:p(l.translate)},scale:{axis:a(/scale([XY])/),numbers:p(l.scale)}},c=o.replace(l.translate,"translate"+ae(d.translate.axis,r)+"("+se("translate",d.translate.numbers,r,s)+")").replace(l.scale,"scale"+ae(d.scale.axis,r)+"("+se("scale",d.scale.numbers,r,s)+")");t.style[n("transform")]=c}function le(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function de(e){return-(e-Ce.distance)+"px"}function ce(e){requestAnimationFrame(function(){setTimeout(e)})}function fe(t,o){var i=Element.prototype.closest||function(t){for(var o=this;o;){if(e.call(o,t))return o;o=o.parentElement}};return i.call(t,o)}function me(e,t){return Array.isArray(e)?e[t]:e}function ue(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function he(e,t){e.forEach(function(e){e&&(e.style[n("transitionDuration")]=t+"ms")})}function ge(e,t){return e.reduce(function(e,o){var i=$e,n=p(o,t.performance?t:a(o,t)),c=o.getAttribute("title");if(!c&&!n.html&&!n.dynamicTitle)return e;o.setAttribute("data-tippy",""),d(o);var f=r(i,c,n),m=new T({id:i,reference:o,popper:f,options:n,popperInstance:null});n.createPopperInstanceOnInit&&(m.popperInstance=Qe.call(m),m.popperInstance.disableEventListeners());var u=Ze.call(m);return m.listeners=n.trigger.trim().split(" ").reduce(function(e,t){return e.concat(s(t,o,u,n.touchHold))},[]),n.dynamicTitle&&Je.call(m,{target:o,callback:function(){var e=l(f),t=e.content,i=o.getAttribute("title");i&&(t.innerHTML=i,d(o))},options:{attributes:!0}}),o._tippy=m,f._reference=o,e.push(m),$e++,e},[])}function be(e){var t=[].slice.call(document.querySelectorAll(ke.POPPER));t.forEach(function(t){var o=t._reference._tippy,i=o.options;(!0===i.hideOnClick||-1<i.trigger.indexOf("focus"))&&(!e||t!==e.popper)&&o.hide()})}function ye(){var t=function(){xe.usingTouch||(xe.usingTouch=!0,xe.iOS&&document.body.classList.add("tippy-touch"),xe.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",o),xe.onUserInputChange("touch"))},o=function(){var e;return function(){var t=performance.now();20>t-e&&(xe.usingTouch=!1,document.removeEventListener("mousemove",o),!xe.iOS&&document.body.classList.remove("tippy-touch"),xe.onUserInputChange("mouse")),e=t}}();document.addEventListener("click",function(e){if(!(e.target instanceof Element))return be();var t=fe(e.target,ke.REFERENCE),o=fe(e.target,ke.POPPER);if(!o||!o._reference._tippy.options.interactive){if(t){var i=t._tippy.options;if(!i.multiple&&xe.usingTouch||!i.multiple&&-1<i.trigger.indexOf("click"))return be(t._tippy);if(!0!==i.hideOnClick||-1<i.trigger.indexOf("click"))return}be()}}),document.addEventListener("touchstart",t),window.addEventListener("blur",function(){var t=document,o=t.activeElement;o&&o.blur&&e.call(o,ke.REFERENCE)&&o.blur()}),!xe.supportsTouch&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints)&&document.addEventListener("pointerdown",t)}function ve(e,i){return xe.supported&&!xe._eventListenersBound&&(ye(),xe._eventListenersBound=!0),t(e)&&(e.refObj=!0,e.attributes=e.attributes||{},e.setAttribute=function(t,o){e.attributes[t]=o},e.getAttribute=function(t){return e.attributes[t]},e.removeAttribute=function(t){delete e.attributes[t]},e.addEventListener=function(){},e.removeEventListener=function(){},e.classList={classNames:{},add:function(t){return e.classList.classNames[t]=!0},remove:function(t){return delete e.classList.classNames[t],!0},contains:function(t){return!!e.classList.classNames[t]}}),i=Pe({},Ce,i),{selector:e,options:i,tooltips:xe.supported?ge(o(e),i):[],destroyAll:function(){this.tooltips.forEach(function(e){return e.destroy()}),this.tooltips=[]}}}var Ee=Math.round,we=Math.min,Te=Math.floor,Le=Math.max,Oe="undefined"!=typeof window,xe={};Oe&&(xe.supported="requestAnimationFrame"in window,xe.supportsTouch="ontouchstart"in window,xe.usingTouch=!1,xe.dynamicInputDetection=!0,xe.iOS=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,xe.onUserInputChange=function(){},xe._eventListenersBound=!1);for(var ke={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow",REFERENCE:"[data-tippy]"},Ce={placement:"top",trigger:"mouseenter focus",animation:"shift-away",html:!1,animateFill:!0,arrow:!1,delay:0,duration:[350,300],interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,updateDuration:350,sticky:!1,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,flip:!0,flipBehavior:"flip",arrowType:"sharp",arrowTransform:"",maxWidth:"",popperOptions:{},createPopperInstanceOnInit:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},Ae=xe.supported&&Object.keys(Ce),Se=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ie=(function(){function e(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}()),Pe=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_e="undefined"!=typeof window&&"undefined"!=typeof document,De=["Edge","Trident","Firefox"],Ne=0,Me=0;Me<De.length;Me+=1)if(_e&&0<=navigator.userAgent.indexOf(De[Me])){Ne=1;break}var i,Re=_e&&window.Promise,He=Re?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},Ne))}},Be=function(){return void 0==i&&(i=-1!==navigator.appVersion.indexOf("MSIE 10")),i},We=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ue=function(){function e(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),Fe=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},Ye=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ze=qe.slice(3),je={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Ke=function(){function e(t,o){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};We(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=He(this.update.bind(this)),this.options=Ye({},e.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=o&&o.jquery?o[0]:o,this.options.modifiers={},Object.keys(Ye({},e.Defaults.modifiers,n.modifiers)).forEach(function(t){i.options.modifiers[t]=Ye({},e.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Ye({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&c(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return Ue(e,[{key:"update",value:function(){return U.call(this)}},{key:"destroy",value:function(){return q.call(this)}},{key:"enableEventListeners",value:function(){return X.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),e}();Ke.Utils=("undefined"==typeof window?global:window).PopperUtils,Ke.placements=qe,Ke.Defaults={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,o=t.split("-")[0],i=t.split("-")[1];if(i){var n=e.offsets,r=n.reference,s=n.popper,a=-1!==["bottom","top"].indexOf(o),p=a?"left":"top",l=a?"width":"height",d={start:Fe({},p,r[p]),end:Fe({},p,r[p]+r[l]-s[l])};e.offsets.popper=Ye({},s,d[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var o,i=t.offset,n=e.placement,r=e.offsets,s=r.popper,a=r.reference,p=n.split("-")[0];return o=Z(+i)?[+i,0]:ie(i,s,a,p),"left"===p?(s.top+=o[0],s.left-=o[1]):"right"===p?(s.top+=o[0],s.left+=o[1]):"top"===p?(s.left+=o[0],s.top-=o[1]):"bottom"===p&&(s.left+=o[0],s.top+=o[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var o=t.boundariesElement||h(e.instance.popper);e.instance.reference===o&&(o=h(o));var i=I(e.instance.popper,e.instance.reference,t.padding,o);t.boundaries=i;var n=t.priority,r=e.offsets.popper,s={primary:function(e){var o=r[e];return r[e]<i[e]&&!t.escapeWithReference&&(o=Le(r[e],i[e])),Fe({},e,o)},secondary:function(e){var o="right"===e?"left":"top",n=r[o];return r[e]>i[e]&&!t.escapeWithReference&&(n=we(r[o],i[e]-("right"===e?r.width:r.height))),Fe({},o,n)}};return n.forEach(function(e){var t=-1===["left","top"].indexOf(e)?"secondary":"primary";r=Ye({},r,s[t](e))}),e.offsets.popper=r,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,o=t.popper,i=t.reference,n=e.placement.split("-")[0],r=Te,s=-1!==["top","bottom"].indexOf(n),a=s?"right":"bottom",p=s?"left":"top",l=s?"width":"height";return o[a]<r(i[p])&&(e.offsets.popper[p]=r(i[p])-o[l]),o[p]>r(i[a])&&(e.offsets.popper[p]=r(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var o;if(!$(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(i=e.instance.popper.querySelector(i),!i)return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],r=e.offsets,s=r.popper,a=r.reference,p=-1!==["left","right"].indexOf(n),l=p?"height":"width",d=p?"Top":"Left",c=d.toLowerCase(),m=p?"left":"top",u=p?"bottom":"right",h=N(i)[l];a[u]-h<s[c]&&(e.offsets.popper[c]-=s[c]-(a[u]-h)),a[c]+h>s[u]&&(e.offsets.popper[c]+=a[c]+h-s[u]),e.offsets.popper=x(e.offsets.popper);var g=a[c]+a[l]/2-h/2,b=f(e.instance.popper),y=parseFloat(b["margin"+d],10),v=parseFloat(b["border"+d+"Width"],10),E=g-e.offsets.popper[c]-y-v;return E=Le(we(s[l]-h,E),0),e.arrowElement=i,e.offsets.arrow=(o={},Fe(o,c,Ee(E)),Fe(o,m,""),o),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(F(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var o=I(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),i=e.placement.split("-")[0],n=M(i),r=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case je.FLIP:s=[i,n];break;case je.CLOCKWISE:s=te(i);break;case je.COUNTERCLOCKWISE:s=te(i,!0);break;default:s=t.behavior}return s.forEach(function(a,p){if(i!==a||s.length===p+1)return e;i=e.placement.split("-")[0],n=M(i);var l=e.offsets.popper,d=e.offsets.reference,c=Te,f="left"===i&&c(l.right)>c(d.left)||"right"===i&&c(l.left)<c(d.right)||"top"===i&&c(l.bottom)>c(d.top)||"bottom"===i&&c(l.top)<c(d.bottom),m=c(l.left)<c(o.left),u=c(l.right)>c(o.right),h=c(l.top)<c(o.top),g=c(l.bottom)>c(o.bottom),b="left"===i&&m||"right"===i&&u||"top"===i&&h||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),v=!!t.flipVariations&&(y&&"start"===r&&m||y&&"end"===r&&u||!y&&"start"===r&&h||!y&&"end"===r&&g);(f||b||v)&&(e.flipped=!0,(f||b)&&(i=s[p+1]),v&&(r=ee(r)),e.placement=i+(r?"-"+r:""),e.offsets.popper=Ye({},e.offsets.popper,R(e.instance.popper,e.offsets.reference,e.placement)),e=W(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,o=t.split("-")[0],i=e.offsets,n=i.popper,r=i.reference,s=-1!==["left","right"].indexOf(o),a=-1===["top","left"].indexOf(o);return n[s?"left":"top"]=r[o]-(a?n[s?"width":"height"]:0),e.placement=M(t),e.offsets.popper=x(n),e}},hide:{order:800,enabled:!0,fn:function(e){if(!$(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,o=H(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<o.top||t.left>o.right||t.top>o.bottom||t.right<o.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var o=t.x,i=t.y,n=e.offsets.popper,r=H(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,a,p=void 0===r?t.gpuAcceleration:r,l=h(e.instance.popper),d=k(l),c={position:n.position},f={left:Te(n.left),top:Te(n.top),bottom:Te(n.bottom),right:Te(n.right)},m="bottom"===o?"top":"bottom",u="right"===i?"left":"right",g=Y("transform");if(a="bottom"==m?-d.height+f.bottom:f.top,s="right"==u?-d.width+f.right:f.left,p&&g)c[g]="translate3d("+s+"px, "+a+"px, 0)",c[m]=0,c[u]=0,c.willChange="transform";else{var b="bottom"==m?-1:1,y="right"==u?-1:1;c[m]=a*b,c[u]=s*y,c.willChange=m+", "+u}var v={"x-placement":e.placement};return e.attributes=Ye({},v,e.attributes),e.styles=Ye({},c,e.styles),e.arrowStyles=Ye({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return Q(e.instance.popper,e.styles),J(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Q(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,o,i,n){var r=D(n,t,e),s=_(o.placement,r,t,e,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return t.setAttribute("x-placement",s),Q(t,{position:"absolute"}),o},gpuAcceleration:void 0}}};var Xe={};if(Oe){var Ve=Element.prototype;Xe=Ve.matches||Ve.matchesSelector||Ve.webkitMatchesSelector||Ve.mozMatchesSelector||Ve.msMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;0<=--o&&t.item(o)!==this;);return o>-1}}var e=Xe,Ge=function(){function e(e){var t=this;if(r.call(this),!this.state.visible){if(this._(c).isPreparingToShow=!0,this.options.wait)return void this.options.wait.call(this.popper,this.show.bind(this),e);this.options.followCursor&&!xe.usingTouch&&(!this._(c).followCursorListener&&s.call(this),document.addEventListener("mousemove",this._(c).followCursorListener));var o=Array.isArray(this.options.delay)?this.options.delay[0]:this.options.delay;o?this._(c).showTimeout=setTimeout(function(){t.show()},o):this.show()}}function t(){var e=this;if(r.call(this),!!this.state.visible){this._(c).isPreparingToShow=!1;var t=Array.isArray(this.options.delay)?this.options.delay[1]:this.options.delay;t?this._(c).hideTimeout=setTimeout(function(){e.state.visible&&e.hide()},t):this.hide()}}function o(){var e=this,t=this.popper,o=this.reference,i=this.options,r=l(t),s=r.tooltip,a=i.popperOptions,d="round"===i.arrowType?ke.ROUND_ARROW:ke.ARROW,c=s.querySelector(d),f=Pe({placement:i.placement},a||{},{modifiers:Pe({},a?a.modifiers:{},{arrow:Pe({element:d},a&&a.modifiers?a.modifiers.arrow:{}),flip:Pe({enabled:i.flip,padding:i.distance+5,behavior:i.flipBehavior},a&&a.modifiers?a.modifiers.flip:{}),offset:Pe({offset:i.offset},a&&a.modifiers?a.modifiers.offset:{})}),onCreate:function(){s.style[ne(t)]=de(i.distance),c&&i.arrowTransform&&pe(t,c,i.arrowTransform)},onUpdate:function(){var e=s.style;e.top="",e.bottom="",e.left="",e.right="",e[ne(t)]=de(i.distance),c&&i.arrowTransform&&pe(t,c,i.arrowTransform)}});return p.call(this,{target:t,callback:function(){var o=t.style;o[n("transitionDuration")]=null;var r=e.popperInstance.options.onUpdate;e.popperInstance.options.onUpdate=function(){e.popper.offsetHeight,o[n("transitionDuration")]=i.updateDuration+"ms",e.popperInstance.options.onUpdate=r},e.popperInstance.update()},options:{childList:!0,subtree:!0,characterData:!0}}),new Ke(o,t,f)}function i(e){var t=this;this.popperInstance?(this.popper.style[n("transform")]=null,this.popperInstance.scheduleUpdate(),(!this.options.followCursor||xe.usingTouch)&&this.popperInstance.enableEventListeners()):this.popperInstance=o.call(this);var i=this.popperInstance.options.onCreate,r=this.popperInstance.options.onUpdate;this.popperInstance.options.onCreate=this.popperInstance.options.onUpdate=function(){t.popper.offsetHeight,e(),t.popperInstance.options.onUpdate=r,t.popperInstance.options.onCreate=i},this.options.appendTo.contains(this.popper)||this.options.appendTo.appendChild(this.popper)}function r(){var e=this._(c),t=e.showTimeout,o=e.hideTimeout;clearTimeout(t),clearTimeout(o)}function s(){var e=this;this._(c).followCursorListener=function(t){if(!e._(c).lastTriggerEvent||"focus"!==e._(c).lastTriggerEvent.type){e._(c).lastMouseMoveEvent=t;var o=document.documentElement.offsetWidth||document.body.offsetWidth,i=Ee(e.popper.offsetWidth/2),r=Ee(e.popper.offsetHeight/2),s=e.options.offset,a=t.pageX,p=t.pageY,l=5,d=e.options.placement.replace(/-.+/,"");e.popper.getAttribute("x-placement")&&(d=ne(e.popper));var f,m;"top"===d?(f=a-i+s,m=p-2*r):"bottom"===d?(f=a-i+s,m=p+10):"left"===d?(f=a-2*i,m=p-r+s):"right"===d?(f=a+5,m=p-r+s):void 0,("top"===d||"bottom"===d)&&(a+l+i+s>o&&(f=o-l-2*i),0>a-l-i+s&&(f=l)),e.popper.style[n("transform")]="translate3d("+f+"px, "+m+"px, 0)"}}}function a(){var e=this,t=function(){e.popper.style[n("transitionDuration")]=e.options.updateDuration+"ms"},o=function(){e.popper.style[n("transitionDuration")]=""};ce(function i(){e.popperInstance&&e.popperInstance.scheduleUpdate(),t(),e.state.visible?requestAnimationFrame(i):o()})}function p(e){var t=e.target,o=e.callback,i=e.options;if(window.MutationObserver){var n=new MutationObserver(o);n.observe(t,i),this._(c).mutationObservers.push(n)}}function d(e,t){if(!e)return t();var o=l(this.popper),i=o.tooltip,n=function(e,t){t&&i[e+"EventListener"]("ontransitionend"in window?"transitionend":"webkitTransitionEnd",t)},r=function o(r){r.target===i&&(n("remove",o),t())};n("remove",this._(c).transitionendListener),n("add",r),this._(c).transitionendListener=r}var c={},f=function(e){return function(t){return t===c&&e}},m=function(){function e(t){for(var o in Se(this,e),t)this[o]=t[o];this.state={destroyed:!1,visible:!1,enabled:!0},this._=f({mutationObservers:[]})}return Ie(e,[{key:"enable",value:function(){this.state.enabled=!0}},{key:"disable",value:function(){this.state.enabled=!1}},{key:"show",value:function(e){var t=this;if(!this.state.destroyed&&this.state.enabled){var o=this.popper,r=this.reference,s=this.options,p=l(o),f=p.tooltip,m=p.backdrop,u=p.content;return s.dynamicTitle&&!r.getAttribute("data-original-title")?void 0:r.refObj||document.documentElement.contains(r)?(s.onShow.call(o),e=me(void 0===e?s.duration:e,0),he([o,f,m],0),o.style.visibility="visible",this.state.visible=!0,void i.call(this,function(){if(t.state.visible){if((!s.followCursor||xe.usingTouch)&&(t.popperInstance.scheduleUpdate(),he([o],s.updateDuration)),s.followCursor&&!xe.usingTouch){t.popperInstance.disableEventListeners();var i=Array.isArray(s.delay)?s.delay[0]:s.delay;t._(c).lastTriggerEvent&&t._(c).followCursorListener(i&&t._(c).lastMouseMoveEvent?t._(c).lastMouseMoveEvent:t._(c).lastTriggerEvent)}he([f,m,m?u:null],e),m&&getComputedStyle(m)[n("transform")],s.interactive&&r.classList.add("tippy-active"),s.sticky&&a.call(t),ue([f,m],"visible"),d.call(t,e,function(){s.updateDuration||f.classList.add("tippy-notransition"),s.interactive&&le(r)&&o.focus(),r.setAttribute("aria-describedby","tippy-"+t.id),s.onShown.call(o)})}})):void this.destroy()}}},{key:"hide",value:function(e){var t=this;if(!this.state.destroyed&&this.state.enabled){var o=this.popper,i=this.reference,n=this.options,r=l(o),s=r.tooltip,a=r.backdrop,p=r.content;n.onHide.call(o),e=me(void 0===e?n.duration:e,1),n.updateDuration||s.classList.remove("tippy-notransition"),n.interactive&&i.classList.remove("tippy-active"),o.style.visibility="hidden",this.state.visible=!1,he([s,a,a?p:null],e),ue([s,a],"hidden"),n.interactive&&-1<n.trigger.indexOf("click")&&le(i)&&i.focus(),ce(function(){d.call(t,e,function(){t.state.visible||!n.appendTo.contains(o)||(!t._(c).isPreparingToShow&&(document.removeEventListener("mousemove",t._(c).followCursorListener),t._(c).lastMouseMoveEvent=null),i.removeAttribute("aria-describedby"),t.popperInstance.disableEventListeners(),n.appendTo.removeChild(o),n.onHidden.call(o))})})}}},{key:"destroy",value:function(){var e=this;this.state.destroyed||(this.state.visible&&this.hide(0),this.listeners.forEach(function(t){e.reference.removeEventListener(t.event,t.handler)}),this.reference.setAttribute("title",this.reference.getAttribute("data-original-title")),delete this.reference._tippy,["data-original-title","data-tippy"].forEach(function(t){e.reference.removeAttribute(t)}),this.popperInstance&&this.popperInstance.destroy(),this._(c).mutationObservers.forEach(function(e){e.disconnect()}),this.state.destroyed=!0)}}]),e}();return{Tippy:m,_getEventListeners:function(){var o=this;return{handleTrigger:function(i){if(o.state.enabled){var n=xe.supportsTouch&&xe.usingTouch&&("mouseenter"===i.type||"focus"===i.type);n&&o.options.touchHold||(o._(c).lastTriggerEvent=i,"click"===i.type&&"persistent"!==o.options.hideOnClick&&o.state.visible?t.call(o):e.call(o,i),n&&xe.iOS&&o.reference.click&&o.reference.click())}},handleMouseleave:function(e){if(!("mouseleave"===e.type&&xe.supportsTouch&&xe.usingTouch&&o.options.touchHold)){if(o.options.interactive){var i=t.bind(o),n=function e(n){var r=fe(n.target,ke.REFERENCE),s=fe(n.target,ke.POPPER)===o.popper,a=r===o.reference;s||a||re(n,o.popper,o.options)&&(document.body.removeEventListener("mouseleave",i),document.removeEventListener("mousemove",e),t.call(o))};return document.body.addEventListener("mouseleave",i),void document.addEventListener("mousemove",n)}t.call(o)}},handleBlur:function(e){!e.relatedTarget||xe.usingTouch||fe(e.relatedTarget,ke.POPPER)||t.call(o)}}},_addMutationObserver:p,_createPopperInstance:o,_onTransitionEnd:d}}(),T=Ge.Tippy,Ze=Ge._getEventListeners,Qe=Ge._createPopperInstance,Je=Ge._addMutationObserver,$e=1;return ve.browser=xe,ve.defaults=Ce,ve});var myTippy;!function(e){"function"==typeof define&&define.amd?define("uploader",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){"use strict";function t(n,o){this.$element=e(n),this.options=e.extend(!0,{},t.DEFAULTS,e.isPlainObject(o)&&o),this.disabled=!1,this.sync=!1,this.queues=0,this.init()}var n=window.FormData,o="uploader",i="change."+o,s="dragover."+o,a="drop."+o,r="upload."+o,l="start."+o,d="progress."+o,u="done."+o,p="fail."+o,c="end."+o,f="uploaded."+o;

t.prototype={constructor:t,init:function(){var t=this.options,o=this.$element;t.name||(t.name=o.attr("name")||"file"),t.dropzone&&(this.$dropzone=e(t.dropzone)),n||(this.sync=!0,this.$clone=o.clone()),this.bind()},bind:function(){var t=this.options,n=this.$element;e.isFunction(t.upload)&&n.on(r,t.upload),e.isFunction(t.start)&&n.on(l,t.start),e.isFunction(t.progress)&&n.on(d,t.progress),e.isFunction(t.done)&&n.on(u,t.done),e.isFunction(t.fail)&&n.on(p,t.fail),e.isFunction(t.end)&&n.on(c,t.end),e.isFunction(t.uploaded)&&n.on(f,t.uploaded),n.on(i,e.proxy(this.change,this)),t.dropzone&&this.$dropzone.on(s,e.proxy(this.dragover,this)).on(a,e.proxy(this.drop,this))},unbind:function(){var t=this.options,n=this.$element;e.isFunction(t.upload)&&n.off(r,t.upload),e.isFunction(t.start)&&n.off(l,t.start),e.isFunction(t.progress)&&n.off(d,t.progress),e.isFunction(t.done)&&n.off(u,t.done),e.isFunction(t.fail)&&n.off(p,t.fail),e.isFunction(t.end)&&n.off(c,t.end),e.isFunction(t.uploaded)&&n.off(f,t.uploaded),n.off(i,this.change),t.dropzone&&this.$dropzone.off(s,this.dragover).off(a,this.drop)},change:function(){this.options.autoUpload&&this.upload()},dragover:function(e){e.preventDefault()},drop:function(e){var t=e.originalEvent;e.preventDefault(),t.dataTransfer&&this.upload(t.dataTransfer.files)},upload:function(t){var n,o=this.$element;t=t||o.prop("files"),(t&&t.length||o.val())&&(n=e.Event(r,{files:t}),o.trigger(n),n.isDefaultPrevented()||(t&&t.length?this.start(t):o.val()&&this.start()))},start:function(t){var n,o=this.options,i=this.$element,s=this;if(!this.disabled){if(!this.sync&&o.singleUpload&&t&&t.length)return this.disabled=!0,i.prop("disabled",!1),void e.each(t,function(t,n){var o=e.Event(l,{index:t,files:[n]});i.trigger(o),o.isDefaultPrevented()||(s.queues++,s.ajaxUpload(n,t))});n=e.Event(l,{index:0,files:t}),i.trigger(n),n.isDefaultPrevented()||(this.disabled=!0,this.sync?this.syncUpload():(i.prop("disabled",!1),this.ajaxUpload(t)))}},ajaxUpload:function(t,o){var i,s=this.options,a=this.$element,r=new n,l=this;e.isPlainObject(s.data)&&e.each(s.data,function(e,t){r.append(e,t)}),r.append(s.name,t),i=e.extend({},s,{method:s.method||"POST",data:r,processData:!1,contentType:!1,success:function(e,t,n){l.success(e,t,n,this,o)},error:function(e,t,n){l.error(e,t,n,this,o)},complete:function(e,t){l.complete(e,t,this,o)}}),e.isFunction(s.progress)&&(i.xhr=function(){var t=new XMLHttpRequest;return t.upload&&(t.upload.onprogress=function(t){a.trigger(e.Event(d,{index:o,lengthComputable:t.lengthComputable,total:t.total,loaded:t.loaded}))}),t}),e.ajax(i.url,i)},syncUpload:function(){var t=this.$element,n=this.$clone,i=this.options,s=(new Date).getTime(),a=o+s,r=function(){var t=[];return e.isPlainObject(i.data)&&e.each(i.data,function(e,n){t.push('<input type="hidden" name="'+e+'" value="'+n+'">')}),t.join("")}(),l=e("<form>").attr({method:i.method||"POST",action:function(e){return e+(-1===e.indexOf("?")?"?":"&")+"timestamp="+s}(i.url),enctype:"multipart/form-data",target:a}),u=e("<iframe>").attr({name:a,src:""}),p={lengthComputable:!0,total:100,loaded:0},c=!1,f=function(){c?p.loaded=100:p.loaded<100&&(p.loaded+=(100-p.loaded)/10,setTimeout(f,500)),t.trigger(e.Event(d,p))},h=this;u.one("load",function(){u.one("load",function(){var o,i;try{i=e(this).contents().find("body").text(),"json"===h.options.dataType&&(i=e.parseJSON(i))}catch(s){o=s.message}o?h.error(null,"error",o,null,0):h.success(i,"success",null,null,0),c=!0,l.get(0).reset(),n.after(t).detach(),l.empty().remove(),h.complete(null,"complete",null,0)}),t.after(n),l.append(r),l.append(t),l.one("submit",f).submit()}),l.append(u).hide().appendTo("body")},success:function(t,n,o,i,s){var a=this.options;e.isFunction(a.success)&&a.success.call(i,t,n,o),this.$element.trigger(e.Event(u,{index:s}),t,n)},error:function(t,n,o,i,s){var a=this.options;e.isFunction(a.error)&&a.error.call(i,t,n,o),this.$element.trigger(e.Event(p,{index:s}),n,o)},complete:function(t,n,o,i){var s=this.options,a=this.$element,r=!1,l=e.proxy(function(){r=!0,this.disabled=!1,a.prop("disabled",!1),this.reset()},this);!this.sync&&this.queues?(this.queues--,this.queues||l()):l(),e.isFunction(s.complete)&&s.complete.call(o,t,n),a.trigger(e.Event(c,{index:i}),n),r&&a.trigger(f)},reset:function(){var t,n=this.$element,o=this.$clone;n.val(""),n.val()&&(t=e("<form>"),n.after(o),t.append(n).hide().appendTo("body").get(0).reset(),o.after(n).detach(),t.remove())},destroy:function(){this.unbind(),this.$element.removeData(o)}},t.DEFAULTS={name:"",url:"",data:null,autoUpload:!0,singleUpload:!0,dropzone:"",upload:null,start:null,progress:null,done:null,fail:null,end:null,uploaded:null},t.setDefaults=function(n){e.extend(!0,t.DEFAULTS,n)},t.other=e.fn.uploader,e.fn.uploader=function(n){var i=[].slice.call(arguments,1);return this.each(function(){var s,a=e(this),r=a.data(o);if(!r){if(/destroy/.test(n))return;a.data(o,r=new t(this,n))}"string"==typeof n&&e.isFunction(s=r[n])&&s.apply(r,i)})},e.fn.uploader.Constructor=t,e.fn.uploader.setDefaults=t.setDefaults,e.fn.uploader.noConflict=function(){return e.fn.uploader=t.other,this}}),bindHtmlShortkey(),function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.NProgress=factory()}(this,function(){function clamp(n,min,max){return min>n?min:n>max?max:n}function toBarPerc(n){return 100*(-1+n)}function barPositionCSS(n,speed,ease){var barCSS;return barCSS="translate3d"===Settings.positionUsing?{transform:"translate3d("+toBarPerc(n)+"%,0,0)"}:"translate"===Settings.positionUsing?{transform:"translate("+toBarPerc(n)+"%,0)"}:{"margin-left":toBarPerc(n)+"%"},barCSS.transition="all "+speed+"ms "+ease,barCSS}function hasClass(element,name){var list="string"==typeof element?element:classList(element);return list.indexOf(" "+name+" ")>=0}function addClass(element,name){var oldList=classList(element),newList=oldList+name;hasClass(oldList,name)||(element.className=newList.substring(1))}function removeClass(element,name){var newList,oldList=classList(element);hasClass(element,name)&&(newList=oldList.replace(" "+name+" "," "),element.className=newList.substring(1,newList.length-1))}function classList(element){return(" "+(element&&element.className||"")+" ").replace(/\s+/gi," ")}function removeElement(element){element&&element.parentNode&&element.parentNode.removeChild(element)}var NProgress={};NProgress.version="0.2.0";var Settings=NProgress.settings={minimum:.08,easing:"linear",positionUsing:"",speed:200,trickle:!0,trickleSpeed:5,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};NProgress.configure=function(options){var key,value;for(key in options)value=options[key],void 0!==value&&options.hasOwnProperty(key)&&(Settings[key]=value);return this},NProgress.status=null,NProgress.set=function(n){var started=NProgress.isStarted();n=clamp(n,Settings.minimum,1),NProgress.status=1===n?null:n;var progress=NProgress.render(!started),bar=progress.querySelector(Settings.barSelector),speed=Settings.speed,ease=Settings.easing;return progress.offsetWidth,queue(function(next){""===Settings.positionUsing&&(Settings.positionUsing=NProgress.getPositioningCSS()),css(bar,barPositionCSS(n,speed,ease)),1===n?(css(progress,{transition:"none",opacity:1}),progress.offsetWidth,setTimeout(function(){css(progress,{transition:"all "+speed+"ms linear",opacity:0}),setTimeout(function(){NProgress.remove(),next()},speed)},speed)):setTimeout(next,speed)}),this},NProgress.isStarted=function(){return"number"==typeof NProgress.status},NProgress.start=function(){NProgress.status||NProgress.set(0);var work=function(){setTimeout(function(){NProgress.status&&(NProgress.trickle(),work())},Settings.trickleSpeed)};return Settings.trickle&&work(),this},NProgress.done=function(force){return force||NProgress.status?NProgress.inc(.3+.5*Math.random()).set(1):this},NProgress.inc=function(amount){var n=NProgress.status;return n?n>1?void 0:("number"!=typeof amount&&(amount=n>=0&&.2>n?.1:n>=.2&&.5>n?.04:n>=.5&&.8>n?.02:n>=.8&&.99>n?.005:0),n=clamp(n+amount,0,.994),NProgress.set(n)):NProgress.start()},NProgress.trickle=function(){return NProgress.inc()},function(){var initial=0,current=0;NProgress.promise=function($promise){return $promise&&"resolved"!==$promise.state()?(0===current&&NProgress.start(),initial++,current++,$promise.always(function(){current--,0===current?(initial=0,NProgress.done()):NProgress.set((initial-current)/initial)}),this):this}}(),NProgress.render=function(fromStart){if(NProgress.isRendered())return document.getElementById("nprogress");addClass(document.documentElement,"nprogress-busy");var progress=document.createElement("div");progress.id="nprogress",progress.innerHTML=Settings.template;var spinner,bar=progress.querySelector(Settings.barSelector),perc=fromStart?"-100":toBarPerc(NProgress.status||0),parent=document.querySelector(Settings.parent);return css(bar,{transition:"all 0 linear",transform:"translate3d("+perc+"%,0,0)"}),Settings.showSpinner||(spinner=progress.querySelector(Settings.spinnerSelector),spinner&&removeElement(spinner)),parent!=document.body&&addClass(parent,"nprogress-custom-parent"),parent.appendChild(progress),progress},NProgress.remove=function(){removeClass(document.documentElement,"nprogress-busy"),removeClass(document.querySelector(Settings.parent),"nprogress-custom-parent");var progress=document.getElementById("nprogress");progress&&removeElement(progress)},NProgress.isRendered=function(){return!!document.getElementById("nprogress")},NProgress.getPositioningCSS=function(){var bodyStyle=document.body.style,vendorPrefix="WebkitTransform"in bodyStyle?"Webkit":"MozTransform"in bodyStyle?"Moz":"msTransform"in bodyStyle?"ms":"OTransform"in bodyStyle?"O":"";return vendorPrefix+"Perspective"in bodyStyle?"translate3d":vendorPrefix+"Transform"in bodyStyle?"translate":"margin"};var queue=function(){function next(){var fn=pending.shift();fn&&fn(next)}var pending=[];return function(fn){pending.push(fn),1==pending.length&&next()}}(),css=function(){function camelCase(string){return string.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(match,letter){return letter.toUpperCase()})}function getVendorProp(name){var style=document.body.style;if(name in style)return name;for(var vendorName,i=cssPrefixes.length,capName=name.charAt(0).toUpperCase()+name.slice(1);i--;)if(vendorName=cssPrefixes[i]+capName,vendorName in style)return vendorName;return name}function getStyleProp(name){return name=camelCase(name),cssProps[name]||(cssProps[name]=getVendorProp(name))}function applyCss(element,prop,value){prop=getStyleProp(prop),element.style[prop]=value}var cssPrefixes=["Webkit","O","Moz","ms"],cssProps={};return function(element,properties){var prop,value,args=arguments;if(2==args.length)for(prop in properties)value=properties[prop],void 0!==value&&properties.hasOwnProperty(prop)&&applyCss(element,prop,value);else applyCss(element,args[1],args[2])}}();return NProgress}),!function(e,t,r,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.api=e.fn.api=function(r){var o,s=e(e.isFunction(this)?t:this),i=s.selector||"",a=(new Date).getTime(),u=[],c=arguments[0],d="string"==typeof c,l=[].slice.call(arguments,1);return s.each(function(){var s,g,f,p,m,b,v=e.isPlainObject(r)?e.extend(!0,{},e.fn.api.settings,r):e.extend({},e.fn.api.settings),h=v.namespace,y=v.metadata,q=v.selector,R=v.error,x=v.className,S="."+h,A="module-"+h,k=e(this),T=k.closest(q.form),P=v.stateContext?e(v.stateContext):k,j=this,O=P[0],w=k.data(A);b={initialize:function(){d||b.bind.events(),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),w=b,k.data(A,w)},destroy:function(){b.verbose("Destroying previous module for",j),k.removeData(A).off(S)},bind:{events:function(){var e=b.get.event();e?(b.verbose("Attaching API events to element",e),k.on(e+S,b.event.trigger)):"now"==v.on&&(b.debug("Querying API endpoint immediately"),b.query())}},decode:{json:function(e){if(e!==n&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var r;return t.Storage!==n?(r=sessionStorage.getItem(e),b.debug("Using cached response",e,r),r=b.decode.json(r)):void b.error(R.noStorage)}},write:{cachedResponse:function(r,o){o&&""===o?b.debug("Response empty, not caching",o):t.Storage!==n?(e.isPlainObject(o)&&(o=JSON.stringify(o)),sessionStorage.setItem(r,o),b.verbose("Storing cached response for url",r,o)):b.error(R.noStorage)}},query:function(){if(b.is.disabled())b.debug("Element is disabled API request aborted");else{if(b.is.loading()){if(!v.interruptRequests)return void b.debug("Cancelling request, previous request is still pending");b.debug("Interrupting previous request"),b.abort()}if(v.defaultData&&e.extend(!0,v.urlData,b.get.defaultData()),v.serializeForm&&(v.data=b.add.formData(v.data)),!1===(g=b.get.settings()))return b.cancelled=!0,void b.error(R.beforeSend);if(b.cancelled=!1,(f=b.get.templatedURL())||b.is.mocked()){if((f=b.add.urlData(f))||b.is.mocked()){if(g.url=v.base+f,s=e.extend(!0,{},v,{type:v.method||v.type,data:p,url:v.base+f,beforeSend:v.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),b.debug("Querying URL",s.url),b.verbose("Using AJAX settings",s),"local"===v.cache&&b.read.cachedResponse(f))return b.debug("Response returned from local cache"),b.request=b.create.request(),void b.request.resolveWith(O,[b.read.cachedResponse(f)]);v.throttle?v.throttleFirstRequest||b.timer?(b.debug("Throttling request",v.throttle),clearTimeout(b.timer),b.timer=setTimeout(function(){b.timer&&delete b.timer,b.debug("Sending throttled request",p,s.method),b.send.request()},v.throttle)):(b.debug("Sending request",p,s.method),b.send.request(),b.timer=setTimeout(function(){},v.throttle)):(b.debug("Sending request",p,s.method),b.send.request())}}else b.error(R.missingURL)}},should:{removeError:function(){return!0===v.hideError||"auto"===v.hideError&&!b.is.form()}},is:{disabled:function(){return k.filter(q.disabled).length>0},expectingJSON:function(){return"json"===v.dataType||"jsonp"===v.dataType},form:function(){return k.is("form")||P.is("form")},mocked:function(){return v.mockResponse||v.mockResponseAsync||v.response||v.responseAsync},input:function(){return k.is("input")},loading:function(){return!!b.request&&"pending"==b.request.state()},abortedRequest:function(e){return e&&e.readyState!==n&&0===e.readyState?(b.verbose("XHR request determined to be aborted"),!0):(b.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return b.is.expectingJSON()&&e.isFunction(v.successTest)?(b.debug("Checking JSON returned success",v.successTest,t),v.successTest(t)?(b.debug("Response passed success test",t),!0):(b.debug("Response failed success test",t),!1)):(b.verbose("Response is not JSON, skipping validation",v.successTest,t),!0)}},was:{cancelled:function(){return b.cancelled||!1},succesful:function(){return b.request&&"resolved"==b.request.state()},failure:function(){return b.request&&"rejected"==b.request.state()},complete:function(){return b.request&&("resolved"==b.request.state()||"rejected"==b.request.state())}},add:{urlData:function(t,r){var o,s;return t&&(o=t.match(v.regExp.required),s=t.match(v.regExp.optional),r=r||v.urlData,o&&(b.debug("Looking for required URL variables",o),e.each(o,function(o,s){var i=-1!==s.indexOf("$")?s.substr(2,s.length-3):s.substr(1,s.length-2),a=e.isPlainObject(r)&&r[i]!==n?r[i]:k.data(i)!==n?k.data(i):P.data(i)!==n?P.data(i):r[i];return a===n?(b.error(R.requiredParameter,i,t),t=!1,!1):(b.verbose("Found required variable",i,a),a=v.encodeParameters?b.get.urlEncodedValue(a):a,t=t.replace(s,a),void 0)})),s&&(b.debug("Looking for optional URL variables",o),e.each(s,function(o,s){var i=-1!==s.indexOf("$")?s.substr(3,s.length-4):s.substr(2,s.length-3),a=e.isPlainObject(r)&&r[i]!==n?r[i]:k.data(i)!==n?k.data(i):P.data(i)!==n?P.data(i):r[i];a!==n?(b.verbose("Optional variable Found",i,a),t=t.replace(s,a)):(b.verbose("Optional variable not found",i),t=-1!==t.indexOf("/"+s)?t.replace("/"+s,""):t.replace(s,""))}))),t},formData:function(t){var r=e.fn.serializeObject!==n,o=r?T.serializeObject():T.serialize();return t=t||v.data,e.isPlainObject(t)?r?(b.debug("Extending existing data with form data",t,o),t=e.extend(!0,{},t,o)):(b.error(R.missingSerialize),b.debug("Cant extend data. Replacing data with form data",t,o),t=o):(b.debug("Adding form data",o),t=o),t}},send:{request:function(){b.set.loading(),b.request=b.create.request(),b.is.mocked()?b.mockedXHR=b.create.mockedXHR():b.xhr=b.create.xhr(),v.onRequest.call(O,b.request,b.xhr)}},event:{trigger:function(e){b.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(t,r,n){var o=this,s=(new Date).getTime()-m,i=v.loadingDuration-s,a=!!e.isFunction(v.onResponse)&&(b.is.expectingJSON()?v.onResponse.call(o,e.extend(!0,{},t)):v.onResponse.call(o,t));i=i>0?i:0,a&&(b.debug("Modified API response in onResponse callback",v.onResponse,a,t),t=a),i>0&&b.debug("Response completed early delaying state change by",i),setTimeout(function(){b.is.validResponse(t)?b.request.resolveWith(o,[t,n]):b.request.rejectWith(o,[n,"invalid"])},i)},fail:function(e,t,r){var n=this,o=(new Date).getTime()-m,s=v.loadingDuration-o;(s=s>0?s:0)>0&&b.debug("Response completed early delaying state change by",s),setTimeout(function(){b.is.abortedRequest(e)?b.request.rejectWith(n,[e,"aborted",r]):b.request.rejectWith(n,[e,"error",t,r])},s)}},request:{done:function(e,t){b.debug("Successful API Response",e),"local"===v.cache&&f&&(b.write.cachedResponse(f,e),b.debug("Saving server response locally",b.cache)),v.onSuccess.call(O,e,k,t)},complete:function(e,t){var r,n;b.was.succesful()?(n=e,r=t):(r=e,n=b.get.responseFromXHR(r)),b.remove.loading(),v.onComplete.call(O,n,k,r)},fail:function(e,t,r){var o=b.get.responseFromXHR(e),i=b.get.errorFromRequest(o,t,r);return"aborted"==t?(b.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,r),v.onAbort.call(O,t,k,e),!0):("invalid"==t?b.debug("JSON did not pass success test. A server-side error has most likely occurred",o):"error"==t&&e!==n&&(b.debug("XHR produced a server error",t,r),200!=e.status&&r!==n&&""!==r&&b.error(R.statusMessage+r,s.url),v.onError.call(O,i,k,e)),v.errorDuration&&"aborted"!==t&&(b.debug("Adding error state"),b.set.error(),b.should.removeError()&&setTimeout(b.remove.error,v.errorDuration)),b.debug("API Request failed",i,e),v.onFailure.call(O,o,k,e),void 0)}}},create:{request:function(){return e.Deferred().always(b.event.request.complete).done(b.event.request.done).fail(b.event.request.fail)},mockedXHR:function(){var t,r,n,o=v.mockResponse||v.response,s=v.mockResponseAsync||v.responseAsync;return n=e.Deferred().always(b.event.xhr.complete).done(b.event.xhr.done).fail(b.event.xhr.fail),o?(e.isFunction(o)?(b.debug("Using specified synchronous callback",o),r=o.call(O,g)):(b.debug("Using settings specified response",o),r=o),n.resolveWith(O,[r,!1,{responseText:r}])):e.isFunction(s)&&(t=function(e){b.debug("Async callback returned response",e),e?n.resolveWith(O,[e,!1,{responseText:e}]):n.rejectWith(O,[{responseText:e},!1,!1])},b.debug("Using specified async response callback",s),s.call(O,g,t)),n},xhr:function(){var t;return t=e.ajax(s).always(b.event.xhr.always).done(b.event.xhr.done).fail(b.event.xhr.fail),b.verbose("Created server request",t,s),t}},set:{error:function(){b.verbose("Adding error state to element",P),P.addClass(x.error)},loading:function(){b.verbose("Adding loading state to element",P),P.addClass(x.loading),m=(new Date).getTime()}},remove:{error:function(){b.verbose("Removing error state from element",P),P.removeClass(x.error)},loading:function(){b.verbose("Removing loading state from element",P),P.removeClass(x.loading)}},get:{responseFromXHR:function(t){return!!e.isPlainObject(t)&&(b.is.expectingJSON()?b.decode.json(t.responseText):t.responseText)},errorFromRequest:function(t,r,o){return e.isPlainObject(t)&&t.error!==n?t.error:v.error[r]!==n?v.error[r]:o},request:function(){return b.request||!1},xhr:function(){return b.xhr||!1},settings:function(){var t;return(t=v.beforeSend.call(O,v))&&(t.success!==n&&(b.debug("Legacy success callback detected",t),b.error(R.legacyParameters,t.success),t.onSuccess=t.success),t.failure!==n&&(b.debug("Legacy failure callback detected",t),b.error(R.legacyParameters,t.failure),t.onFailure=t.failure),t.complete!==n&&(b.debug("Legacy complete callback detected",t),b.error(R.legacyParameters,t.complete),t.onComplete=t.complete)),t===n&&b.error(R.noReturnedValue),!1===t?t:t!==n?e.extend(!0,{},t):e.extend(!0,{},v)},urlEncodedValue:function(e){var r=t.decodeURIComponent(e),n=t.encodeURIComponent(e);return r!==e?(b.debug("URL value is already encoded, avoiding double encoding",e),e):(b.verbose("Encoding value using encodeURIComponent",e,n),n)},defaultData:function(){var t={};return e.isWindow(j)||(b.is.input()?t.value=k.val():b.is.form()||(t.text=k.text())),t},event:function(){return e.isWindow(j)||"now"==v.on?(b.debug("API called without element, no events attached"),!1):"auto"==v.on?k.is("input")?j.oninput!==n?"input":j.onpropertychange!==n?"propertychange":"keyup":k.is("form")?"submit":"click":v.on},templatedURL:function(e){if(e=e||k.data(y.action)||v.action||!1,f=k.data(y.url)||v.url||!1)return b.debug("Using specified url",f),f;if(e){if(b.debug("Looking up url for action",e,v.api),v.api[e]===n&&!b.is.mocked())return void b.error(R.missingAction,v.action,v.api);f=v.api[e]}else b.is.form()&&(f=k.attr("action")||P.attr("action")||!1,b.debug("No url or action specified, defaulting to form action",f));return f}},abort:function(){var e=b.get.xhr();e&&"resolved"!==e.state()&&(b.debug("Cancelling API request"),e.abort())},reset:function(){b.remove.error(),b.remove.loading()},setting:function(t,r){if(b.debug("Changing setting",t,r),e.isPlainObject(t))e.extend(!0,v,t);else{if(r===n)return v[t];e.isPlainObject(v[t])?e.extend(!0,v[t],r):v[t]=r}},internal:function(t,r){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(r===n)return b[t];b[t]=r}},debug:function(){!v.silent&&v.debug&&(v.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,v.name+":"),b.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),b.verbose.apply(console,arguments)))},error:function(){v.silent||(b.error=Function.prototype.bind.call(console.error,console,v.name+":"),b.error.apply(console,arguments))},performance:{log:function(e){var t,r;v.performance&&(r=(t=(new Date).getTime())-(a||t),a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":r})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=v.name+":",r=0;a=!1,clearTimeout(b.performance.timer),e.each(u,function(e,t){r+=t["Execution Time"]}),t+=" "+r+"ms",i&&(t+=" '"+i+"'"),(console.group!==n||console.table!==n)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,r,s){var i,a,u,c=w;return r=r||l,s=j||s,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),i=t.length-1,e.each(t,function(r,o){var s=r!=i?o+t[r+1].charAt(0).toUpperCase()+t[r+1].slice(1):t;if(e.isPlainObject(c[s])&&r!=i)c=c[s];else{if(c[s]!==n)return a=c[s],!1;if(!e.isPlainObject(c[o])||r==i)return c[o]!==n?(a=c[o],!1):(b.error(R.method,t),!1);c=c[o]}})),e.isFunction(a)?u=a.apply(s,r):a!==n&&(u=a),e.isArray(o)?o.push(u):o!==n?o=[o,u]:u!==n&&(o=u),a}},d?(w===n&&b.initialize(),b.invoke(c)):(w!==n&&w.invoke("destroy"),b.initialize())}),o!==n?o:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),!function(n,e,i,t){"use strict";e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),n.fn.transition=function(){var a,o=n(this),r=o.selector||"",s=(new Date).getTime(),l=[],u=arguments,d=u[0],c=[].slice.call(arguments,1),m="string"==typeof d;return e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,o.each(function(e){var f,p,g,v,b,y,h,w,C,A=n(this),S=this;(C={initialize:function(){f=C.get.settings.apply(S,u),v=f.className,g=f.error,b=f.metadata,w="."+f.namespace,h="module-"+f.namespace,p=A.data(h)||C,y=C.get.animationEndEvent(),m&&(m=C.invoke(d)),!1===m&&(C.verbose("Converted arguments into settings object",f),f.interval?C.delay(f.animate):C.animate(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of module",C),p=C,A.data(h,p)},destroy:function(){C.verbose("Destroying previous module for",S),A.removeData(h)},refresh:function(){C.verbose("Refreshing display type on next animation"),delete C.displayType},forceRepaint:function(){C.verbose("Forcing element repaint");var n=A.parent(),e=A.next();0===e.length?A.detach().appendTo(n):A.detach().insertBefore(e)},repaint:function(){C.verbose("Repainting element"),S.offsetWidth},delay:function(n){var i,a=C.get.animationDirection();a||(a=C.can.transition()?C.get.direction():"static"),n=n!==t?n:f.interval,i="auto"==f.reverse&&a==v.outward||1==f.reverse?(o.length-e)*f.interval:e*f.interval,C.debug("Delaying animation by",i),setTimeout(C.animate,i)},animate:function(n){if(f=n||f,!C.is.supported())return C.error(g.support),!1;if(C.debug("Preparing animation",f.animation),C.is.animating()){if(f.queue)return!f.allowRepeats&&C.has.direction()&&C.is.occurring()&&!0!==C.queuing?C.debug("Animation is currently occurring, preventing queueing same animation",f.animation):C.queue(f.animation),!1;if(!f.allowRepeats&&C.is.occurring())return C.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;C.debug("New animation started, completing previous early",f.animation),p.complete()}C.can.animate()?C.set.animating(f.animation):C.error(g.noAnimation,f.animation,S)},reset:function(){C.debug("Resetting animation to beginning conditions"),C.remove.animationCallbacks(),C.restore.conditions(),C.remove.animating()},queue:function(n){C.debug("Queueing animation of",n),C.queuing=!0,A.one(y+".queue"+w,function(){C.queuing=!1,C.repaint(),C.animate.apply(this,f)})},complete:function(n){C.debug("Animation complete",f.animation),C.remove.completeCallback(),C.remove.failSafe(),C.is.looping()||(C.is.outward()?(C.verbose("Animation is outward, hiding element"),C.restore.conditions(),C.hide()):C.is.inward()?(C.verbose("Animation is outward, showing element"),C.restore.conditions(),C.show()):(C.verbose("Static animation completed"),C.restore.conditions(),f.onComplete.call(S)))},force:{visible:function(){var n=A.attr("style"),e=C.get.userStyle(),i=C.get.displayType(),a=e+"display: "+i+" !important;",o=A.css("display"),r=n===t||""===n;o!==i?(C.verbose("Overriding default display to show element",i),A.attr("style",a)):r&&A.removeAttr("style")},hidden:function(){var n=A.attr("style"),e=A.css("display"),i=n===t||""===n;"none"===e||C.is.hidden()?i&&A.removeAttr("style"):(C.verbose("Overriding default display to hide element"),A.css("display","none"))}},has:{direction:function(e){var i=!1;return"string"==typeof(e=e||f.animation)&&(e=e.split(" "),n.each(e,function(n,e){e!==v.inward&&e!==v.outward||(i=!0)})),i},inlineDisplay:function(){var e=A.attr("style")||"";return n.isArray(e.match(/display.*?;/,""))}},set:{animating:function(n){var e;C.remove.completeCallback(),n=n||f.animation,e=C.get.animationClass(n),C.save.animation(e),C.force.visible(),C.remove.hidden(),C.remove.direction(),C.start.animation(e)},duration:function(n,e){((e="number"==typeof(e=e||f.duration)?e+"ms":e)||0===e)&&(C.verbose("Setting animation duration",e),A.css({"animation-duration":e}))},direction:function(n){(n=n||C.get.direction())==v.inward?C.set.inward():C.set.outward()},looping:function(){C.debug("Transition set to loop"),A.addClass(v.looping)},hidden:function(){A.addClass(v.transition).addClass(v.hidden)},inward:function(){C.debug("Setting direction to inward"),A.removeClass(v.outward).addClass(v.inward)},outward:function(){C.debug("Setting direction to outward"),A.removeClass(v.inward).addClass(v.outward)},visible:function(){A.addClass(v.transition).addClass(v.visible)}},start:{animation:function(n){n=n||C.get.animationClass(),C.debug("Starting tween",n),A.addClass(n).one(y+".complete"+w,C.complete),f.useFailSafe&&C.add.failSafe(),C.set.duration(f.duration),f.onStart.call(S)}},save:{animation:function(n){C.cache||(C.cache={}),C.cache.animation=n},displayType:function(n){"none"!==n&&A.data(b.displayType,n)},transitionExists:function(e,i){n.fn.transition.exists[e]=i,C.verbose("Saving existence of transition",e,i)}},restore:{conditions:function(){var n=C.get.currentAnimation();n&&(A.removeClass(n),C.verbose("Removing animation class",C.cache)),C.remove.duration()}},add:{failSafe:function(){var n=C.get.duration();C.timer=setTimeout(function(){A.triggerHandler(y)},n+f.failSafeDelay),C.verbose("Adding fail safe timer",C.timer)}},remove:{animating:function(){A.removeClass(v.animating)},animationCallbacks:function(){C.remove.queueCallback(),C.remove.completeCallback()},queueCallback:function(){A.off(".queue"+w)},completeCallback:function(){A.off(".complete"+w)},display:function(){A.css("display","")},direction:function(){A.removeClass(v.inward).removeClass(v.outward)},duration:function(){A.css("animation-duration","")},failSafe:function(){C.verbose("Removing fail safe timer",C.timer),C.timer&&clearTimeout(C.timer)},hidden:function(){A.removeClass(v.hidden)},visible:function(){A.removeClass(v.visible)},looping:function(){C.debug("Transitions are no longer looping"),C.is.looping()&&(C.reset(),A.removeClass(v.looping))},transition:function(){A.removeClass(v.visible).removeClass(v.hidden)}},get:{settings:function(e,i,t){return"object"==typeof e?n.extend(!0,{},n.fn.transition.settings,e):"function"==typeof t?n.extend({},n.fn.transition.settings,{animation:e,onComplete:t,duration:i}):"string"==typeof i||"number"==typeof i?n.extend({},n.fn.transition.settings,{
animation:e,duration:i}):"object"==typeof i?n.extend({},n.fn.transition.settings,i,{animation:e}):"function"==typeof i?n.extend({},n.fn.transition.settings,{animation:e,onComplete:i}):n.extend({},n.fn.transition.settings,{animation:e})},animationClass:function(n){var e=n||f.animation,i=C.can.transition()&&!C.has.direction()?C.get.direction()+" ":"";return v.animating+" "+v.transition+" "+i+e},currentAnimation:function(){return!(!C.cache||C.cache.animation===t)&&C.cache.animation},currentDirection:function(){return C.is.inward()?v.inward:v.outward},direction:function(){return C.is.hidden()||!C.is.visible()?v.inward:v.outward},animationDirection:function(e){var i;return"string"==typeof(e=e||f.animation)&&(e=e.split(" "),n.each(e,function(n,e){e===v.inward?i=v.inward:e===v.outward&&(i=v.outward)})),i||!1},duration:function(n){return!1===(n=n||f.duration)&&(n=A.css("animation-duration")||0),"string"==typeof n?n.indexOf("ms")>-1?parseFloat(n):1e3*parseFloat(n):n},displayType:function(n){return n=n===t||n,f.displayType?f.displayType:(n&&A.data(b.displayType)===t&&C.can.transition(!0),A.data(b.displayType))},userStyle:function(n){return(n=n||A.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(e){return n.fn.transition.exists[e]},animationStartEvent:function(){var n,e=i.createElement("div"),a={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(n in a)if(e.style[n]!==t)return a[n];return!1},animationEndEvent:function(){var n,e=i.createElement("div"),a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(n in a)if(e.style[n]!==t)return a[n];return!1}},can:{transition:function(e){var i,a,o,r,s,l,u=f.animation,d=C.get.transitionExists(u),c=C.get.displayType(!1);if(d===t||e){if(C.verbose("Determining whether animation exists"),i=A.attr("class"),a=A.prop("tagName"),r=(o=n("<"+a+" />").addClass(i).insertAfter(A)).addClass(u).removeClass(v.inward).removeClass(v.outward).addClass(v.animating).addClass(v.transition).css("animationName"),s=o.addClass(v.inward).css("animationName"),c||(c=o.attr("class",i).removeAttr("style").removeClass(v.hidden).removeClass(v.visible).show().css("display"),C.verbose("Determining final display state",c),C.save.displayType(c)),o.remove(),r!=s)C.debug("Direction exists for animation",u),l=!0;else{if("none"==r||!r)return void C.debug("No animation defined in css",u);C.debug("Static animation found",u,c),l=!1}C.save.transitionExists(u,l)}return d!==t?d:l},animate:function(){return C.can.transition()!==t}},is:{animating:function(){return A.hasClass(v.animating)},inward:function(){return A.hasClass(v.inward)},outward:function(){return A.hasClass(v.outward)},looping:function(){return A.hasClass(v.looping)},occurring:function(n){return n="."+(n=n||f.animation).replace(" ","."),A.filter(n).length>0},visible:function(){return A.is(":visible")},hidden:function(){return"hidden"===A.css("visibility")},supported:function(){return!1!==y}},hide:function(){C.verbose("Hiding element"),C.is.animating()&&C.reset(),S.blur(),C.remove.display(),C.remove.visible(),C.set.hidden(),C.force.hidden(),f.onHide.call(S),f.onComplete.call(S)},show:function(n){C.verbose("Showing element",n),C.remove.hidden(),C.set.visible(),C.force.visible(),f.onShow.call(S),f.onComplete.call(S)},toggle:function(){C.is.visible()?C.hide():C.show()},stop:function(){C.debug("Stopping current animation"),A.triggerHandler(y)},stopAll:function(){C.debug("Stopping all animation"),C.remove.queueCallback(),A.triggerHandler(y)},clear:{queue:function(){C.debug("Clearing animation queue"),C.remove.queueCallback()}},enable:function(){C.verbose("Starting animation"),A.removeClass(v.disabled)},disable:function(){C.debug("Stopping animation"),A.addClass(v.disabled)},setting:function(e,i){if(C.debug("Changing setting",e,i),n.isPlainObject(e))n.extend(!0,f,e);else{if(i===t)return f[e];n.isPlainObject(f[e])?n.extend(!0,f[e],i):f[e]=i}},internal:function(e,i){if(n.isPlainObject(e))n.extend(!0,C,e);else{if(i===t)return C[e];C[e]=i}},debug:function(){!f.silent&&f.debug&&(f.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,f.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),C.verbose.apply(console,arguments)))},error:function(){f.silent||(C.error=Function.prototype.bind.call(console.error,console,f.name+":"),C.error.apply(console,arguments))},performance:{log:function(n){var e,i;f.performance&&(i=(e=(new Date).getTime())-(s||e),s=e,l.push({Name:n[0],Arguments:[].slice.call(n,1)||"",Element:S,"Execution Time":i})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var e=f.name+":",i=0;s=!1,clearTimeout(C.performance.timer),n.each(l,function(n,e){i+=e["Execution Time"]}),e+=" "+i+"ms",r&&(e+=" '"+r+"'"),o.length>1&&(e+=" ("+o.length+")"),(console.group!==t||console.table!==t)&&l.length>0&&(console.groupCollapsed(e),console.table?console.table(l):n.each(l,function(n,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(e,i,o){var r,s,l,u=p;return i=i||c,o=S||o,"string"==typeof e&&u!==t&&(e=e.split(/[\. ]/),r=e.length-1,n.each(e,function(i,a){var o=i!=r?a+e[i+1].charAt(0).toUpperCase()+e[i+1].slice(1):e;if(n.isPlainObject(u[o])&&i!=r)u=u[o];else{if(u[o]!==t)return s=u[o],!1;if(!n.isPlainObject(u[a])||i==r)return u[a]!==t&&(s=u[a],!1);u=u[a]}})),n.isFunction(s)?l=s.apply(o,i):s!==t&&(l=s),n.isArray(a)?a.push(l):a!==t?a=[a,l]:l!==t&&(a=l),s!==t&&s}}).initialize()}),a!==t?a:this},n.fn.transition.exists={},n.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.dropdown=function(parameters){var returnedValue,$allModules=$(this),$document=$(document),moduleSelector=$allModules.selector||"",hasTouch="ontouchstart"in document.documentElement,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(elementIndex){var initialLoad,pageLostFocus,willRefocus,elementNamespace,id,selectObserver,menuObserver,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.dropdown.settings,parameters):$.extend({},$.fn.dropdown.settings),className=settings.className,message=settings.message,fields=settings.fields,keys=settings.keys,metadata=settings.metadata,namespace=settings.namespace,regExp=settings.regExp,selector=settings.selector,error=settings.error,templates=settings.templates,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$text=$module.find(selector.text),$search=$module.find(selector.search),$sizer=$module.find(selector.sizer),$input=$module.find(selector.input),$icon=$module.find(selector.icon),$combo=$module.prev().find(selector.text).length>0?$module.prev().find(selector.text):$module.prev(),$menu=$module.children(selector.menu),$item=$menu.find(selector.item),activated=!1,itemActivated=!1,internalChange=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing dropdown",settings),module.is.alreadySetup()?module.setup.reference():(module.setup.layout(),settings.values&&module.change.values(settings.values),module.refreshData(),module.save.defaults(),module.restore.selected(),module.create.id(),module.bind.events(),module.observeChanges(),module.instantiate())},instantiate:function(){module.verbose("Storing instance of dropdown",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous dropdown",$module),module.remove.tabbable(),$module.off(eventNamespace).removeData(moduleNamespace),$menu.off(eventNamespace),$document.off(elementNamespace),module.disconnect.menuObserver(),module.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in window&&(selectObserver=new MutationObserver(module.event.select.mutation),menuObserver=new MutationObserver(module.event.menu.mutation),module.debug("Setting up mutation observer",selectObserver,menuObserver),module.observe.select(),module.observe.menu())},disconnect:{menuObserver:function(){menuObserver&&menuObserver.disconnect()},selectObserver:function(){selectObserver&&selectObserver.disconnect()}},observe:{select:function(){module.has.input()&&selectObserver.observe($module[0],{childList:!0,subtree:!0})},menu:function(){module.has.menu()&&menuObserver.observe($menu[0],{childList:!0,subtree:!0})}},create:{id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)},userChoice:function(values){var $userChoices,$userChoice,html;return(values=values||module.get.userValues())?(values=$.isArray(values)?values:[values],$.each(values,function(index,value){module.get.item(value)===!1&&(html=settings.templates.addition(module.add.variables(message.addResult,value)),$userChoice=$("<div />").html(html).attr("data-"+metadata.value,value).attr("data-"+metadata.text,value).addClass(className.addition).addClass(className.item),settings.hideAdditions&&$userChoice.addClass(className.hidden),$userChoices=$userChoices===undefined?$userChoice:$userChoices.add($userChoice),module.verbose("Creating user choices for value",value,$userChoice))}),$userChoices):!1},userLabels:function(value){var userValues=module.get.userValues();userValues&&(module.debug("Adding user labels",userValues),$.each(userValues,function(index,value){module.verbose("Adding custom user value"),module.add.label(value,value)}))},menu:function(){$menu=$("<div />").addClass(className.menu).appendTo($module)},sizer:function(){$sizer=$("<span />").addClass(className.sizer).insertAfter($search)}},search:function(query){query=query!==undefined?query:module.get.query(),module.verbose("Searching for query",query),module.has.minCharacters(query)?module.filter(query):module.hide()},select:{firstUnfiltered:function(){module.verbose("Selecting first non-filtered element"),module.remove.selectedItem(),$item.not(selector.unselectable).not(selector.addition+selector.hidden).eq(0).addClass(className.selected)},nextAvailable:function($selected){$selected=$selected.eq(0);var $nextAvailable=$selected.nextAll(selector.item).not(selector.unselectable).eq(0),$prevAvailable=$selected.prevAll(selector.item).not(selector.unselectable).eq(0),hasNext=$nextAvailable.length>0;hasNext?(module.verbose("Moving selection to",$nextAvailable),$nextAvailable.addClass(className.selected)):(module.verbose("Moving selection to",$prevAvailable),$prevAvailable.addClass(className.selected))}},setup:{api:function(){var apiSettings={debug:settings.debug,urlData:{value:module.get.value(),query:module.get.query()},on:!1};module.verbose("First request, initializing API"),$module.api(apiSettings)},layout:function(){$module.is("select")&&(module.setup.select(),module.setup.returnedObject()),module.has.menu()||module.create.menu(),module.is.search()&&!module.has.search()&&(module.verbose("Adding search input"),$search=$("<input />").addClass(className.search).prop("autocomplete","off").insertBefore($text)),module.is.multiple()&&module.is.searchSelection()&&!module.has.sizer()&&module.create.sizer(),settings.allowTab&&module.set.tabbable()},select:function(){var selectValues=module.get.selectValues();module.debug("Dropdown initialized on a select",selectValues),$module.is("select")&&($input=$module),$input.parent(selector.dropdown).length>0?(module.debug("UI dropdown already exists. Creating dropdown menu only"),$module=$input.closest(selector.dropdown),module.has.menu()||module.create.menu(),$menu=$module.children(selector.menu),module.setup.menu(selectValues)):(module.debug("Creating entire dropdown from select"),$module=$("<div />").attr("class",$input.attr("class")).addClass(className.selection).addClass(className.dropdown).html(templates.dropdown(selectValues)).insertBefore($input),$input.hasClass(className.multiple)&&$input.prop("multiple")===!1&&(module.error(error.missingMultiple),$input.prop("multiple",!0)),$input.is("[multiple]")&&module.set.multiple(),$input.prop("disabled")&&(module.debug("Disabling dropdown"),$module.addClass(className.disabled)),$input.removeAttr("class").detach().prependTo($module)),module.refresh()},menu:function(values){$menu.html(templates.menu(values,fields)),$item=$menu.find(selector.item)},reference:function(){module.debug("Dropdown behavior was called on select, replacing with closest dropdown"),$module=$module.parent(selector.dropdown),instance=$module.data(moduleNamespace),element=$module.get(0),module.refresh(),module.setup.returnedObject()},returnedObject:function(){var $firstModules=$allModules.slice(0,elementIndex),$lastModules=$allModules.slice(elementIndex+1);$allModules=$firstModules.add($module).add($lastModules)}},refresh:function(){module.refreshSelectors(),module.refreshData()},refreshItems:function(){$item=$menu.find(selector.item)},refreshSelectors:function(){module.verbose("Refreshing selector cache"),$text=$module.find(selector.text),$search=$module.find(selector.search),$input=$module.find(selector.input),$icon=$module.find(selector.icon),$combo=$module.prev().find(selector.text).length>0?$module.prev().find(selector.text):$module.prev(),$menu=$module.children(selector.menu),$item=$menu.find(selector.item)},refreshData:function(){module.verbose("Refreshing cached metadata"),$item.removeData(metadata.text).removeData(metadata.value)},clearData:function(){module.verbose("Clearing metadata"),$item.removeData(metadata.text).removeData(metadata.value),$module.removeData(metadata.defaultText).removeData(metadata.defaultValue).removeData(metadata.placeholderText)},toggle:function(){module.verbose("Toggling menu visibility"),module.is.active()?module.hide():module.show()},show:function(callback){if(callback=$.isFunction(callback)?callback:function(){},!module.can.show()&&module.is.remote()&&(module.debug("No API results retrieved, searching before show"),module.queryRemote(module.get.query(),module.show)),module.can.show()&&!module.is.active()){if(module.debug("Showing dropdown"),!module.has.message()||module.has.maxSelections()||module.has.allResultsFiltered()||module.remove.message(),module.is.allFiltered())return!0;settings.onShow.call(element)!==!1&&module.animate.show(function(){module.can.click()&&module.bind.intent(),module.has.menuSearch()&&module.focusSearch(),module.set.visible(),callback.call(element)})}},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.active()&&!module.is.animatingOutward()&&(module.debug("Hiding dropdown"),settings.onHide.call(element)!==!1&&module.animate.hide(function(){module.remove.visible(),callback.call(element)}))},hideOthers:function(){module.verbose("Finding other dropdowns to hide"),$allModules.not($module).has(selector.menu+"."+className.visible).dropdown("hide")},hideMenu:function(){module.verbose("Hiding menu  instantaneously"),module.remove.active(),module.remove.visible(),$menu.transition("hide")},hideSubMenus:function(){var $subMenus=$menu.children(selector.item).find(selector.menu);module.verbose("Hiding sub menus",$subMenus),$subMenus.transition("hide")},bind:{events:function(){hasTouch&&module.bind.touchEvents(),module.bind.keyboardEvents(),module.bind.inputEvents(),module.bind.mouseEvents()},touchEvents:function(){module.debug("Touch device detected binding additional touch events"),module.is.searchSelection()||module.is.single()&&$module.on("touchstart"+eventNamespace,module.event.test.toggle),$menu.on("touchstart"+eventNamespace,selector.item,module.event.item.mouseenter)},keyboardEvents:function(){module.verbose("Binding keyboard events"),$module.on("keydown"+eventNamespace,module.event.keydown),module.has.search()&&$module.on(module.get.inputEvent()+eventNamespace,selector.search,module.event.input),module.is.multiple()&&$document.on("keydown"+elementNamespace,module.event.document.keydown)},inputEvents:function(){module.verbose("Binding input change events"),$module.on("change"+eventNamespace,selector.input,module.event.change)},mouseEvents:function(){module.verbose("Binding mouse events"),module.is.multiple()&&$module.on("click"+eventNamespace,selector.label,module.event.label.click).on("click"+eventNamespace,selector.remove,module.event.remove.click),module.is.searchSelection()?($module.on("mousedown"+eventNamespace,module.event.mousedown).on("mouseup"+eventNamespace,module.event.mouseup).on("mousedown"+eventNamespace,selector.menu,module.event.menu.mousedown).on("mouseup"+eventNamespace,selector.menu,module.event.menu.mouseup).on("click"+eventNamespace,selector.icon,module.event.icon.click).on("focus"+eventNamespace,selector.search,module.event.search.focus).on("click"+eventNamespace,selector.search,module.event.search.focus).on("blur"+eventNamespace,selector.search,module.event.search.blur).on("click"+eventNamespace,selector.text,module.event.text.focus),module.is.multiple()&&$module.on("click"+eventNamespace,module.event.click)):("click"==settings.on?$module.on("click"+eventNamespace,selector.icon,module.event.icon.click).on("click"+eventNamespace,module.event.test.toggle):"hover"==settings.on?$module.on("mouseenter"+eventNamespace,module.delay.show).on("mouseleave"+eventNamespace,module.delay.hide):$module.on(settings.on+eventNamespace,module.toggle),$module.on("mousedown"+eventNamespace,module.event.mousedown).on("mouseup"+eventNamespace,module.event.mouseup).on("focus"+eventNamespace,module.event.focus),module.has.menuSearch()?$module.on("blur"+eventNamespace,selector.search,module.event.search.blur):$module.on("blur"+eventNamespace,module.event.blur)),$menu.on("mouseenter"+eventNamespace,selector.item,module.event.item.mouseenter).on("mouseleave"+eventNamespace,selector.item,module.event.item.mouseleave).on("click"+eventNamespace,selector.item,module.event.item.click)},intent:function(){module.verbose("Binding hide intent event to document"),hasTouch&&$document.on("touchstart"+elementNamespace,module.event.test.touch).on("touchmove"+elementNamespace,module.event.test.touch),$document.on("click"+elementNamespace,module.event.test.hide)}},unbind:{intent:function(){module.verbose("Removing hide intent event from document"),hasTouch&&$document.off("touchstart"+elementNamespace).off("touchmove"+elementNamespace),$document.off("click"+elementNamespace)}},filter:function(query){var searchTerm=query!==undefined?query:module.get.query(),afterFiltered=function(){module.is.multiple()&&module.filterActive(),(query||!query&&0==module.get.activeItem().length)&&module.select.firstUnfiltered(),module.has.allResultsFiltered()?settings.onNoResults.call(element,searchTerm)?settings.allowAdditions?settings.hideAdditions&&(module.verbose("User addition with no menu, setting empty style"),module.set.empty(),module.hideMenu()):(module.verbose("All items filtered, showing message",searchTerm),module.add.message(message.noResults)):(module.verbose("All items filtered, hiding dropdown",searchTerm),module.hideMenu()):(module.remove.empty(),module.remove.message()),settings.allowAdditions&&module.add.userSuggestion(query),module.is.searchSelection()&&module.can.show()&&module.is.focusedOnSearch()&&module.show()};settings.useLabels&&module.has.maxSelections()||(settings.apiSettings?module.can.useAPI()?module.queryRemote(searchTerm,function(){settings.filterRemoteData&&module.filterItems(searchTerm),afterFiltered()}):module.error(error.noAPI):(module.filterItems(searchTerm),afterFiltered()))},queryRemote:function(query,callback){var apiSettings={errorDuration:!1,cache:"local",throttle:settings.throttle,urlData:{query:query},onError:function(){module.add.message(message.serverError),callback()},onFailure:function(){module.add.message(message.serverError),callback()},onSuccess:function(response){module.remove.message(),module.setup.menu({values:response[fields.remoteValues]}),callback()}};$module.api("get request")||module.setup.api(),apiSettings=$.extend(!0,{},apiSettings,settings.apiSettings),$module.api("setting",apiSettings).api("query")},filterItems:function(query){var searchTerm=query!==undefined?query:module.get.query(),results=null,escapedTerm=module.escape.string(searchTerm),beginsWithRegExp=new RegExp("^"+escapedTerm,"igm"),basheWithRegExp=new RegExp(escapedTerm,"igm");module.has.query()&&(results=[],module.verbose("Searching for matching values",searchTerm),$item.each(function(){var text,value,$choice=$(this);if("both"==settings.match||"text"==settings.match){if(text=String(module.get.choiceText($choice,!1)),-1!==text.search(basheWithRegExp))return results.push(this),!0;if("exact"===settings.fullTextSearch&&module.exactSearch(searchTerm,text))return results.push(this),!0;if(settings.fullTextSearch===!0&&module.fuzzySearch(searchTerm,text))return results.push(this),!0}if("both"==settings.match||"value"==settings.match){if(value=String(module.get.choiceValue($choice,text)),-1!==value.search(beginsWithRegExp))return results.push(this),!0;if("exact"===settings.fullTextSearch&&module.exactSearch(searchTerm,value))return results.push(this),!0;if(settings.fullTextSearch===!0&&module.fuzzySearch(searchTerm,value))return results.push(this),!0}})),module.debug("Showing only matched items",searchTerm),module.remove.filteredItem(),results&&$item.not(results).addClass(className.filtered)},fuzzySearch:function(query,term){var termLength=term.length,queryLength=query.length;if(query=query.toLowerCase(),term=term.toLowerCase(),queryLength>termLength)return!1;if(queryLength===termLength)return query===term;search:for(var characterIndex=0,nextCharacterIndex=0;queryLength>characterIndex;characterIndex++){for(var queryCharacter=query.charCodeAt(characterIndex);termLength>nextCharacterIndex;)if(term.charCodeAt(nextCharacterIndex++)===queryCharacter)continue search;return!1}return!0},exactSearch:function(query,term){return query=query.toLowerCase(),term=term.toLowerCase(),term.indexOf(query)>-1?!0:!1},filterActive:function(){settings.useLabels&&$item.filter("."+className.active).addClass(className.filtered)},focusSearch:function(skipHandler){module.has.search()&&!module.is.focusedOnSearch()&&(skipHandler?($module.off("focus"+eventNamespace,selector.search),$search.focus(),$module.on("focus"+eventNamespace,selector.search,module.event.search.focus)):$search.focus())},forceSelection:function(){var $currentlySelected=$item.not(className.filtered).filter("."+className.selected).eq(0),$activeItem=$item.not(className.filtered).filter("."+className.active).eq(0),$selectedItem=$currentlySelected.length>0?$currentlySelected:$activeItem,hasSelected=$selectedItem.length>0;return hasSelected&&!module.is.multiple()?(module.debug("Forcing partial selection to selected item",$selectedItem),void module.event.item.click.call($selectedItem,{},!0)):void(settings.allowAdditions?(module.set.selected(module.get.query()),module.remove.searchTerm()):module.remove.searchTerm())},change:{values:function(values){settings.allowAdditions||module.clear(),module.debug("Creating dropdown with specified values",values),module.setup.menu({values:values}),$.each(values,function(index,item){return 1==item.selected?(module.debug("Setting initial selection to",item.value),module.set.selected(item.value),!0):void 0})}},event:{change:function(){internalChange||(module.debug("Input changed, updating selection"),module.set.selected())},focus:function(){settings.showOnFocus&&!activated&&module.is.hidden()&&!pageLostFocus&&module.show()},blur:function(event){pageLostFocus=document.activeElement===this,activated||pageLostFocus||(module.remove.activeLabel(),module.hide())},mousedown:function(){module.is.searchSelection()?willRefocus=!0:activated=!0},mouseup:function(){module.is.searchSelection()?willRefocus=!1:activated=!1},click:function(event){var $target=$(event.target);$target.is($module)&&(module.is.focusedOnSearch()?module.show():module.focusSearch())},search:{focus:function(){activated=!0,module.is.multiple()&&module.remove.activeLabel(),settings.showOnFocus&&module.search()},blur:function(event){pageLostFocus=document.activeElement===this,module.is.searchSelection()&&!willRefocus&&(itemActivated||pageLostFocus||(settings.forceSelection&&module.forceSelection(),module.hide())),willRefocus=!1}},icon:{click:function(event){module.toggle()}},text:{focus:function(event){activated=!0,module.focusSearch()}},input:function(event){(module.is.multiple()||module.is.searchSelection())&&module.set.filtered(),clearTimeout(module.timer),module.timer=setTimeout(module.search,settings.delay.search)},label:{click:function(event){var $label=$(this),$labels=$module.find(selector.label),$activeLabels=$labels.filter("."+className.active),$nextActive=$label.nextAll("."+className.active),$prevActive=$label.prevAll("."+className.active),$range=$nextActive.length>0?$label.nextUntil($nextActive).add($activeLabels).add($label):$label.prevUntil($prevActive).add($activeLabels).add($label);event.shiftKey?($activeLabels.removeClass(className.active),$range.addClass(className.active)):event.ctrlKey?$label.toggleClass(className.active):($activeLabels.removeClass(className.active),$label.addClass(className.active)),settings.onLabelSelect.apply(this,$labels.filter("."+className.active))}},remove:{click:function(){var $label=$(this).parent();$label.hasClass(className.active)?module.remove.activeLabels():module.remove.activeLabels($label)}},test:{toggle:function(event){var toggleBehavior=module.is.multiple()?module.show:module.toggle;module.is.bubbledLabelClick(event)||module.is.bubbledIconClick(event)||module.determine.eventOnElement(event,toggleBehavior)&&event.preventDefault()},touch:function(event){module.determine.eventOnElement(event,function(){"touchstart"==event.type?module.timer=setTimeout(function(){module.hide()},settings.delay.touch):"touchmove"==event.type&&clearTimeout(module.timer)}),event.stopPropagation()},hide:function(event){module.determine.eventInModule(event,module.hide)}},select:{mutation:function(mutations){module.debug("<select> modified, recreating menu");var isSelectMutation=!1;$.each(mutations,function(index,mutation){return $(mutation.target).is("select")||$(mutation.addedNodes).is("select")?(isSelectMutation=!0,!0):void 0}),isSelectMutation&&(module.disconnect.selectObserver(),module.refresh(),module.setup.select(),module.set.selected(),module.observe.select())}},menu:{mutation:function(mutations){var mutation=mutations[0],$addedNode=$(mutation.addedNodes?mutation.addedNodes[0]:!1),$removedNode=$(mutation.removedNodes?mutation.removedNodes[0]:!1),$changedNodes=$addedNode.add($removedNode),isUserAddition=$changedNodes.is(selector.addition)||$changedNodes.closest(selector.addition).length>0,isMessage=$changedNodes.is(selector.message)||$changedNodes.closest(selector.message).length>0;isUserAddition||isMessage?(module.debug("Updating item selector cache"),module.refreshItems()):(module.debug("Menu modified, updating selector cache"),module.refresh())},mousedown:function(){itemActivated=!0},mouseup:function(){itemActivated=!1}},item:{mouseenter:function(event){var $target=$(event.target),$item=$(this),$subMenu=$item.children(selector.menu),$otherMenus=$item.siblings(selector.item).children(selector.menu),hasSubMenu=$subMenu.length>0,isBubbledEvent=$subMenu.find($target).length>0;!isBubbledEvent&&hasSubMenu&&(clearTimeout(module.itemTimer),module.itemTimer=setTimeout(function(){module.verbose("Showing sub-menu",$subMenu),$.each($otherMenus,function(){module.animate.hide(!1,$(this))}),module.animate.show(!1,$subMenu)},settings.delay.show),event.preventDefault())},mouseleave:function(event){var $subMenu=$(this).children(selector.menu);$subMenu.length>0&&(clearTimeout(module.itemTimer),module.itemTimer=setTimeout(function(){module.verbose("Hiding sub-menu",$subMenu),module.animate.hide(!1,$subMenu)},settings.delay.hide))},click:function(event,skipRefocus){var $choice=$(this),$target=$(event?event.target:""),$subMenu=$choice.find(selector.menu),text=module.get.choiceText($choice),value=module.get.choiceValue($choice,text),hasSubMenu=$subMenu.length>0,isBubbledEvent=$subMenu.find($target).length>0;module.has.menuSearch()&&$(document.activeElement).blur(),isBubbledEvent||hasSubMenu&&!settings.allowCategorySelection||(module.is.searchSelection()&&(settings.allowAdditions&&module.remove.userAddition(),module.remove.searchTerm(),module.is.focusedOnSearch()||1==skipRefocus||module.focusSearch(!0)),settings.useLabels||(module.remove.filteredItem(),module.set.scrollPosition($choice)),module.determine.selectAction.call(this,text,value))}},document:{keydown:function(event){var pressedKey=event.which,isShortcutKey=module.is.inObject(pressedKey,keys);if(isShortcutKey){var $label=$module.find(selector.label),$activeLabel=$label.filter("."+className.active),labelIndex=($activeLabel.data(metadata.value),$label.index($activeLabel)),labelCount=$label.length,hasActiveLabel=$activeLabel.length>0,hasMultipleActive=$activeLabel.length>1,isFirstLabel=0===labelIndex,isLastLabel=labelIndex+1==labelCount,isSearch=module.is.searchSelection(),isFocusedOnSearch=module.is.focusedOnSearch(),isFocused=module.is.focused(),caretAtStart=isFocusedOnSearch&&0===module.get.caretPosition();if(isSearch&&!hasActiveLabel&&!isFocusedOnSearch)return;pressedKey==keys.leftArrow?!isFocused&&!caretAtStart||hasActiveLabel?hasActiveLabel&&(event.shiftKey?module.verbose("Adding previous label to selection"):(module.verbose("Selecting previous label"),$label.removeClass(className.active)),isFirstLabel&&!hasMultipleActive?$activeLabel.addClass(className.active):$activeLabel.prev(selector.siblingLabel).addClass(className.active).end(),event.preventDefault()):(module.verbose("Selecting previous label"),$label.last().addClass(className.active)):pressedKey==keys.rightArrow?(isFocused&&!hasActiveLabel&&$label.first().addClass(className.active),hasActiveLabel&&(event.shiftKey?module.verbose("Adding next label to selection"):(module.verbose("Selecting next label"),$label.removeClass(className.active)),isLastLabel?isSearch?isFocusedOnSearch?$label.removeClass(className.active):module.focusSearch():hasMultipleActive?$activeLabel.next(selector.siblingLabel).addClass(className.active):$activeLabel.addClass(className.active):$activeLabel.next(selector.siblingLabel).addClass(className.active),event.preventDefault())):pressedKey==keys.deleteKey||pressedKey==keys.backspace?hasActiveLabel?(module.verbose("Removing active labels"),isLastLabel&&isSearch&&!isFocusedOnSearch&&module.focusSearch(),$activeLabel.last().next(selector.siblingLabel).addClass(className.active),module.remove.activeLabels($activeLabel),event.preventDefault()):caretAtStart&&!hasActiveLabel&&pressedKey==keys.backspace&&(module.verbose("Removing last label on input backspace"),$activeLabel=$label.last().addClass(className.active),
module.remove.activeLabels($activeLabel)):$activeLabel.removeClass(className.active)}}},keydown:function(event){var pressedKey=event.which,isShortcutKey=module.is.inObject(pressedKey,keys);if(isShortcutKey){var $nextItem,isSubMenuItem,$currentlySelected=$item.not(selector.unselectable).filter("."+className.selected).eq(0),$activeItem=$menu.children("."+className.active).eq(0),$selectedItem=$currentlySelected.length>0?$currentlySelected:$activeItem,$visibleItems=$selectedItem.length>0?$selectedItem.siblings(":not(."+className.filtered+")").addBack():$menu.children(":not(."+className.filtered+")"),$subMenu=$selectedItem.children(selector.menu),$parentMenu=$selectedItem.closest(selector.menu),inVisibleMenu=$parentMenu.hasClass(className.visible)||$parentMenu.hasClass(className.animating)||$parentMenu.parent(selector.menu).length>0,hasSubMenu=$subMenu.length>0,hasSelectedItem=$selectedItem.length>0,selectedIsSelectable=$selectedItem.not(selector.unselectable).length>0,delimiterPressed=pressedKey==keys.delimiter&&settings.allowAdditions&&module.is.multiple(),isAdditionWithoutMenu=settings.allowAdditions&&settings.hideAdditions&&(pressedKey==keys.enter||delimiterPressed)&&selectedIsSelectable;if(isAdditionWithoutMenu&&(module.verbose("Selecting item from keyboard shortcut",$selectedItem),module.event.item.click.call($selectedItem,event),module.is.searchSelection()&&module.remove.searchTerm()),module.is.visible()){if((pressedKey==keys.enter||delimiterPressed)&&(pressedKey==keys.enter&&hasSelectedItem&&hasSubMenu&&!settings.allowCategorySelection?(module.verbose("Pressed enter on unselectable category, opening sub menu"),pressedKey=keys.rightArrow):selectedIsSelectable&&(module.verbose("Selecting item from keyboard shortcut",$selectedItem),module.event.item.click.call($selectedItem,event),module.is.searchSelection()&&module.remove.searchTerm()),event.preventDefault()),hasSelectedItem&&(pressedKey==keys.leftArrow&&(isSubMenuItem=$parentMenu[0]!==$menu[0],isSubMenuItem&&(module.verbose("Left key pressed, closing sub-menu"),module.animate.hide(!1,$parentMenu),$selectedItem.removeClass(className.selected),$parentMenu.closest(selector.item).addClass(className.selected),event.preventDefault())),pressedKey==keys.rightArrow&&hasSubMenu&&(module.verbose("Right key pressed, opening sub-menu"),module.animate.show(!1,$subMenu),$selectedItem.removeClass(className.selected),$subMenu.find(selector.item).eq(0).addClass(className.selected),event.preventDefault())),pressedKey==keys.upArrow){if($nextItem=hasSelectedItem&&inVisibleMenu?$selectedItem.prevAll(selector.item+":not("+selector.unselectable+")").eq(0):$item.eq(0),$visibleItems.index($nextItem)<0)return module.verbose("Up key pressed but reached top of current menu"),void event.preventDefault();module.verbose("Up key pressed, changing active item"),$selectedItem.removeClass(className.selected),$nextItem.addClass(className.selected),module.set.scrollPosition($nextItem),settings.selectOnKeydown&&module.is.single()&&module.set.selectedItem($nextItem),event.preventDefault()}if(pressedKey==keys.downArrow){if($nextItem=hasSelectedItem&&inVisibleMenu?$nextItem=$selectedItem.nextAll(selector.item+":not("+selector.unselectable+")").eq(0):$item.eq(0),0===$nextItem.length)return module.verbose("Down key pressed but reached bottom of current menu"),void event.preventDefault();module.verbose("Down key pressed, changing active item"),$item.removeClass(className.selected),$nextItem.addClass(className.selected),module.set.scrollPosition($nextItem),settings.selectOnKeydown&&module.is.single()&&module.set.selectedItem($nextItem),event.preventDefault()}pressedKey==keys.pageUp&&(module.scrollPage("up"),event.preventDefault()),pressedKey==keys.pageDown&&(module.scrollPage("down"),event.preventDefault()),pressedKey==keys.escape&&(module.verbose("Escape key pressed, closing dropdown"),module.hide())}else delimiterPressed&&event.preventDefault(),pressedKey!=keys.downArrow||module.is.visible()||(module.verbose("Down key pressed, showing dropdown"),module.show(),event.preventDefault())}else module.has.search()||module.set.selectedLetter(String.fromCharCode(pressedKey))}},trigger:{change:function(){var events=document.createEvent("HTMLEvents"),inputElement=$input[0];inputElement&&(module.verbose("Triggering native change event"),events.initEvent("change",!0,!1),inputElement.dispatchEvent(events))}},determine:{selectAction:function(text,value){module.verbose("Determining action",settings.action),$.isFunction(module.action[settings.action])?(module.verbose("Triggering preset action",settings.action,text,value),module.action[settings.action].call(element,text,value,this)):$.isFunction(settings.action)?(module.verbose("Triggering user action",settings.action,text,value),settings.action.call(element,text,value,this)):module.error(error.action,settings.action)},eventInModule:function(event,callback){var $target=$(event.target),inDocument=$target.closest(document.documentElement).length>0,inModule=$target.closest($module).length>0;return callback=$.isFunction(callback)?callback:function(){},inDocument&&!inModule?(module.verbose("Triggering event",callback),callback(),!0):(module.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(event,callback){var $target=$(event.target),$label=$target.closest(selector.siblingLabel),inVisibleDOM=document.body.contains(event.target),notOnLabel=0===$module.find($label).length,notInMenu=0===$target.closest($menu).length;return callback=$.isFunction(callback)?callback:function(){},inVisibleDOM&&notOnLabel&&notInMenu?(module.verbose("Triggering event",callback),callback(),!0):(module.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(text,value,element){if(value=value!==undefined?value:text,module.can.activate($(element))){if(module.set.selected(value,$(element)),module.is.multiple()&&!module.is.allFiltered())return;module.hideAndClear()}},select:function(text,value,element){if(value=value!==undefined?value:text,module.can.activate($(element))){if(module.set.value(value,text,$(element)),module.is.multiple()&&!module.is.allFiltered())return;module.hideAndClear()}},combo:function(text,value,element){value=value!==undefined?value:text,module.set.selected(value,$(element)),module.hideAndClear()},hide:function(text,value,element){module.set.value(value,text),module.hideAndClear()}},get:{id:function(){return id},defaultText:function(){return $module.data(metadata.defaultText)},defaultValue:function(){return $module.data(metadata.defaultValue)},placeholderText:function(){return"auto"!=settings.placeholder&&"string"==typeof settings.placeholder?settings.placeholder:$module.data(metadata.placeholderText)||""},text:function(){return $text.text()},query:function(){return $.trim($search.val())},searchWidth:function(value){return value=value!==undefined?value:$search.val(),$sizer.text(value),Math.ceil($sizer.width()+1)},selectionCount:function(){var count,values=module.get.values();return count=module.is.multiple()?$.isArray(values)?values.length:0:""!==module.get.value()?1:0},transition:function($subMenu){return"auto"==settings.transition?module.is.upward($subMenu)?"slide up":"slide down":settings.transition},userValues:function(){var values=module.get.values();return values?(values=$.isArray(values)?values:[values],$.grep(values,function(value){return module.get.item(value)===!1})):!1},uniqueArray:function(array){return $.grep(array,function(value,index){return $.inArray(value,array)===index})},caretPosition:function(){var range,rangeLength,input=$search.get(0);return"selectionStart"in input?input.selectionStart:document.selection?(input.focus(),range=document.selection.createRange(),rangeLength=range.text.length,range.moveStart("character",-input.value.length),range.text.length-rangeLength):void 0},value:function(){var value=$input.length>0?$input.val():$module.data(metadata.value),isEmptyMultiselect=$.isArray(value)&&1===value.length&&""===value[0];return value===undefined||isEmptyMultiselect?"":value},values:function(){var value=module.get.value();return""===value?"":!module.has.selectInput()&&module.is.multiple()?"string"==typeof value?value.split(settings.delimiter):"":value},remoteValues:function(){var values=module.get.values(),remoteValues=!1;return values&&("string"==typeof values&&(values=[values]),$.each(values,function(index,value){var name=module.read.remoteData(value);module.verbose("Restoring value from session data",name,value),name&&(remoteValues||(remoteValues={}),remoteValues[value]=name)})),remoteValues},choiceText:function($choice,preserveHTML){return preserveHTML=preserveHTML!==undefined?preserveHTML:settings.preserveHTML,$choice?($choice.find(selector.menu).length>0&&(module.verbose("Retrieving text of element with sub-menu"),$choice=$choice.clone(),$choice.find(selector.menu).remove(),$choice.find(selector.menuIcon).remove()),$choice.data(metadata.text)!==undefined?$choice.data(metadata.text):$.trim(preserveHTML?$choice.html():$choice.text())):void 0},choiceValue:function($choice,choiceText){return choiceText=choiceText||module.get.choiceText($choice),$choice?$choice.data(metadata.value)!==undefined?String($choice.data(metadata.value)):"string"==typeof choiceText?$.trim(choiceText.toLowerCase()):String(choiceText):!1},inputEvent:function(){var input=$search[0];return input?input.oninput!==undefined?"input":input.onpropertychange!==undefined?"propertychange":"keyup":!1},selectValues:function(){var select={};return select.values=[],$module.find("option").each(function(){var $option=$(this),name=$option.html(),disabled=$option.attr("disabled"),value=$option.attr("value")!==undefined?$option.attr("value"):name;"auto"===settings.placeholder&&""===value?select.placeholder=name:select.values.push({name:name,value:value,disabled:disabled})}),settings.placeholder&&"auto"!==settings.placeholder&&(module.debug("Setting placeholder value to",settings.placeholder),select.placeholder=settings.placeholder),settings.sortSelect?(select.values.sort(function(a,b){return a.name>b.name?1:-1}),module.debug("Retrieved and sorted values from select",select)):module.debug("Retrieved values from select",select),select},activeItem:function(){return $item.filter("."+className.active)},selectedItem:function(){var $selectedItem=$item.not(selector.unselectable).filter("."+className.selected);return $selectedItem.length>0?$selectedItem:$item.eq(0)},itemWithAdditions:function(value){var $items=module.get.item(value),$userItems=module.create.userChoice(value),hasUserItems=$userItems&&$userItems.length>0;return hasUserItems&&($items=$items.length>0?$items.add($userItems):$userItems),$items},item:function(value,strict){var shouldSearch,isMultiple,$selectedItem=!1;return value=value!==undefined?value:module.get.values()!==undefined?module.get.values():module.get.text(),shouldSearch=isMultiple?value.length>0:value!==undefined&&null!==value,isMultiple=module.is.multiple()&&$.isArray(value),strict=""===value||0===value?!0:strict||!1,shouldSearch&&$item.each(function(){var $choice=$(this),optionText=module.get.choiceText($choice),optionValue=module.get.choiceValue($choice,optionText);if(null!==optionValue&&optionValue!==undefined)if(isMultiple)(-1!==$.inArray(String(optionValue),value)||-1!==$.inArray(optionText,value))&&($selectedItem=$selectedItem?$selectedItem.add($choice):$choice);else if(strict){if(module.verbose("Ambiguous dropdown value using strict type check",$choice,value),optionValue===value||optionText===value)return $selectedItem=$choice,!0}else if(String(optionValue)==String(value)||optionText==value)return module.verbose("Found select item by value",optionValue,value),$selectedItem=$choice,!0}),$selectedItem}},check:{maxSelections:function(selectionCount){return settings.maxSelections?(selectionCount=selectionCount!==undefined?selectionCount:module.get.selectionCount(),selectionCount>=settings.maxSelections?(module.debug("Maximum selection count reached"),settings.useLabels&&($item.addClass(className.filtered),module.add.message(message.maxSelections)),!0):(module.verbose("No longer at maximum selection count"),module.remove.message(),module.remove.filteredItem(),module.is.searchSelection()&&module.filterItems(),!1)):!0}},restore:{defaults:function(){module.clear(),module.restore.defaultText(),module.restore.defaultValue()},defaultText:function(){var defaultText=module.get.defaultText(),placeholderText=module.get.placeholderText;defaultText===placeholderText?(module.debug("Restoring default placeholder text",defaultText),module.set.placeholderText(defaultText)):(module.debug("Restoring default text",defaultText),module.set.text(defaultText))},placeholderText:function(){module.set.placeholderText()},defaultValue:function(){var defaultValue=module.get.defaultValue();defaultValue!==undefined&&(module.debug("Restoring default value",defaultValue),""!==defaultValue?(module.set.value(defaultValue),module.set.selected()):(module.remove.activeItem(),module.remove.selectedItem()))},labels:function(){settings.allowAdditions&&(settings.useLabels||(module.error(error.labels),settings.useLabels=!0),module.debug("Restoring selected values"),module.create.userLabels()),module.check.maxSelections()},selected:function(){module.restore.values(),module.is.multiple()?(module.debug("Restoring previously selected values and labels"),module.restore.labels()):module.debug("Restoring previously selected values")},values:function(){module.set.initialLoad(),settings.apiSettings&&settings.saveRemoteData&&module.get.remoteValues()?module.restore.remoteValues():module.set.selected(),module.remove.initialLoad()},remoteValues:function(){var values=module.get.remoteValues();module.debug("Recreating selected from session data",values),values&&(module.is.single()?$.each(values,function(value,name){module.set.text(name)}):$.each(values,function(value,name){module.add.label(value,name)}))}},read:{remoteData:function(value){var name;return window.Storage===undefined?void module.error(error.noStorage):(name=sessionStorage.getItem(value),name!==undefined?name:!1)}},save:{defaults:function(){module.save.defaultText(),module.save.placeholderText(),module.save.defaultValue()},defaultValue:function(){var value=module.get.value();module.verbose("Saving default value as",value),$module.data(metadata.defaultValue,value)},defaultText:function(){var text=module.get.text();module.verbose("Saving default text as",text),$module.data(metadata.defaultText,text)},placeholderText:function(){var text;settings.placeholder!==!1&&$text.hasClass(className.placeholder)&&(text=module.get.text(),module.verbose("Saving placeholder text as",text),$module.data(metadata.placeholderText,text))},remoteData:function(name,value){return window.Storage===undefined?void module.error(error.noStorage):(module.verbose("Saving remote data to session storage",value,name),void sessionStorage.setItem(value,name))}},clear:function(){module.is.multiple()&&settings.useLabels?module.remove.labels():(module.remove.activeItem(),module.remove.selectedItem()),module.set.placeholderText(),module.clearValue()},clearValue:function(){module.set.value("")},scrollPage:function(direction,$selectedItem){var isWithinRange,$nextSelectedItem,elementIndex,$currentItem=$selectedItem||module.get.selectedItem(),$menu=$currentItem.closest(selector.menu),menuHeight=$menu.outerHeight(),currentScroll=$menu.scrollTop(),itemHeight=$item.eq(0).outerHeight(),itemsPerPage=Math.floor(menuHeight/itemHeight),newScroll=($menu.prop("scrollHeight"),"up"==direction?currentScroll-itemHeight*itemsPerPage:currentScroll+itemHeight*itemsPerPage),$selectableItem=$item.not(selector.unselectable);elementIndex="up"==direction?$selectableItem.index($currentItem)-itemsPerPage:$selectableItem.index($currentItem)+itemsPerPage,isWithinRange="up"==direction?elementIndex>=0:elementIndex<$selectableItem.length,$nextSelectedItem=isWithinRange?$selectableItem.eq(elementIndex):"up"==direction?$selectableItem.first():$selectableItem.last(),$nextSelectedItem.length>0&&(module.debug("Scrolling page",direction,$nextSelectedItem),$currentItem.removeClass(className.selected),$nextSelectedItem.addClass(className.selected),settings.selectOnKeydown&&module.is.single()&&module.set.selectedItem($nextSelectedItem),$menu.scrollTop(newScroll))},set:{filtered:function(){var isMultiple=module.is.multiple(),isSearch=module.is.searchSelection(),isSearchMultiple=isMultiple&&isSearch,searchValue=isSearch?module.get.query():"",hasSearchValue="string"==typeof searchValue&&searchValue.length>0,searchWidth=module.get.searchWidth(),valueIsSet=""!==searchValue;isMultiple&&hasSearchValue&&(module.verbose("Adjusting input width",searchWidth,settings.glyphWidth),$search.css("width",searchWidth)),hasSearchValue||isSearchMultiple&&valueIsSet?(module.verbose("Hiding placeholder text"),$text.addClass(className.filtered)):(!isMultiple||isSearchMultiple&&!valueIsSet)&&(module.verbose("Showing placeholder text"),$text.removeClass(className.filtered))},empty:function(){$module.addClass(className.empty)},loading:function(){$module.addClass(className.loading)},placeholderText:function(text){text=text||module.get.placeholderText(),module.debug("Setting placeholder text",text),module.set.text(text),$text.addClass(className.placeholder)},tabbable:function(){module.is.searchSelection()?(module.debug("Added tabindex to searchable dropdown"),$search.val("").attr("tabindex",0),$menu.attr("tabindex",-1)):(module.debug("Added tabindex to dropdown"),$module.attr("tabindex")===undefined&&($module.attr("tabindex",0),$menu.attr("tabindex",-1)))},initialLoad:function(){module.verbose("Setting initial load"),initialLoad=!0},activeItem:function($item){$item.addClass(settings.allowAdditions&&$item.filter(selector.addition).length>0?className.filtered:className.active)},partialSearch:function(text){var length=module.get.query().length;$search.val(text.substr(0,length))},scrollPosition:function($item,forceScroll){var $menu,hasActive,offset,itemOffset,menuOffset,menuScroll,menuHeight,abovePage,belowPage,edgeTolerance=5;$item=$item||module.get.selectedItem(),$menu=$item.closest(selector.menu),hasActive=$item&&$item.length>0,forceScroll=forceScroll!==undefined?forceScroll:!1,$item&&$menu.length>0&&hasActive&&(itemOffset=$item.position().top,$menu.addClass(className.loading),menuScroll=$menu.scrollTop(),menuOffset=$menu.offset().top,itemOffset=$item.offset().top,offset=menuScroll-menuOffset+itemOffset,forceScroll||(menuHeight=$menu.height(),belowPage=offset+edgeTolerance>menuScroll+menuHeight,abovePage=menuScroll>offset-edgeTolerance),module.debug("Scrolling to active item",offset),(forceScroll||abovePage||belowPage)&&$menu.scrollTop(offset),$menu.removeClass(className.loading))},text:function(text){"select"!==settings.action&&("combo"==settings.action?(module.debug("Changing combo button text",text,$combo),settings.preserveHTML?$combo.html(text):$combo.text(text)):(text!==module.get.placeholderText()&&$text.removeClass(className.placeholder),module.debug("Changing text",text,$text),$text.removeClass(className.filtered),settings.preserveHTML?$text.html(text):$text.text(text)))},selectedItem:function($item){var value=module.get.choiceValue($item),searchText=module.get.choiceText($item,!1),text=module.get.choiceText($item,!0);module.debug("Setting user selection to item",$item),module.remove.activeItem(),module.set.partialSearch(searchText),module.set.activeItem($item),module.set.selected(value,$item),module.set.text(text)},selectedLetter:function(letter){var $nextItem,$selectedItem=$item.filter("."+className.selected),alreadySelectedLetter=$selectedItem.length>0&&module.has.firstLetter($selectedItem,letter),$nextValue=!1;alreadySelectedLetter&&($nextItem=$selectedItem.nextAll($item).eq(0),module.has.firstLetter($nextItem,letter)&&($nextValue=$nextItem)),$nextValue||$item.each(function(){return module.has.firstLetter($(this),letter)?($nextValue=$(this),!1):void 0}),$nextValue&&(module.verbose("Scrolling to next value with letter",letter),module.set.scrollPosition($nextValue),$selectedItem.removeClass(className.selected),$nextValue.addClass(className.selected),settings.selectOnKeydown&&module.is.single()&&module.set.selectedItem($nextValue))},direction:function($menu){"auto"==settings.direction?(module.remove.upward(),module.can.openDownward($menu)?module.remove.upward($menu):module.set.upward($menu),module.is.leftward($menu)||module.can.openRightward($menu)||module.set.leftward($menu)):"upward"==settings.direction&&module.set.upward($menu)},upward:function($currentMenu){var $element=$currentMenu||$module;$element.addClass(className.upward)},leftward:function($currentMenu){var $element=$currentMenu||$menu;$element.addClass(className.leftward)},value:function(value,text,$selected){var escapedValue=module.escape.value(value),hasInput=$input.length>0,currentValue=module.get.values(),stringValue=value!==undefined?String(value):value;if(hasInput){if(!settings.allowReselection&&stringValue==currentValue&&(module.verbose("Skipping value update already same value",value,currentValue),!module.is.initialLoad()))return;module.is.single()&&module.has.selectInput()&&module.can.extendSelect()&&(module.debug("Adding user option",value),module.add.optionValue(value)),module.debug("Updating input value",escapedValue,currentValue),internalChange=!0,$input.val(escapedValue),settings.fireOnInit===!1&&module.is.initialLoad()?module.debug("Input native change event ignored on initial load"):module.trigger.change(),internalChange=!1}else module.verbose("Storing value in metadata",escapedValue,$input),escapedValue!==currentValue&&$module.data(metadata.value,stringValue);settings.fireOnInit===!1&&module.is.initialLoad()?module.verbose("No callback on initial load",settings.onChange):settings.onChange.call(element,value,text,$selected)},active:function(){$module.addClass(className.active)},multiple:function(){$module.addClass(className.multiple)},visible:function(){$module.addClass(className.visible)},exactly:function(value,$selectedItem){module.debug("Setting selected to exact values"),module.clear(),module.set.selected(value,$selectedItem)},selected:function(value,$selectedItem){var isMultiple=module.is.multiple();$selectedItem=settings.allowAdditions?$selectedItem||module.get.itemWithAdditions(value):$selectedItem||module.get.item(value),$selectedItem&&(module.debug("Setting selected menu item to",$selectedItem),module.is.multiple()&&module.remove.searchWidth(),module.is.single()?(module.remove.activeItem(),module.remove.selectedItem()):settings.useLabels&&module.remove.selectedItem(),$selectedItem.each(function(){var $selected=$(this),selectedText=module.get.choiceText($selected),selectedValue=module.get.choiceValue($selected,selectedText),isFiltered=$selected.hasClass(className.filtered),isActive=$selected.hasClass(className.active),isUserValue=$selected.hasClass(className.addition),shouldAnimate=isMultiple&&1==$selectedItem.length;isMultiple?!isActive||isUserValue?(settings.apiSettings&&settings.saveRemoteData&&module.save.remoteData(selectedText,selectedValue),settings.useLabels?(module.add.label(selectedValue,selectedText,shouldAnimate),module.add.value(selectedValue,selectedText,$selected),module.set.activeItem($selected),module.filterActive(),module.select.nextAvailable($selectedItem)):(module.add.value(selectedValue,selectedText,$selected),module.set.text(module.add.variables(message.count)),module.set.activeItem($selected))):isFiltered||(module.debug("Selected active value, removing label"),module.remove.selected(selectedValue)):(settings.apiSettings&&settings.saveRemoteData&&module.save.remoteData(selectedText,selectedValue),module.set.text(selectedText),module.set.value(selectedValue,selectedText,$selected),$selected.addClass(className.active).addClass(className.selected))}))}},add:{label:function(value,text,shouldAnimate){var $label,$next=module.is.searchSelection()?$search:$text,escapedValue=module.escape.value(value);return settings.ignoreCase&&(escapedValue=escapedValue.toLowerCase()),$label=$("<a />").addClass(className.label).attr("data-"+metadata.value,escapedValue).html(templates.label(escapedValue,text)),$label=settings.onLabelCreate.call($label,escapedValue,text),module.has.label(value)?void module.debug("User selection already exists, skipping",escapedValue):(settings.label.variation&&$label.addClass(settings.label.variation),void(shouldAnimate===!0?(module.debug("Animating in label",$label),$label.addClass(className.hidden).insertBefore($next).transition(settings.label.transition,settings.label.duration)):(module.debug("Adding selection label",$label),$label.insertBefore($next))))},message:function(message){var $message=$menu.children(selector.message),html=settings.templates.message(module.add.variables(message));$message.length>0?$message.html(html):$message=$("<div/>").html(html).addClass(className.message).appendTo($menu)},optionValue:function(value){var escapedValue=module.escape.value(value),$option=$input.find('option[value="'+module.escape.string(escapedValue)+'"]'),hasOption=$option.length>0;hasOption||(module.disconnect.selectObserver(),module.is.single()&&(module.verbose("Removing previous user addition"),$input.find("option."+className.addition).remove()),$("<option/>").prop("value",escapedValue).addClass(className.addition).html(value).appendTo($input),module.verbose("Adding user addition as an <option>",value),module.observe.select())},userSuggestion:function(value){var html,$addition=$menu.children(selector.addition),$existingItem=module.get.item(value),alreadyHasValue=$existingItem&&$existingItem.not(selector.addition).length,hasUserSuggestion=$addition.length>0;if(!settings.useLabels||!module.has.maxSelections()){if(""===value||alreadyHasValue)return void $addition.remove();hasUserSuggestion?($addition.data(metadata.value,value).data(metadata.text,value).attr("data-"+metadata.value,value).attr("data-"+metadata.text,value).removeClass(className.filtered),settings.hideAdditions||(html=settings.templates.addition(module.add.variables(message.addResult,value)),$addition.html(html)),module.verbose("Replacing user suggestion with new value",$addition)):($addition=module.create.userChoice(value),$addition.prependTo($menu),module.verbose("Adding item choice to menu corresponding with user choice addition",$addition)),(!settings.hideAdditions||module.is.allFiltered())&&$addition.addClass(className.selected).siblings().removeClass(className.selected),module.refreshItems()}},variables:function(message,term){var count,query,hasCount=-1!==message.search("{count}"),hasMaxCount=-1!==message.search("{maxCount}"),hasTerm=-1!==message.search("{term}");return module.verbose("Adding templated variables to message",message),hasCount&&(count=module.get.selectionCount(),message=message.replace("{count}",count)),hasMaxCount&&(count=module.get.selectionCount(),message=message.replace("{maxCount}",settings.maxSelections)),hasTerm&&(query=term||module.get.query(),message=message.replace("{term}",query)),message},value:function(addedValue,addedText,$selectedItem){var newValue,currentValue=module.get.values();return module.has.value(addedValue)?void module.debug("Value already selected"):""===addedValue?void module.debug("Cannot select blank values from multiselect"):($.isArray(currentValue)?(newValue=currentValue.concat([addedValue]),newValue=module.get.uniqueArray(newValue)):newValue=[addedValue],module.has.selectInput()?module.can.extendSelect()&&(module.debug("Adding value to select",addedValue,newValue,$input),module.add.optionValue(addedValue)):(newValue=newValue.join(settings.delimiter),module.debug("Setting hidden input to delimited value",newValue,$input)),settings.fireOnInit===!1&&module.is.initialLoad()?module.verbose("Skipping onadd callback on initial load",settings.onAdd):settings.onAdd.call(element,addedValue,addedText,$selectedItem),module.set.value(newValue,addedValue,addedText,$selectedItem),void module.check.maxSelections())}},remove:{active:function(){$module.removeClass(className.active)},activeLabel:function(){$module.find(selector.label).removeClass(className.active)},empty:function(){$module.removeClass(className.empty)},loading:function(){$module.removeClass(className.loading)},initialLoad:function(){initialLoad=!1},upward:function($currentMenu){var $element=$currentMenu||$module;$element.removeClass(className.upward)},leftward:function($currentMenu){var $element=$currentMenu||$menu;$element.removeClass(className.leftward)},visible:function(){$module.removeClass(className.visible)},activeItem:function(){$item.removeClass(className.active)},filteredItem:function(){settings.useLabels&&module.has.maxSelections()||(settings.useLabels&&module.is.multiple()?$item.not("."+className.active).removeClass(className.filtered):$item.removeClass(className.filtered),module.remove.empty())},optionValue:function(value){var escapedValue=module.escape.value(value),$option=$input.find('option[value="'+module.escape.string(escapedValue)+'"]'),hasOption=$option.length>0;hasOption&&$option.hasClass(className.addition)&&(selectObserver&&(selectObserver.disconnect(),module.verbose("Temporarily disconnecting mutation observer")),$option.remove(),module.verbose("Removing user addition as an <option>",escapedValue),selectObserver&&selectObserver.observe($input[0],{childList:!0,subtree:!0}))},message:function(){$menu.children(selector.message).remove()},searchWidth:function(){$search.css("width","")},searchTerm:function(){module.verbose("Cleared search term"),$search.val(""),module.set.filtered()},userAddition:function(){$item.filter(selector.addition).remove()},selected:function(value,$selectedItem){return($selectedItem=settings.allowAdditions?$selectedItem||module.get.itemWithAdditions(value):$selectedItem||module.get.item(value))?void $selectedItem.each(function(){var $selected=$(this),selectedText=module.get.choiceText($selected),selectedValue=module.get.choiceValue($selected,selectedText);module.is.multiple()?settings.useLabels?(module.remove.value(selectedValue,selectedText,$selected),module.remove.label(selectedValue)):(module.remove.value(selectedValue,selectedText,$selected),0===module.get.selectionCount()?module.set.placeholderText():module.set.text(module.add.variables(message.count))):module.remove.value(selectedValue,selectedText,$selected),$selected.removeClass(className.filtered).removeClass(className.active),settings.useLabels&&$selected.removeClass(className.selected)}):!1},selectedItem:function(){$item.removeClass(className.selected)},value:function(removedValue,removedText,$removedItem){var newValue,values=module.get.values();module.has.selectInput()?(module.verbose("Input is <select> removing selected option",removedValue),newValue=module.remove.arrayValue(removedValue,values),module.remove.optionValue(removedValue)):(module.verbose("Removing from delimited values",removedValue),newValue=module.remove.arrayValue(removedValue,values),newValue=newValue.join(settings.delimiter)),settings.fireOnInit===!1&&module.is.initialLoad()?module.verbose("No callback on initial load",settings.onRemove):settings.onRemove.call(element,removedValue,removedText,$removedItem),module.set.value(newValue,removedText,$removedItem),module.check.maxSelections()},arrayValue:function(removedValue,values){return $.isArray(values)||(values=[values]),values=$.grep(values,function(value){return removedValue!=value}),module.verbose("Removed value from delimited string",removedValue,values),values},label:function(value,shouldAnimate){var $labels=$module.find(selector.label),$removedLabel=$labels.filter("[data-"+metadata.value+'="'+module.escape.string(value)+'"]');module.verbose("Removing label",$removedLabel),$removedLabel.remove()},activeLabels:function($activeLabels){$activeLabels=$activeLabels||$module.find(selector.label).filter("."+className.active),module.verbose("Removing active label selections",$activeLabels),module.remove.labels($activeLabels)},labels:function($labels){$labels=$labels||$module.find(selector.label),
module.verbose("Removing labels",$labels),$labels.each(function(){var $label=$(this),value=$label.data(metadata.value),stringValue=value!==undefined?String(value):value,isUserValue=module.is.userValue(stringValue);return settings.onLabelRemove.call($label,value)===!1?void module.debug("Label remove callback cancelled removal"):(module.remove.message(),void(isUserValue?(module.remove.value(stringValue),module.remove.label(stringValue)):module.remove.selected(stringValue)))})},tabbable:function(){module.is.searchSelection()?(module.debug("Searchable dropdown initialized"),$search.removeAttr("tabindex"),$menu.removeAttr("tabindex")):(module.debug("Simple selection dropdown initialized"),$module.removeAttr("tabindex"),$menu.removeAttr("tabindex"))}},has:{menuSearch:function(){return module.has.search()&&$search.closest($menu).length>0},search:function(){return $search.length>0},sizer:function(){return $sizer.length>0},selectInput:function(){return $input.is("select")},minCharacters:function(searchTerm){return settings.minCharacters?(searchTerm=String(searchTerm!==undefined?searchTerm:module.get.query()),searchTerm.length>=settings.minCharacters):!0},firstLetter:function($item,letter){var text,firstLetter;return $item&&0!==$item.length&&"string"==typeof letter?(text=module.get.choiceText($item,!1),letter=letter.toLowerCase(),firstLetter=String(text).charAt(0).toLowerCase(),letter==firstLetter):!1},input:function(){return $input.length>0},items:function(){return $item.length>0},menu:function(){return $menu.length>0},message:function(){return 0!==$menu.children(selector.message).length},label:function(value){var escapedValue=module.escape.value(value),$labels=$module.find(selector.label);return settings.ignoreCase&&(escapedValue=escapedValue.toLowerCase()),$labels.filter("[data-"+metadata.value+'="'+module.escape.string(escapedValue)+'"]').length>0},maxSelections:function(){return settings.maxSelections&&module.get.selectionCount()>=settings.maxSelections},allResultsFiltered:function(){var $normalResults=$item.not(selector.addition);return $normalResults.filter(selector.unselectable).length===$normalResults.length},userSuggestion:function(){return $menu.children(selector.addition).length>0},query:function(){return""!==module.get.query()},value:function(value){return settings.ignoreCase?module.has.valueIgnoringCase(value):module.has.valueMatchingCase(value)},valueMatchingCase:function(value){var values=module.get.values(),hasValue=$.isArray(values)?values&&-1!==$.inArray(value,values):values==value;return hasValue?!0:!1},valueIgnoringCase:function(value){var values=module.get.values(),hasValue=!1;return $.isArray(values)||(values=[values]),$.each(values,function(index,existingValue){return String(value).toLowerCase()==String(existingValue).toLowerCase()?(hasValue=!0,!1):void 0}),hasValue}},is:{active:function(){return $module.hasClass(className.active)},animatingInward:function(){return $menu.transition("is inward")},animatingOutward:function(){return $menu.transition("is outward")},bubbledLabelClick:function(event){return $(event.target).is("select, input")&&$module.closest("label").length>0},bubbledIconClick:function(event){return $(event.target).closest($icon).length>0},alreadySetup:function(){return $module.is("select")&&$module.parent(selector.dropdown).data(moduleNamespace)!==undefined&&0===$module.prev().length},animating:function($subMenu){return $subMenu?$subMenu.transition&&$subMenu.transition("is animating"):$menu.transition&&$menu.transition("is animating")},leftward:function($subMenu){var $selectedMenu=$subMenu||$menu;return $selectedMenu.hasClass(className.leftward)},disabled:function(){return $module.hasClass(className.disabled)},focused:function(){return document.activeElement===$module[0]},focusedOnSearch:function(){return document.activeElement===$search[0]},allFiltered:function(){return(module.is.multiple()||module.has.search())&&!(0==settings.hideAdditions&&module.has.userSuggestion())&&!module.has.message()&&module.has.allResultsFiltered()},hidden:function($subMenu){return!module.is.visible($subMenu)},initialLoad:function(){return initialLoad},inObject:function(needle,object){var found=!1;return $.each(object,function(index,property){return property==needle?(found=!0,!0):void 0}),found},multiple:function(){return $module.hasClass(className.multiple)},remote:function(){return settings.apiSettings&&module.can.useAPI()},single:function(){return!module.is.multiple()},selectMutation:function(mutations){var selectChanged=!1;return $.each(mutations,function(index,mutation){return mutation.target&&$(mutation.target).is("select")?(selectChanged=!0,!0):void 0}),selectChanged},search:function(){return $module.hasClass(className.search)},searchSelection:function(){return module.has.search()&&1===$search.parent(selector.dropdown).length},selection:function(){return $module.hasClass(className.selection)},userValue:function(value){return-1!==$.inArray(value,module.get.userValues())},upward:function($menu){var $element=$menu||$module;return $element.hasClass(className.upward)},visible:function($subMenu){return $subMenu?$subMenu.hasClass(className.visible):$menu.hasClass(className.visible)},verticallyScrollableContext:function(){var overflowY=$context.get(0)!==window?$context.css("overflow-y"):!1;return"auto"==overflowY||"scroll"==overflowY},horizontallyScrollableContext:function(){var overflowX=$context.get(0)!==window?$context.css("overflow-X"):!1;return"auto"==overflowX||"scroll"==overflowX}},can:{activate:function($item){return settings.useLabels?!0:module.has.maxSelections()?module.has.maxSelections()&&$item.hasClass(className.active)?!0:!1:!0},openDownward:function($subMenu){var calculations,$currentMenu=$subMenu||$menu,canOpenDownward=!0,onScreen={};return $currentMenu.addClass(className.loading),calculations={context:{offset:$context.get(0)===window?{top:0,left:0}:$context.offset(),scrollTop:$context.scrollTop(),height:$context.outerHeight()},menu:{offset:$currentMenu.offset(),height:$currentMenu.outerHeight()}},module.is.verticallyScrollableContext()&&(calculations.menu.offset.top+=calculations.context.scrollTop),onScreen={above:calculations.context.scrollTop<=calculations.menu.offset.top-calculations.context.offset.top-calculations.menu.height,below:calculations.context.scrollTop+calculations.context.height>=calculations.menu.offset.top-calculations.context.offset.top+calculations.menu.height},onScreen.below?(module.verbose("Dropdown can fit in context downward",onScreen),canOpenDownward=!0):onScreen.below||onScreen.above?(module.verbose("Dropdown cannot fit below, opening upward",onScreen),canOpenDownward=!1):(module.verbose("Dropdown cannot fit in either direction, favoring downward",onScreen),canOpenDownward=!0),$currentMenu.removeClass(className.loading),canOpenDownward},openRightward:function($subMenu){var calculations,$currentMenu=$subMenu||$menu,canOpenRightward=!0,isOffscreenRight=!1;return $currentMenu.addClass(className.loading),calculations={context:{offset:$context.get(0)===window?{top:0,left:0}:$context.offset(),scrollLeft:$context.scrollLeft(),width:$context.outerWidth()},menu:{offset:$currentMenu.offset(),width:$currentMenu.outerWidth()}},module.is.horizontallyScrollableContext()&&(calculations.menu.offset.left+=calculations.context.scrollLeft),isOffscreenRight=calculations.menu.offset.left-calculations.context.offset.left+calculations.menu.width>=calculations.context.scrollLeft+calculations.context.width,isOffscreenRight&&(module.verbose("Dropdown cannot fit in context rightward",isOffscreenRight),canOpenRightward=!1),$currentMenu.removeClass(className.loading),canOpenRightward},click:function(){return hasTouch||"click"==settings.on},extendSelect:function(){return settings.allowAdditions||settings.apiSettings},show:function(){return!module.is.disabled()&&(module.has.items()||module.has.message())},useAPI:function(){return $.fn.api!==undefined}},animate:{show:function(callback,$subMenu){var transition,$currentMenu=$subMenu||$menu,start=$subMenu?function(){}:function(){module.hideSubMenus(),module.hideOthers(),module.set.active()};callback=$.isFunction(callback)?callback:function(){},module.verbose("Doing menu show animation",$currentMenu),module.set.direction($subMenu),transition=module.get.transition($subMenu),module.is.selection()&&module.set.scrollPosition(module.get.selectedItem(),!0),(module.is.hidden($currentMenu)||module.is.animating($currentMenu))&&("none"==transition?(start(),$currentMenu.transition("show"),callback.call(element)):$.fn.transition!==undefined&&$module.transition("is supported")?$currentMenu.transition({animation:transition+" in",debug:settings.debug,verbose:settings.verbose,duration:settings.duration,queue:!0,onStart:start,onComplete:function(){callback.call(element)}}):module.error(error.noTransition,transition))},hide:function(callback,$subMenu){var $currentMenu=$subMenu||$menu,start=($subMenu?.9*settings.duration:settings.duration,$subMenu?function(){}:function(){module.can.click()&&module.unbind.intent(),module.remove.active()}),transition=module.get.transition($subMenu);callback=$.isFunction(callback)?callback:function(){},(module.is.visible($currentMenu)||module.is.animating($currentMenu))&&(module.verbose("Doing menu hide animation",$currentMenu),"none"==transition?(start(),$currentMenu.transition("hide"),callback.call(element)):$.fn.transition!==undefined&&$module.transition("is supported")?$currentMenu.transition({animation:transition+" out",duration:settings.duration,debug:settings.debug,verbose:settings.verbose,queue:!1,onStart:start,onComplete:function(){callback.call(element)}}):module.error(error.transition))}},hideAndClear:function(){module.remove.searchTerm(),module.has.maxSelections()||(module.has.search()?module.hide(function(){module.remove.filteredItem()}):module.hide())},delay:{show:function(){module.verbose("Delaying show event to ensure user intent"),clearTimeout(module.timer),module.timer=setTimeout(module.show,settings.delay.show)},hide:function(){module.verbose("Delaying hide event to ensure user intent"),clearTimeout(module.timer),module.timer=setTimeout(module.hide,settings.delay.hide)}},escape:{value:function(value){var multipleValues=$.isArray(value),stringValue="string"==typeof value,isUnparsable=!stringValue&&!multipleValues,hasQuotes=stringValue&&-1!==value.search(regExp.quote),values=[];return isUnparsable||!hasQuotes?value:(module.debug("Encoding quote values for use in select",value),multipleValues?($.each(value,function(index,value){values.push(value.replace(regExp.quote,"&quot;"))}),values):value.replace(regExp.quote,"&quot;"))},string:function(text){return text=String(text),text.replace(regExp.escape,"\\$&")}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:$allModules},$.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!1,throttle:300,context:window,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!1,allowAdditions:!1,ignoreCase:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:100,touch:50},onChange:function(value,text,$selected){},onAdd:function(value,text,$selected){},onRemove:function(value,text,$selected){},onLabelSelect:function($selectedLabels){},onLabelCreate:function(value,text){return $(this)},onLabelRemove:function(value){return!0},onNoResults:function(searchTerm){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .sf-times",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}},$.fn.dropdown.settings.fields.remoteValues="result",$("body").hasClass("rtl")&&($.fn.dropdown.settings.message={addResult:"افزودن <b>{term}</b>",count:"{count} انتخاب شده",maxSelections:"حداکثر {maxCount} انتحاب",noResults:"نتیجه‌ای یافت نشد.",serverError:"خطا در ارتباط با سرور"}),$.fn.dropdown.settings.templates={dropdown:function(select){var placeholder=select.placeholder||!1,html=(select.values||{},"");return html+='<i class="dropdown icon"></i>',html+=select.placeholder?'<div class="default text">'+placeholder+"</div>":'<div class="text"></div>',html+='<div class="menu">',$.each(select.values,function(index,option){html+=option.disabled?'<div class="disabled item" data-value="'+option.value+'">'+option.name+"</div>":'<div class="item" data-value="'+option.value+'">'+option.name+"</div>"}),html+="</div>"},menu:function(response,fields){var values=response[fields.values]||{},html="";return $.each(values,function(index,option){var maybeText=option[fields.text]?'data-text="'+option[fields.text]+'"':"",maybeDisabled=option[fields.disabled]?"disabled ":"";html+='<div class="'+maybeDisabled+'item" data-value="'+option[fields.value]+'"'+maybeText+">",html+=option[fields.name],html+="</div>"}),html},label:function(value,text){return text+'<i class="sf-times"></i>'},message:function(message){return message},addition:function(choice){return choice}}}(jQuery,window,document),function(root){"use strict";function render(obj){var focusBeforeChange=$(":focus"),pageContentChanged=null,needHardRefreshOnEmptyNew=!0;$window.trigger("navigate:render:start",obj),beforePushStateSiftal();var html=obj.html.trim();if(html.indexOf("data-xhr")===!1)return void location.replace(obj.url);if(obj.content&&$("body").attr("data-in")!==obj.content)return void location.replace(obj.url);var $html=$(html);""===obj.id&&(obj.id="home"),obj.id&&$("body").attr("id",obj.id),obj.id&&$("body").attr("data-page",obj.id),$window.trigger("navigate:render:filter:before",obj.filter);var filter=_.isArray(obj.filter)?'[data-xhr="'+obj.filter.join('"], [data-xhr="')+'"]':obj.filter?'[data-xhr="'+obj.filter+'"]':null;(filter?$html.filter(filter).add($html.find(filter)):$html).each(function(){var myNewXhrName=$(this).attr("data-xhr");if(myNewXhrName){needHardRefreshOnEmptyNew=!1;var $targetOnOldPage=$('[data-xhr="'+myNewXhrName+'"]');$targetOnOldPage.length>0&&$(this).html()!==$targetOnOldPage.html()&&(pageContentChanged=!0,$targetOnOldPage.after(this),$targetOnOldPage.remove())}}),needHardRefreshOnEmptyNew&&location.replace(obj.url),html&&(0===html.indexOf("<!DOCTYPE html>")||html.indexOf("<head>")>0)&&location.replace(obj.url),$window.trigger("navigate:render:filter:done",filter);var $title=$html.find("title");if($title.length&&$("head title").text($title.text()),obj.js){var scripts=obj.js;$window.trigger("navigate:render:scripts:before",obj.js),scripts.forEach(function(src){var $script=$('script[src="'+src+'"]');$script.length||($script=$("<script></script>"),$script.prop("async",!0),$script.prop("src",src),$window.trigger("navigate:render:script:created",$script),$(document.body).append($script),$window.trigger("navigate:render:script:appended",$script))}),$window.trigger("navigate:render:scripts:done")}pageContentChanged?$("input[autofocus]").length&&(focusBeforeChange.is($("input[autofocus]")[0])||$("input[autofocus]")[0].focus()):console.log("page is not changed, need hard redirect"),obj.title&&(document.title=obj.title),callFunc("pushStateSiftal",!1),$window.trigger("navigate:render:done")}function fetch(props,md5){$window.trigger("navigate:fetch:start",props,md5),$(document.body).addClass("loading-page"),callFunc("loading_page",!0);var options=$.extend(!0,{},props.ajax,{url:props.url}),deferred=new jQuery.Deferred;props.abort&&$.xhrPool.abortAll();$.ajax(options).done(function(res){$window.trigger("navigate:fetch:ajax:start",options);var json,html,jsonExpected="{"===res[0];try{var n=res.indexOf("\n");if(n=-1===n?void 0:n,json=JSON.parse(res.slice(0,n)),json&&json.debug&&notifGenerator(json.debug),html=res.slice(n),_.extend(json,{html:html}),json.options){var $options=$("#options-meta");$options.putData(json.options)}}catch(e){return jsonExpected&&notif("error","There was an error in parsing JSON!"),deferred.reject(),location.replace(props.url)}$window.trigger("navigate:fetch:ajax:done",json).trigger("navigate:fetch:done",json),deferred.resolve(json),$(document.body).removeClass("loading-page"),callFunc("loading_page",!1)}).error(function(_result,b,c){_result&&_result.responseJSON&&notifGenerator(_result.responseJSON),$window.trigger("navigate:fetch:ajax:error",_result,b,c)});return deferred.promise()}function Navigate(obj){var deferred=new jQuery.Deferred,props=$.extend(!0,{},defaults,obj);if($window.trigger("navigate:start",props),obj.fake)return deferred.resolve(),obj.nostate||root.history[props.replace?"replaceState":"pushState"](props,props.title,props.url),$window.trigger("statechange"),deferred.promise();if(obj.html)return render(props),deferred.resolve(),obj.nostate||root.history[props.replace?"replaceState":"pushState"](props,props.title,props.url),$window.trigger("statechange"),deferred.promise();var md5=LS.get(props.url);return props.md5=md5,fetch(props).then(function(data){_.extend(props,data),obj.nostate||root.history[props.replace?"replaceState":"pushState"](props,props.title,props.url),props.data||render(_.extend({},props,{html:data.html})),$window.trigger("statechange"),$("body").removeClass("loading-page"),callFunc("loading_page",!1),deferred.resolve(props)}),deferred.promise()}var $window=$(window),defaults={html:"",title:null,url:"/",replace:!1,filter:null,fake:!1,data:!1,nostate:!1,abort:!0,ajax:{type:"get"}};$.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(idx,jqXHR){jqXHR.abort()}),$.xhrPool.length=0},$.ajaxSetup({beforeSend:function(jqXHR){$.xhrPool.push(jqXHR),NProgress.start()},xhr:function(){var xhr=new window.XMLHttpRequest;return xhr.addEventListener("progress",function(evt){if(evt.lengthComputable){var percentComplete=evt.loaded/evt.total;percentComplete>0&&1>percentComplete&&NProgress.set(percentComplete),logy(percentComplete)}},!1),xhr},complete:function(jqXHR){var index=$.xhrPool.indexOf(jqXHR);index>-1&&$.xhrPool.splice(index,1),NProgress.done(!0)}}),window.onpopstate=function(e){var state=e.state;return state?(e.preventDefault(),state.html?(render(state),$window.trigger("statechange")):(logy(state),fetch(state).then(function(data){var props=_.extend(!0,{},state,data.json);render(_.extend({},props,{html:data.html})),$window.trigger("statechange")})),!1):!0},history.state||Navigate({url:location.href,fake:!0,replace:!0}),root.Navigate=Navigate}(this),function($){"use strict";function unlockForm(_locked){_locked&&$("input, button, textarea, [contenteditable], [data-ajaxify]").removeAttr("disabled"),$("body").removeClass("loading-form"),callFunc("loading_form",!1)}var defaults={ajax:{type:void 0,url:void 0,processData:!1,contentType:!1,dataType:"json",cache:!1,abort:!1,async:!0,beforeSend:function(request){request.setRequestHeader("accept","application/json")}},noLoading:!1,lockForm:!0},requests=[];$.fn.ajaxify=function(options){function send($this){$form.trigger("ajaxify:send:before",_super);var ajaxOptions,elementOptions={type:_super.link?$this.attr("data-method")||"get":$this.prop("method")||$this.attr("data-method"),url:(_super.link?$this.prop("href"):$this.prop("action")||$this.attr("data-action"))||location.href},ajax=_.extend(_super.ajax,elementOptions);if(_super.link){try{var data=JSON.parse($this.attr("data-data"));ajaxOptions=_.extend(ajax,{data:data,contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0})}catch(e){ajaxOptions=ajax}_super.lockForm&&$("[data-ajaxify]").attr("disabled","")}else{if($this.is("form"))var fd=new FormData($this.get(0));else var fd=new FormData;$this.find("button[name][data-clicked]").each(function(){this.getAttribute("name")&&fd.append(this.getAttribute("name"),this.value),$(this).removeAttr("data-clicked")});for(var formName in ajax.data)fd.append(formName,ajax.data[formName]);if(ajaxOptions=_.extend(ajax,{data:fd}),"get"===ajaxOptions.type&&$this.serialize())return void Navigate({url:ajaxOptions.url+"?"+$this.serialize()});_super.lockForm&&$this.find("input, button, textarea, [contenteditable], [data-ajaxify]").attr("disabled","")}var refresh=ajaxOptions.refresh||void 0!==$this.attr("data-refresh"),autoClose=ajaxOptions.autoClose||void 0!==$this.attr("data-autoClose");_super.noLoading||($("body").addClass("loading-form"),callFunc("loading_form",!0)),$form.trigger("ajaxify:send:ajax:start",ajaxOptions);var myXhr=$.ajax(ajaxOptions).done(function(data,status,xhr){if(_super.results=data,$.fn.ajaxify.showResults(data,$this,_super),autoClose){var closeAfter=0;$this.attr("data-autoClose")&&(closeAfter=$this.attr("data-autoClose")),notif("info","Auto close"),setTimeout(function(){window.close()},closeAfter)}if(unlockForm(_super.lockForm),data&&data.redirect){var a=$('<a href="'+data.redirect+'"></a>');return void(a.isAbsoluteURL()||data.direct?location.replace(data.redirect):Navigate({url:data.redirect}))}refresh&&Navigate({url:location.href,replace:!0}),$form.trigger("ajaxify:success",data,status,xhr)}).fail(function(xhr,status,error){$form.trigger("ajaxify:fail",xhr,status,error),unlockForm(_super.lockForm)}).always(function(a1,a2,a3){$form.trigger("ajaxify:complete",a1,a2,a3)});if(ajaxOptions.abort){requests.push(myXhr);for(var i=0;i<requests.length-1;i++)requests[i].abort()}}var $form=$(this);$.extend(!0,this,defaults,options),$form.trigger("ajaxify:init",this);var _super=this;_super.lockForm&&$(":focus").attr("data-hasFocus",!0),send.call(_super,$form.first())},$.fn.ajaxify.showResults=function(data,$form,_super){$form.trigger("ajaxify:render:start",data,$form,_super);var notifResult=notifGenerator(data,$form);$form.trigger("ajaxify:render:done",data,$form,_super),notifResult.error||void 0===$form.attr("data-clear")||$form.find("input, select, textarea, [contenteditable]").not("[data-unclear]").not("[type=checkbox]").val(""),$form.trigger("ajaxify:render:clear",data,$form,_super),notifResult.error||setTimeout(function(){$form.find("input[data-get-focus]").get(0)?$form.find("input[data-get-focus]").get(0).select():_super.lockForm&&($("[data-hasFocus]").focus(),$("[data-hasFocus]").attr("data-hasFocus",null))},100),$form.trigger("ajaxify:render:focus",data,$form,_super)}}(jQuery),clockHMRunner(),checkLifeOfPage(),$(document).ready(function(){$(document).keydown(function(e){switch(e.keyCode){case 13:void 0!==$(":focus").parents("form").attr("disallowEnter")&&e.preventDefault();break;case 27:$("input").blur();break;case 112:e.ctrlKey&&toggleLogy()}}),$(document).on("submit","form",function(e){0!==$("[data-xhr]").length&&($(this).hasAttr("data-action")||(e.preventDefault(),$(this).ajaxify()))}),$(document).on("click","[data-ajaxify]",function(e){void 0===$(this).attr("data-continue")&&e.preventDefault(),void 0!==$(this).attr("data-fn")&&callFunc($(this).attr("data-fn"),this),$(this).ajaxify({link:!0})}),$(document).on("click","[data-confirm]",function(e){notifConfirm($(this))}),$(document).on("click","button[name]",function(e){$(this).attr("data-clicked","")}),$(document).on("keypress",'input[type="date"],\r\n    input[type="datetime-local"],\r\n    input[type="number"],\r\n    input[type="tel"],\r\n    input#mobile',function(e){var disallowInput=!1;if("number"===$(this).attr("type")&&$(this).attr("max")&&this.value.length>=$(this).attr("max").length&&13!==e.which)disallowInput=!0;else if(e.which>=1776&&e.which<=1785){e.preventDefault();var val="",key=String.fromCharCode(e.which);try{var start=this.selectionStart,end=this.selectionEnd;null===start&&null===end&&(start=this.value.length,end=this.value.length),val=this.value.slice(0,start)+key.toEnglish()+this.value.slice(end)}catch(e){val=this.value+key.toEnglish()}this.value=val}else e.which>=48&&e.which<=57||(46==e.which?this.value.indexOf(".")>=0&&(disallowInput=!0):0===e.which||8===e.which||13===e.which||e.ctrlKey||(disallowInput=!0));return disallowInput?(e.preventDefault(),$this=$(this),$this.addClass("error"),setTimeout(function(){$this.removeClass("error")},500),!1):void 0}),$(document.body).on("click","a",function(e){var $this=$(this);if(0!==$("[data-xhr]").length&&!("_blank"===$this.attr("target")||$this.hasAttr("data-ajaxify")||$this.hasAttr("data-action")||$this.hasAttr("data-direct")||$this.hasAttr("data-modal")||$this.isAbsoluteURL()||(e.preventDefault(),!$this.attr("href")||$this.attr("href").indexOf("#")>-1))){var href=$this.attr("href");return href.indexOf("lang=")>-1?location.replace(href):void Navigate({url:href,fake:!!$this.attr("data-fake")})}})}),$(document).ready(function(){pushStateSiftal(!0),inputChecker()});